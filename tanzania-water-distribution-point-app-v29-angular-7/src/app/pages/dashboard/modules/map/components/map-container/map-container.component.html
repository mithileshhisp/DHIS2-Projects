<div class="map-container">
  <h6 class="text-center map-title">
    <div class="title-span">{{ visualizationObject.mapConfiguration.name }}</div>
    <div class="title-span" style="font-size: 12px; font-weight: lighter;">
      {{ visualizationObject.mapConfiguration.subtitle }}
    </div>
  </h6>
  <div class="map-block__left place_bottom_on_print">
    <ul class="map-controls__list hide_on_print">
      <li>
        <button class="map-controls__btn" title="Zoom Out" (click)="zoomOut($event)">
          <img src="assets/icons/minus.png" />
        </button>
      </li>
      <li>
        <button class="map-controls__btn" title="Home" (click)="recenterMap($event)">
          <img src="assets/icons/home.png" />
        </button>
      </li>
      <li>
        <button class="map-controls__btn" title="Zoom In" (click)="zoomIn($event)">
          <img src="assets/icons/plus.png" />
        </button>
      </li>
    </ul>
    <div class="map-layers__block">
      <button class="map-layers__btn" (mouseenter)="toggleLegendContainerView()">
        <img src="assets/icons/layers.png" />
      </button>
      <div
        class="visualization-legend__container"
        *ngIf="(baseLayerLegend$ | async)"
        [ngStyle]="{ 'max-height': 'calc(' + mapHeight + ' - 150px)' }"
        (mouseleave)="toggleLegendContainerView()"
      >
        <div [ngClass]="{ 'hide-legend': !(visualizationLegendIsOpen$ | async) }">
          <app-visualization-legend
            [mapVisualizationObject]="visualizationObject"
            [baseLayerLegend]="baseLayerLegend$ | async"
          ></app-visualization-legend>
        </div>
      </div>
    </div>
  </div>
  <div id="map-view-port-{{ visualizationObject.componentId }}" style="width:100%; height: 100%;"></div>
  <div
    class="warning-map"
    *ngIf="!mapHasGeofeatures && mapHasDataAnalytics"
    [ngStyle]="{ height: displayConfigurations.itemHeight }"
  >
    <img src="assets/icons/map.png" alt="" />
    <h4>Sorry, this map has no associated geofeatures</h4>
  </div>
  <!-- <div class="warning-map" *ngIf="!mapHasDataAnalytics" [ngStyle]="{'height': displayConfigurations.itemHeight}">
    <img src="assets/icons/map.png" alt="">
    <h4>Sorry, this map has no data to visualize</h4>
  </div> -->
</div>
<app-data-table
  class="map-data-table"
  *ngIf="(isDataTableOpen$ | async)"
  [mapVisualizationObject]="visualizationObject"
></app-data-table>
