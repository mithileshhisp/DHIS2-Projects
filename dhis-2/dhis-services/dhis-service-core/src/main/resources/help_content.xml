<book>
<chapter>
<title>Settings</title>
<para>The settings module provides a set of application configuration options. There are two main groups of settings: the <emphasis role="italic">system settings</emphasis> apply to the whole system and all its users while the <emphasis role="italic">user settings</emphasis> apply to the environment of the currently logged in user.</para>
<section>
<title>User settings</title>
<para>The user settings section provides general configuration options and options specifically for email.</para>
<section id="userGeneralSettings">
<title>User general settings</title>
<itemizedlist>
<listitem>
<para>Interface language: Sets the locale / language of the user interface, such as labels, menus and headers. You can currently select between 18 languages.</para>
</listitem>
<listitem>
<para>Database language: Sets the locale / language of the database contents in the system, such as the list of data elements and reports</para>
</listitem>
<listitem>
<para>Sort order property: Sets the property on which the sorting of the element lists is based in the system, such as the list of data elements and indicators. Available properties are name, short name, alternative name and code. For instance, if you set the sort order property to short name, all lists will be sorted based on the short name property. You can also do manual sorting of all lists by going to the desired list and click "sort" and perform the sorting. This sorting can then be enabled by selecting custom as the sort order property.</para>
</listitem>
<listitem>
<para>Display property: Sets the property which will be displayed in the element lists in the system, such as the list of data sets.</para>
</listitem>
<listitem>
<para>Style: Sets the style / look-and-feel of the system. You can choose among four different styles while the light blue style is the default and recommended style. The user setting over rides the corresponding style system setting.</para>
</listitem>
<listitem>
<para>Dashboard charts to display: Sets the number of charts to display on the front page of the dashboard module. For small screens, four charts are recommended while eight charts are recommended for widescreens.</para>
</listitem>
</itemizedlist>
</section>
 </section>
<section>
<title>System settings</title>
<para>The system settings section provides general configuration options and options specifically for appearance and email.</para>
<section id="systemGeneralSettings">
<title>System general settings</title>
<itemizedlist>
<listitem>
<para>Aggregation strategy: This setting defines how the system generates and provides aggregated data to the output tools. There are two options available: <emphasis role="italic">Batch</emphasis> means that all output tools like reports, charts and maps will read aggregate data from pre-built data mart tables in the database. This strategy provides the best performance and inflicts less load on the application since data retrieval only implies reading from one or a few database tables using a simple query.</para>
<para>This strategy requires that those data mart tables are populated with the relevant data before the reports are requested. This can preferably be done using nightly scheduled jobs or manually through the data mart user interface. A potential downside is that users will have to wait to the next day to view their reports after doing data entry. This approach is the recommended for large online deployments where there are medium to high user concurrency.</para>
<para><emphasis role="italic">Real-time</emphasis> means that aggregated data is generated and retrieved on-the-fly every time a report is requested. This implies that there is no delay after doing data entry before the data is accessible in reports. Performance will not scale adequately and hence this strategy is suitable for small, typically offline, deployments.</para>
</listitem>
<listitem>
<para>Infrastructural data elements: This setting defines a data element group where the member data elements should describe data about the infrastructure of geographic locations. Examples of such infrastructural data elements could be population, doctors, beds, internet connectivity and climate. This infrastructural data can currently be viewed in the GIS module in the station information sheet.</para>
</listitem>
<listitem>
<para>Infrastructural period type: Sets the frequency for which the data elements in the infrastructural data elements group are captured. This will typically be yearly. When viewing the infrastructural data you will be able to select the time period of the data source.</para>
</listitem>
<listitem>
<para>Feedback recipients: This setting defines a user group where the members will receive all messages being sent through the function for writing feedback in the dashboard module. This will typically be members of the super user team who are able to support and answer questions coming from end-users.</para>
</listitem>
<listitem>
<para>Completeness notification recipients: This setting defines a user group where the members will receive messages as notifications when a form has been marked as complete. A typical use of this is when the forms are considered to be an order of some commodity and a group of users want to be notified when such orders are placed.</para>
</listitem>
<listitem>
<para>Omit indicator values with zero numerator value in data mart: Defines whether aggregated indicator values with zero as the numerator value should be written to the indicator data mart table. Having such values written is required for instance when connecting Excel pivot tables to the data mart as Excel will need the numerator data to correctly aggregate up in the geographic location hierarchy. If third-party tools like Excel are not used with the application this will reduce the total number of values written to the data mart (which again will improve performance) and could safely be set to omit.</para>
</listitem>
<listitem>
<para>Disable data entry when data set completed: This setting defines whether the data entry forms should be disabled and prevent from further entry after they have been marked as complete.</para>
</listitem>
<listitem>
<para>Data analysis std dev factor: Sets the number of standard deviations for use in the outlier analysis performed on the captured data in the data entry module. The default value is 2; a high value will catch less outlier values than a low value.</para>
</listitem>
<listitem>
<para>Days after period end to qualify for timely data submission: Sets the number of days after the end of a period in which a data entry form must be marked as complete in order to be considered timely. This affects the &quot;reporting rate&quot; tool in the reporting module which lists forms marked as complete as well as marked as complete in time. The default value is 15.</para>
</listitem>
</itemizedlist>
</section>
<section id="systemAppearanceSettings">
<title>System appearance settings</title>
<itemizedlist>
<listitem>
<para>Application title: Sets the application title to the left on the top menu.</para>
</listitem>
<listitem>
<para>Style: Sets the style / look-and-feel of the system. The corresponding user style setting overrides this.</para>
</listitem>
<listitem>
<para>Flag: Sets the flag which is displayed in the left menu of the dashboard module.</para>
</listitem>
<listitem>
<para>Start page: Sets page / module which the user will be redirected to after logging in. The dashboard module is the recommended start module.</para>
</listitem>
</itemizedlist>
</section>
<section id="systemEmailSettings">
<title>System email settings</title>
<itemizedlist>
<listitem>
<para>Host name: Refers to the host name of the SMTP server. For instance when using Google SMTP services this should be smtp.gmail.com.</para>
</listitem>
<listitem>
<para>User name: The user name of the user account with the SMTP server. For instance mail@fsnis.org.</para>
</listitem>
<listitem>
<para>Password: The password of the user account with the SMTP server.</para>
</listitem>
</itemizedlist>
</section>
</section>
</chapter>
<chapter>
<title>Using Data Quality functionality</title>
<para>The data quality provides means to improve the accuracy and reliability of the data in the system. This can be done through validation rules and various statistical checks. All the functionality described below can be ensured that the data entered in FSNIS follows basic data quality standards.</para>
<section>
<title>Overview of data quality checks</title>
<para>Ensuring data quality is a key concern in building an effective FSNIS. Data quality has different dimensions including:</para>
<itemizedlist>
<listitem>
<para><emphasis>Correctness:</emphasis> Data should be within the normal range for data collected at that geographic location. There should be no gross discrepancies when compared with data from related data elements.</para>
</listitem>
<listitem>
<para><emphasis>Completeness:</emphasis> Data for all data elements for all geographic locations should have been submitted.</para>
</listitem>
<listitem>
<para><emphasis>Consistency:</emphasis> Data should be consistent with data entered during earlier months and years while allowing for changes with reorganization, increased work load, etc. and consistent with other similar stations.</para>
</listitem>
<listitem>
<para><emphasis>Timeliness:</emphasis> All data from all reporting geographic locations should be submitted at the appointed time.</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Data quality checks</title>
<para>Data quality checking can be done through various means, including:</para>
<orderedlist>
<listitem>
<para>At point of data entry, the software can check the data entered to see if it falls within the min-max ranges of that data element (based on all previous data registered).</para>
</listitem>
<listitem>
<para>Defining various validation rules, which can be run once the user has finished data entry. The user can also check the entered data for a particular period and geographic location (s) against the validation rules, and display the violations for these validation rules. </para>
</listitem>
<listitem>
<para>Analysis of data sets, i.e. examining gaps in data.</para>
</listitem>
<listitem>
<para>Data triangulation which is comparing the same data or indicator from different sources.</para>
</listitem>
</orderedlist>
</section>
<section id="validationRuleAnalysis">
<title>Running Validation Rule Analysis</title>
<para>A validation rule is based on an expression which defines a relationship between a number of data elements. The expression has a left side and a right side and an operator which defines whether the former must be less than, equal to or greater than the latter. The expression forms a condition which should assert that certain logical criteria are met. For instance, a validation rule could assert that the total number of vaccines given to infants is less than or equal to the total number of infants.</para>
<para>The validation rule analysis function will test validation rules against the data registered in the system. Validation violations will be reported in cases where the condition defined through the validation rule expression is not met, ie. the condition is false.</para>
<para><emphasis role="bold">Selecting what data to validate:</emphasis> </para>
<para>First, enter a start date and an end date for which data should be included in the analysis. The date picker widget may be used to select dates. </para>
<para>Second, choose between including all validation rules or all validation rules from a single group. </para>
<para>Third, choose between including the selected geographic location only or the selected geographic location with all children in the analysis. Fourth, select the geographic location. Finally, click <emphasis role="italic">validate</emphasis>.</para>
<screenshot>
<screeninfo>Run validation rule selection</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/run_validation_rules_selection.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Validation results:</emphasis></para>
<para>The analysis process will run for a while depending on the amount of data that is being analysed. If there were no violations of the validation rules a message saying <emphasis role="italic">validation passed successfully</emphasis> is displayed. </para>
<para>If validation violations were found, they will be presented in a list. The geographic location, period, left side description and value, operator, and right side value and description for each validation violation are displayed. </para>
<para>The show details icon can be clicked in order to get more information about a validation violation. This will open a pop up screen that provides information about the data elements included in the validation rules and their corresponding data values. This information can be used in order to fix incorrect data.</para>
<para>The validation violations can be exported to a PDF document by clicking on the Download as PDF button, and to a Microsoft Excel workbook by clicking on the Download as Excel button.</para>
<screenshot>
<screeninfo>Run validation rule results</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/validation_rule_result.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="stddevoutlierAnalysis">
<title>Std Dev Outlier Analysis</title>
<para>The standard deviation based outlier analysis provides a mechanism for revealing values that are numerically distant from the rest of the data. Outliers can occur by chance, but they often indicate a measurement error or a heavy-tailed distribution (leading to very high numbers). In the former case one wishes to discard them while in the latter case one should be cautious in using tools or interpretations that assume a normal distribution. The analysis is based on the standard normal distribution.</para>
<para><emphasis role="bold">Select what data to analyse:</emphasis></para>
<para>First, select the from and to date for the data to include in the analysis. </para>
<para>Second, select the data set from which to pick data elements from. </para>
<para>Third, select all or some of the data elements in the data set by double-clicking or marking them and clicking the add/remove buttons. </para>
<para>Fourth, select the parent geographic location to use. All children of the geographic location will be included. </para>
<para>Fifth, select the number of standard deviations. This refers to the number of standard deviations the data is allowed to deviate from the mean before it is classified as an outlier.</para>
<screenshot>
<screeninfo>Outlier analysis rule selection</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/outlier_analysis_selection.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Analysis result:</emphasis></para>
<para>The potential outlier values discovered will be presented in a list after the analysis process is finished. The data element, geographic location, period, minimum value, actual value, and maximum value will be displayed for each outlier. The minimum and maximum values refer to the border values derived from the number of standard deviations selected for the analysis. </para>
<para>Each outlier value can be modified directly in the analysis result page. The value can be modified by clicking inside the corresponding field in the value column, entering a value and then navigate away from that field either by clicking tab or anywhere outside the field. The system will provide an alert if the value is still outside the defined minimum and maximum values, but the value will saved in any case. The field will have a red background color if the value is outside the range, and a green if inside. </para>
<para>Each outlier value can be marked for further follow-up by clicking the star icon.</para>
</section>
<section id="minmaxoutlierAnalysis">
<title>Min-Max Outlier Analysis</title>
<para>The min-max value based outlier analysis provides a mechanism for revealing values that are outside the pre-defined minimum and maximum values. Minimum and maximum values can be custom defined or automatically defined by the system in the data administration module. See the section about Std dev outlier analysis for further details on usage.</para>
</section>
<section id="gapAnalysis">
<title>Gap Analysis</title>
<para>The gap analysis provides a mechanism for revealing gaps in the data. A gap exists for a specific data element and geographic location. A gap is a period with preceding and succeeding periods which have registered data values, but without registered data values itself. Such a gap might indicate a data capture error or omission and could be further investigated. See the section about Std dev outlier analysis for further details on usage.</para>
</section>
<section id="followupAnalysis">
<title>Follow-Up Analysis</title>
<para>The follow-up analysis function will list all data values which are marked for follow-up. A data value can be marked for follow-up in the data entry module and in the other validation analysis variants in this module.</para>
</section>
</chapter>
<chapter>
<title>Datasets and data entry forms</title>
<section id="datasets">
<title>Datasets</title>
<para>All data entry in FSNIS is organised through the use of datasets. You can add and edit datasets in Maintenance-&gt;Datasets. A dataset is a collection of data elements grouped together for data collection and data export between instances of FSNIS (e.g. from a district office local installation to a national server). .</para>
<para>A dataset also has a frequency which controls the data collection frequency, which can be daily, weekly, monthly, quarterly, six-monthly, or yearly. Both which data elements to include in the dataset and the frequency is set in the Add/Edit Dataset window, together with a name, short name, and code. In order to use a dataset to collect data for a specific geographic location you must assign the geographic location to the dataset and this mechanism controls which geographic locations that can use which datasets. </para>
<para>Datasets also are assigned to specific geographic location which will be allowed to enter data for all data elements in a given dataset. You can assign geographic locations to a dataset in the Dataset Management (list of available datasets are shown) by clicking on the blue folder icon, the first icon under Operations, corresponding to the dataset you would like to modify. Alternatively you can manage geographic location assignments for all datasets together in the Dataset Assignment Editor (available in the right-side menu for Datasets). </para>
<para>Your dataset will then be ready to be used in Services-&gt;Data Entry for the geographic locations that you have assigned and for periods according to your selected frequency (period type).</para>
<section id="dataSet">
<title>Dataset management</title>
<para>The dataset management function allows you to create new datasets and manage existing ones. The dialog can be reached by choosing Maintenance-&gt;Datasets-&gt;Dataset. A sample dialog is displayed below.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/datasets/datasets_0.png"/>
</imageobject>
</mediaobject>
</screenshot>
<itemizedlist>
<para>Each of the functions is described below.</para>
<listitem>
<para>Sort: This controls the custom sort order. Depending on the systems settings, users will see the datasets ordered in the specific order which you provide. </para>
</listitem>
<listitem>
<para>Add new: Adds a new dataset. When pressing this button, you can create a new dataset. You need to provide a name, shortname and frequency. The &quot;Code&quot; attribute is optional. Data elements can be added to the &quot;Selected data element&quot; list by selecting them individually. and pressing the <inlinegraphic fileref="resources/images/FSNIS_images/move_right.png"/> button. Indicators can also be added to data sets and will be available to be placed in custom data entry forms when they need to be shown along with data elements on the same data entry form. Press &quot;Save&quot; to add the new dataset. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/FSNIS_images/assign.png"/> Assign geographic locations to datasets: This function will allow you to assign individual geographic location to a dataset. Only those geographic locations which have been assigned to a dataset will be allowed to enter data into the dataset. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/FSNIS_images/edit.png"/> Edit dataset: This will allow you to edit existing datasets, for instance when you need to add or remove data elements and indicators to a given dataset.</para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/FSNIS_images/i18n.png"/> Translate: Allows you to translate the name of a dataset to a different language.</para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/FSNIS_images/edit_layout.png"/> Create or edit a custom data entry form. Refer to <xref linkend="customDataEntryForms"/> for detailed information of how to use this function. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/FSNIS_images/edit_compulsory_data_elements.png"/> Edit compulsory data elements: This dialog will allow you to add or remove data elements which will be marked as compulsory during data entry. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/FSNIS_images/delete.png"/> Delete: Completely removes a dataset from the system. </para>
<warning>
<para>Any dataset which is deleted from the system, is irrevocably lost. All data entry forms, and section forms which may have been developed will also be removed. Ensure that you have made a backup of your database before deleting any dataset in case you need to restore it at some point in time.</para>
</warning>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/FSNIS_images/information.png"/> Information: Display some informative content about the dataset, including the number of data elements, the frequency, and which data entry form has been assigned to the dataset.</para>
</listitem>
</itemizedlist>
</section>
</section>
<section>
<title>Data Entry Forms</title>
<para>Once you have assigned a dataset to an geographic location that dataset will be made available in Data Entry (under Services) for the geographic locations you have assigned it to. A default data entry form will then be shown, which is simply a list of the data elements you belonging to the dataset together with a column for inputting the values. If your dataset contains data elements with a non-default category combination, such as age groups or gender then additional columns will be automatically generated in the default form based on the different options/dimensions. </para>
<para>If you use more than one data element category combination you will get multiple columns in the data entry form with different column headings for the options. In addition to the default list-based data entry form there are two more alternatives, the section-based form and the custom form.</para>
<section>
<title>Section forms</title>
<para>Section forms allow for a bit more flexibility when it comes to using tabular forms and are quick and simple to design. Often your data entry form will need multiple tables with subheadings, and sometimes you need to disable (grey out) a few fields in the table, both of these functions are supported in section forms. This function can be access by choosing Maintenance-&gt;Dataset Section. </para>
</section>
<section id="dataSetSection">
<title>Adding a new section form</title>
<para>Section forms are separated automatically by data element category combinations, which produces a spreadsheet like data entry form for each section. </para>
<para>When designing a section form the procedure is as follows:</para>
<orderedlist>
<listitem>
<para> Set up your dataset as described in <xref linkend="datasets"/></para>
</listitem>
<listitem>
<para>Open the DataSet Section window (from right side menu under Datasets) and add your sections one by one. To add a new section to a section form, first choose the dataset from the &quot;Select dataset&quot; combo box. Then choose the specific category combo and press &quot;Add new&quot;. You can now add data elements from the &quot;Available data element&quot; list on the left to the &quot;Selected data elements&quot; list on the right. Data elements can be sorted within the section with the use of the &quot;Move up&quot; <inlinegraphic fileref="resources/images/FSNIS_images/move_up.png"/> and &quot;Move down&quot; <inlinegraphic fileref="resources/images/FSNIS_images/move_down.png"/> buttons. Be sure to press &quot;Save&quot; once you have finished.<note>
<para>You can only use one data element category combination per section. </para>
</note></para>
</listitem>
<listitem>
<para> You may need to control how the data element sections are displayed on the final form. In Dataset Section management, select the dataset from the &quot;Dataset&quot; drop-down box, then leave [All] in the &quot;Select Category Combo&quot; drop-down. Click on &quot;Sort section&quot; to sort the order of appearance of your sections in the data entry form.</para>
</listitem>
<listitem>
<para>In Data Entry you can now start using the Section form (should appear automatically when sections are available for the selected dataset). Datasets which have section forms will automatically display the section form.</para>
</listitem>
<listitem>
<para>Certain data elements may need to be disabled for data entry. Clicking on the <inlinegraphic fileref="resources/images/FSNIS_images/edit_layout.png"/> &quot;Section grey field management&quot; icon will allow you to disable specific data element category options as seen below. Pressing the &quot;Disable&quot; button will prevent data from being entered into this specific data element/category option during data entry. Be sure to press &quot;Done&quot; to save your changes.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="resources/images/datasets/grey_field_management.png" align="center" width="60%"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
</orderedlist>
<para>A sample section form is displayed in the next figure. Notice how each data element category has been separated into a separate section, and a data entry table has been automatically generated by the system. Use of section forms in combination with data element categories can drastically reduce the amount of time which is required to create data entry forms for datasets.</para>
<screenshot>
<screeninfo>Section form example</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/section_form.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="customDataEntryForm">
<title>Custom Forms</title>
<para>When the form you want to design is too complicated for the default or section forms then your last option is to use a custom form. This takes more time, but gives you full flexibility in term of the design. FSNIS uses a built-in HTML editor (FcK Editor) for the form designer and you can either design the form in the UI or paste in your HTML directly (using the Source window in the editor). A complete reference for use of the editor can be found <ulink url="http://docs.cksource.com/CKEditor_3.x/Users_Guide">here</ulink>.</para>
<para>One of the big advantages of custom forms, is that they can be created to mimic existing paper aggregation forms. This makes data entry much easier for users and should reduce the number of data elements which are incorrectly entered, as they are more easily identifiable when entering data from a paper form. </para>
<para>Once a custom form has been added to a dataset it will be available in data entry and used automatically. </para>
<note>
<para>Custom forms are preferentially displayed over section forms. If a dataset has both the section form and a custom form, the custom form will be displayed during data entry. Users will not be able to select which method they wish to input data, so be sure that your custom form contains all data elements which may be required.</para>
</note>
<para>To add a custom form design to a dataset then first locate your dataset in the Dataset Management window and click on the Design data entry form icon under Operations (the fifth icon), see the mouse-over text to be sure.</para>
<para>First provide a Name for the form. There are a few important buttons in the Editor that you must pay special attention to. The blue monitor icon is the full screen mode on/off button, which can be very useful. Then, there is a Source button that shows the HTML code for your form. </para>
<para>If you already have the HTML for your form then you should start by pasting it in here. Click on Source again to go back to preview/non-HTML mode. Then there is an icon in the top right corner with a + sign on it, this will open a list of available data elements to add to your form, the Data Element Selector window. </para>
<para>All the input fields need to have a link to a data element or indicator. To add new data elements to the form, double-click them from the data element/indicator box as shown below. You can also select a data element/indicator and press the &quot;+Insert&quot; button. You can switch between either data elements or indicators by pressing the respective buttons.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="50%" align="center" fileref="resources/images/datasets/custom_forms_data_elements.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>You can do intermediary saving by clicking on the Save button and this will not close the window. It is recommended to save often to ensure you do not loose your work. </para>
<para>When you are done or want to test your form in data entry click on &lt;Save and close&gt;.</para>
</section>
<section id="dataSetAssignmentEditor">
<title>Data set assignment editor</title>
<para>The data set assignment editor is a tool for adding and removing many data sets to geographic locations in batch style. Start by selecting a geographic location from the selection tree. In the area below the tree a grid will be displayed showing all data sets as columns and the child geographic locations as rows.</para>
<para>From the grid you can now assign or unassign data sets simply by clicking on of the corresponding icons in the grid. If you want to assign or unassign a geographic location to all data sets you can check or uncheck the check box next to the geographic location. Your changes will automatically be saved.</para>
</section>
</section>
</chapter>
<chapter>
<title>Geographic Locations</title>
<para>In this section you will learn how to:</para>
<para><itemizedlist>
<listitem>
<para>Create a new geographic location and build up the geographic location hierarchy</para>
</listitem>
<listitem>
<para>Create geographic location groups, group sets, and assigning geographic locations to them</para>
</listitem>
<listitem>
<para>How to make changes to the geographic location hierarchy</para>
</listitem>
</itemizedlist></para>
<section id="ou_hierarchy">
<title>The geographic location hierarchy</title>
<para>The geographic location hierarchy defines the organisation structure of the FSNIS instance, such as how the food grain markets, administrative areas and other geographic areas are arranged with respect to each other. It is essentially the &quot;where&quot; dimension of FSNIS, similar to how periods represent the &quot;when&quot; or time dimension. Non-geographic hierarchies are discouraged and would better to be represented through the use ofgeographic location groups. This dimension to the data is defined as a hierarchy with one root unit (e.g. Ministry of Food grain or a country) and any number of levels and nodes below. Each node in this hierarchy is called an  in FSNIS. </para>
<para>The design of this hierarchy will determine the geographic units of analysis available to the users as data is collected and aggregated in this structure. There can only be one geographic location hierarchy at the same time so its structure needs careful consideration. </para>
<para>Additional hierarchies (e.g. parallel administrative boundaries to the food and nutrition sector) can be modelled using geographic location groups and group sets but the geographic location hierarchy is the main vehicle for data aggregation on the geographic dimension. </para>
<para>The hierarchy is built up of parent-child relations. For instance a country might have eight provinces and each province again might have a number of districts as their children. Normally the city/station (from which data is typically collected) will be located at the lowest level, but they can also be located at higher levels, e.g. district/ greater district, so skewed geographic location trees are supported (e.g. a leaf node can be positioned at level 2 while most other leaf nodes are at level 5). </para>
<para>Note that it is quite easy to make changes to the upper levels of the hierarchy at a later stage, the only problem is changing geographic locations that collect data (the leaf nodes), e.g. splitting or merging food grain markets. Aggregation up the hierarchy is done based on the current hierarchy at any time and will always reflect the most recent changes to the geographic location structure. </para>
<important>
<para>Because the most recent information which is contained in the geographic location hierarchy is always used for aggregation, it is important to keep in mind that changes to it (such as the division of districts into two separate districts) will not be respected over time. As an example, District A may be sub-divided into District B and District C. This is a process which often happens for political reasons. stations which belong to District A would need to be reassigned to District B and C. However, any historical data, which was entered before the split actually occurred, would still be registered as belonging to District B and C and not the defunct District A. This temporal representation of the geographic location hierarchy across time will be lost. </para>
</important>
</section>
<section>
<title>geographic location maintenance</title>
<section id="geographic location">
<title>geographic locations</title>
<para>This is where you can create geographic locations and build up the geographic location hierarchy. geographic locations are added one by one as either root unit or a child of a selected unit. The left side menu represents the current geographic location hierarchy and if you select a unit there you will see its children listed in the main list of geographic locations in the middle of the screen. When an geographic location is selected in the left side menu you can also add new child units to it. To locate a geographic location in the hierarchy you can either navigate through the tree by expanding the branches (click on the + symbol), or search for it by opening the search field (click the green symbol above the root of the hierarchy). In search you can either search for the geographic location name or its code, both will only show exact matches (case-insensitive). To add a new geographic location first select its parent and then click on the Add new button in the top right corner of the list of geographic locations. To add a new root geographic location make sure no geographic location is selected in the menu and click on &quot;Add new&quot;. The details of adding a new geographic location are explained in <xref linkend="editOrganisationalUnits"/>.</para>
<section id="ou_edit">
<title id="editOrganisationalUnits">Editing geographic locations</title>
<para>To edit the properties of an existing geographic location first select its parent (if any) in the left side menu, then locate the geographic location in the listed geographic locations, and finally click on the &quot;Edit&quot; <inlinegraphic fileref="resources/images/FSNIS_images/edit.png" align="center"/> button next to the name of the geographic location that you want to modify. The following properties can be defined in the Edit (or Create new) window:</para>
<itemizedlist>
<listitem>
<para>Name: Define the precise name of the geographic location in this field. Each geographic location must have a unique name. </para>
</listitem>
<listitem>
<para>Short name: Typically, an abbreviation of the full name. This attribute is often used in reports to display the name of the geographic location, where there is limited space available. </para>
</listitem>
<listitem>
<para>Code: In many countries, geographic locations are assigned a code. This code can be entered in this field. </para>
</listitem>
<listitem>
<para>Opening date: Used to control the geographic locations that were existing at a point in time, e.g. when analysing historical data. This attribute is required. The default date for opening of geographic locations is 1900-01-01, but can be set to any date (even dates which occur in the future).</para>
</listitem>
<listitem>
<para>Registers data: This property is used to identify if the geographic location can register data or not. Sometimes administrative geographic locations at higher levels in the hierarchy are not supposed to register any data. This can help control the data entry process as only geographic locations with this property set to Yes will be available for data entry. </para>
</listitem>
<listitem>
<para>Comment: Any additional information that you would like to add can be put here. </para>
</listitem>
<listitem>
<para>Coordinates: This field is used to create the maps in the GIS module. Paste in the coordinates of the geographic location in this field, either a polygon (for geographic locations that represent an administrative boundary) or a point (for food grain markets). Without this information the GIS module will not work. It might be more efficient to import these coordinates later as a batch job for all geographic locations using the import module. See the GIS chapter for more details.</para>
</listitem>
<listitem>
<para>URL: You can use this field to insert a URL link to an external web site that has additional information about this specific geographic location.</para>
</listitem>
<listitem>
<para>Contact information: A contact person, address, email, and phone number can be entered in these fields. This information can be vital for facilitating follow-up.</para>
</listitem>
<listitem>
<para>Datasets: Datasets can be assigned to geographic locations here. See the chapter on &quot;Data sets&quot; for more detailed information on assigning datasets to geographic locations. </para>
</listitem>
<listitem>
<para>geographic location groups: Assignments to geographic locations group sets can be assigned through the individual drop-down boxes which appear for each group set.</para>
</listitem>
</itemizedlist>
</section>
</section>
<section id="ou_groupsets">
<title id="geographic locationGroupSets">geographic location group sets</title>
<para>Group sets can be understood as a flexible tool to add more categorisation to geographic locations. Any number of group sets can be added but as a default start all databases will have the two group sets &quot;Type&quot; and &quot;Ownership&quot;. Using these group sets will simplify how reporting is done, and facilitate analysis through the use of tools such as Excel PivotTables.</para>
<para>While a group set like &quot;Type&quot; describes a measure dimension, the actual categories are represented by the groups, and the categorisation of an geographic location through the geographic location&apos;s group memberships. This can be understood as a parallel hierarchy of geographic locations with the group set as the root (&quot;Type&quot;), the groups at level 2 (e..g &quot;Clinic&quot;, &quot;Hospital&quot;, &quot;Dispensary&quot;), and the actual geographic locations at level 3. The group set can as such provide additional information and dimensionality to the data analysis as data is easily filtered, organised, or aggregated by groups within a group set. </para>
<para>For this aggregation to work without any duplication in the data some rules are necessary. A group set is always exclusive, which means that an geographic location cannot be member of more than one group in a group set. Therefore, when creating a new geographic location, you will only be allowed to select a single geographic location group membership for each group set. Furthermore it is possible to define whether a group set is compulsory or not, which will affect the completeness of the data when analysing data using group sets. Compulsory means that ALL geographic locations must be member of a group in that group set. </para>
<para>We recommend that you approach the geographic location grouping in the following sequence (and one group set at a time):</para>
<orderedlist>
<listitem>
<para>Define a new group set, such as &quot;Location&quot;. </para>
</listitem>
<listitem>
<para>Add new groups (such as &quot;Urban&quot;, &quot;Rural&quot; and &quot;Peri-urban&quot;). Once all groups have been defined, return to the geographic location group set and assign each of the desired groups to the group set.</para>
</listitem>
<listitem>
<para>Go back to each group, one by one, go to edit mode and assign the geographic locations that should be member of the group. Should you follow this route, you can place multiple geographic locations at a time in a group. However, you must be careful not to place the same geographic locations in two groups which itself is a member of an geographic location group set. This will result in a data integrity violation. If you have geographic location groups which are not exclusive, they should not be members of a group. </para>
</listitem>
<listitem>
<para>A better way to ensure that you do not assign a geographic location to multiple members of a group set by mistake is to use the edit feature of each geographic location to assign memberships to each group set.You will only be able to assign a single geographic location at a time however.</para>
</listitem>
</orderedlist>
<para>It is important to keep in mind when using the &quot;Organisational unit group&quot; set function, that unless great care is taken, geographic locations can be assigned to multiple groups of a group set. This can be checked through the &quot;Data Integrity&quot; module, which will report which geographic locations are not members of a compulsory geographic location group set and which geographic locations have been assigned to more than one member of a group set. </para>
<section id="ou_groupsets_edit">
<title id="editgeographic locationGroupSets">Editing geographic location group sets</title>
<para>Click on the &quot;Edit&quot; <inlinegraphic fileref="resources/images/FSNIS_images/edit.png" align="center"/> button next to the name of the geographic location group set that you want to modify. The following properties can be defined in the Edit (or Create new) window:</para>
<itemizedlist>
<listitem>
<para>Name: Provide a precise name for the group set.</para>
</listitem>
<listitem>
<para>Description: Describe the phenomena the group set is measuring/capturing.</para>
</listitem>
<listitem>
<para>Compulsory: Indicate whether ALL geographic locations need to be member of a group in this group set or not.</para>
</listitem>
<listitem>
<para>Available groups/Selected groups: Here you assign groups to your group set by using the arrow buttons to move highlighted groups between the two lists (/selected). If no groups appear in the list then you must go to geographic location groups and create new groups there first. Note that assigning groups that will violate the exclusive rule on group sets is not possible, e.g. adding a group that already has assigned an geographic location that again is already member of a group that has already been selected by this group set, will not be possible since one geographic location will end up with two group memberships in the same group set. To avoid such situations we recommend first adding groups to group sets, and then geographic locations to groups.</para>
</listitem>
</itemizedlist>
</section>
</section>
<section id="ou_groups">
<title id="geographic locationGroups">geographic location groups</title>
<para>This function will allow you to add new and manage existing geographic location groups and their memberships. It can be accessed by choosing Maintenance-&gt;geographic locations-&gt;geographic location group from the main menu. To add a new geographic location group click on the &quot;Add new&quot; button in the top right corner of the list of groups. </para>
<section id="ou_groups_edit">
<title id="editgeographic locationGroups">Editing geographic location groups</title>
<para>Click on the &quot;Edit&quot; <inlinegraphic fileref="resources/images/FSNIS_images/edit.png" align="center"/> button next to the name of the geographic location group that you want to modify. The following properties can be defined in the Edit (or Create new) window:</para>
<itemizedlist>
<listitem>
<para>Name: Provide a precise name for the geographic location group.</para>
</listitem>
<listitem>
<para>geographic location tree selection: This is where you assign geographic locations to the group. The tree supports multiple selection so select all the geographic locations that you want to add (the selected ones appear with orange color) and click on &quot;Save&quot;. Click on &quot;Cancel&quot; to undo your changes and return to the list of geographic location groups. Use the &quot;Select at level&quot; button and drop down if you want to select all geographic locations at a specific level in the hierarchy (e.g. all districts). </para>
</listitem>
</itemizedlist>
</section>
</section>
<section id="ou_level">
<title id="geographic locationGroupLevels">geographic location level</title>
<para>Here you specify a contextual name for each level in the hierarchy, e.g. &quot;Country&quot;, &quot;Province&quot;, &quot;District&quot;, &quot;food grain market&quot;, and these names will be used all over the application where levels are referred to. This page will take some time to load if the geographic location hierarchy is very big.</para>
</section>
<section id="hierarchy_operations">
<title id="hierarchyOperations">Hierarchy operations</title>
<para>Here you can move geographic locations around in the hierarchy by changing the parent of a selected geographic location. This process is done in three steps:</para>
<para>1. Select the geographic location you want to move (in the hierarchy in the left side menu) and click &quot;Confirm&quot; under the &quot;Select an geographic location to move&quot; label.</para>
<para>2. Select the new parent geographic location (again by using the hierarchy in the left side menu). If no parent is selected then the geographic location will be moved up to root level (top of the hierarchy). Click on the &quot;Confirm&quot; button under the &quot;Select the new parent geographic location for the one to move&quot; label.</para>
<para>3. Click on the &quot;Move&quot; button to apply your changes to the hierarchy.</para>
<para>Your changes will be immediately reflected in the left side menu hierarchy. At any time in the process (before hitting the Move button) you can click on the &quot;Reset&quot; button to unselect geographic location to move and the new parent.</para>
</section>
</section>
</chapter>
<chapter>
<title>What is FSNIS?</title>
<section id="CH5_M1">
<title>Background of FSNIS</title>
<highlights>
<para>After reading this chapter you will be able to understand:</para>
<itemizedlist>
<listitem>
<para>What is FSNIS and what purpose it serves with respect to
Food security and nutrition?</para>
</listitem>
<listitem>
<para>What is the difference between market based and aggregate data?</para>
</listitem>
<listitem>
<para>What are the different modules in FSNIS?</para>
</listitem>
<listitem>
<para>What is Free and Open Source Software (FOSS), platform
(in)dependency, and its implications for FSNIS?</para>
</listitem>
<listitem>
<para>What is FOSS, platform (in)dependency, and their implications
for FSNIS?</para>
</listitem>
</itemizedlist>
</highlights>
<para>Computer based market data allows for a transition from a data (and paper)
based market data to and action led food grain management. Particular strengths of a computer
based FSNIS enumerated below:</para>
<itemizedlist>
<listitem>
<para>Promotes streamlining and standardisation of data
records.</para>
</listitem>
<listitem>
<para>Allows creation of an integrated warehouse, which supports
combining data from different sources and conducting cross
analysis.</para>
</listitem>
<listitem>
<para>Facilitates Rationalisation of reporting flows</para>
</listitem>
<listitem>
<para>Supports customised reporting.</para>
</listitem>
<listitem>
<para>Makes possible various kinds of indicator based analysis</para>
</listitem>
<listitem>
<para>Allows integration of various software applications such as GIS
and Excel.</para>
</listitem>
<listitem>
<para>Provides functionality to conduct data quality
validation.</para>
</listitem>
<listitem>
<para>Allows immediate on-line transmission of data / reports as and
when required by the user</para>
</listitem>
</itemizedlist>
<para>The Food Security and Nutrition Information System is
Free and Open Source Software (FOSS) designed and developed under a
global research and development initiative (called Health Information
Systems Project  HISP) originating from the Department of Informatics,
University of Oslo, Norway. This version was developed on Microsoft Office platform and distributed
freely. This application is based on the framework of DHIS 2 which is currently the national standard in South Africa
and being used in all the health stations in the country. </para>
<para>FSNIS is built on free and open source (FOSS) Java based frameworks. It is
platform independent, can run on both on-line and offline modes, is multi-language enabled and integrated with various other applications such as
Geographic Information Systems and Microsoft Excel.</para>
<para>The documentation provided in herewith, will attempt to provide a comprehensive overview of the application. Given the abstract nature of the application, this manual will not serve as a complete step-by-step guide of how to use the application in each and every circumstance, but rather will seek to provide illustrations and examples of how FSNIS can be implemented in a variety of situations through generalized examples.</para>
</section>
<section id="CH5_M2">
<title>Purpose of FSNIS</title>
<para>The purpose of FSNIS can be summarised as follows:</para>
<orderedlist>
<listitem>
<para>Provide a comprehensive Food grain tracking solution based on data
warehousing principles and a modular structure which can easily be
customised to the needs of different Food grain systems - nations,
states, districts and open markets.</para>
</listitem>
<listitem>
<para>Provide data entry stations which can either be in the form
of standard (scroll down) lists (of data elements) or can be
customised to replicate paper forms  to make easy the process of
data entry.</para>
</listitem>
<listitem>
<para>Provide different kinds of tools for data validation and
improvement of data quality.</para>
</listitem>
<listitem>
<para>Provide different tools for reporting  both for automated
routine reports and analysis reports, and in addition provide the
user with functionality and flexibility to make their user defined
reports.</para>
</listitem>
<listitem>
<para>A dashboard for monitoring and evaluation of Food grain prices
that can allow for the generation and analysis of different
indicators, and also carry out data quality analysis.</para>
</listitem>
<listitem>
<para>Systems management functions to carry out various operations
to manage hierarchy of geographic locations,
addition/deletion/modification of data elements etc.</para>
</listitem>
<listitem>
<para>Functionality to design and modify indicators.</para>
</listitem>
<listitem>
<para>Functionalities of export-import, so that data entered on an
offline version can be exported to the district or higher level
systems. Export import can also be made in relation to other
applications such as Excel and Epi Info.</para>
</listitem>
<listitem>
<para>Integration with other software systems  such as
<acronym>RIMS</acronym>.</para>
</listitem>
<listitem>
<para>Provision of Geographic Information Systems (GIS).</para>
</listitem>
<listitem>
<para>User management 
module for passwords, security, and access control.</para>
</listitem>
<listitem>
<para>Further modules can be
developed (such as for human resources
management) and integrated as per user needs.</para>
</listitem>
</orderedlist>
<para>In summary, FSNIS provides a comprehensive system solution for the
reporting and analysis needs of food grain markets at any level. It is a
tried and tested application in various countries, and also adopted by WHO for their HMN implementations in various countries.</para>
</section>
<section id="CH5_M3">
<title>Difference between Aggregated and market based data in a FSNIS</title>
<para>
<emphasis>Market based data</emphasis> is data relating to a single open market,
This data is typically based on a single open market. In an aggregate based system rather than a specific market, the focus is on a larger geographical location area like a district or a greater district.</para>
<para>
<emphasis>Aggregated data</emphasis> is the consolidation of data
relating to multiple markets and therefore cannot be traced back to a
specific reporting unit. Typically, the routine data that a Food grain
market deals with is this kind of aggregated statistics and is used
for the generation of routine reports and indicators, and most importantly, strategic planning within the Food grain system. Aggregate data cannot provide the type of detailed information which a market level data can, but is crucial for planning and guidance of the performance of Food grain systems. </para>
<para>Prices/ stocks data is confidential and therefore must be
protected so that no one other than the administrators can get it. When in paper,
it must be properly stored in a secure place. For computers, prices
data needs secure systems with passwords and restrained access.</para>
<para> </para>
</section>
<section id="CH5_M4">
<title>Use of FSNIS : data collection, processing, interpretation, and analysis.</title>
<para>The wider context of FSNIS can be comprehensively described through
the information cycle presented in Figure 1.1 below. The information
cycle pictorially depicts the different components, stages and processes
through which the data is collected, checked for quality, processed,
analysed and used.</para>
<figure>
<title>The FSNIS cycle</title>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/FSNISUserManual/FSNIS_information_cycle.png"/>
</imageobject>
</mediaobject>
</figure>
<para>FSNIS supports the different facets of the information cycle
including:<itemizedlist>
<listitem>
<para>Collecting data.</para>
</listitem>
<listitem>
<para>Running quality checks.</para>
</listitem>
<listitem>
<para>Data access at multiple levels.</para>
</listitem>
<listitem>
<para>Reporting.</para>
</listitem>
<listitem>
<para>Making graphs and maps and other forms of analysis.</para>
</listitem>
<listitem>
<para>Enabling comparison across time (for example, previous
months) and space (for example, across stations and
districts).</para>
</listitem>
<listitem>
<para>See trends (displaying data in time series to see their min
and max levels).</para>
</listitem>
</itemizedlist>
</para>
<para>As a first step, FSNIS serves as a data collection, recording and
compilation tool and all data (be it in numbers or text form) can be
entered into it. Data entry can be done in lists of data elements or in
customised user defined forms which can be developed to mimic paper based forms in order to ease the process of data entry.</para>
<para>As a next step, FSNIS can be used to increase data quality.
Firstly, at the point of data entry, a check can be made to see if data
falls within acceptable range levels of minimum and maximum values for
any particular data element. Such checking, for example, can help to
identify typing errors at the time of data entry. Further, user can
define various validation rules, and FSNIS can run the data through the
validation rules to identify violations.</para>
<para>When data has been entered and verified, FSNIS can help to make
different kinds of reports. The first kind are the routine reports that
can be predefined, so that all those reports that need to be routine
generated can be done on a click of a button. Further, FSNIS can help
in the generation of analytical reports through comparisons of for
example indicators across stations or over time. Graphs, maps, reports
and Food grain profiles are among the outputs that FSNIS can produce, and
these should routinely be produced, analysed, and acted upon by
managers.</para>
</section>
<section id="CH5_M5">
<title>Overview of FSNIS</title>
<section>
<title>Overview of FSNIS modules</title>
<para>FSNIS is based on a modular approach of design. A module can be
seen as an independent component of application that is capable of
both processing inputs as well as outputs, that is used to communicate
with other modules. The modules are flexible enough to allow changes
in one module without having any effect on other modules. As long as
input and output stays the same, it doesn&apos;t matter what happens inside
a module. A module can then be changed without affecting other
modules, which will be working as long as the output from the first
module comes out as normal. This modular feature allows FSNIS to be
constantly upgraded in terms of functionality, integrated with other
applications such as Excel pivot tables and GIS. Thus modularity
allows FSNIS to be flexible, and changes can take place in the
different modules without affecting others.</para>
<para>Currently, FSNIS has several modules for functions such as data
entry, data quality checks, report generation etc. These modules have
been categorised and presented under two core categories namely
Maintenance and Services. The Services module supports data record,
analysis, report generation etc. And the Maintenance module allows you
to set the content and structure of the Services module. Each of these modules will be discussed at greater length in this document. </para>
</section>
<section>
<title>Web-based versus standalone FSNIS and their suitability</title>
<para>FSNIS can run both as a web based and offline application. As a
web based application, the FSNIS application can run on a central
server and make use of client-server architecture. For example, at the
state level, the FSNIS can run on a server, and the different
districts act as clients, drawing upon the server application through
the Internet for local use of the application.</para>
<para>In a standalone application, the FSNIS can run as an
independent application on individual computers in different sites
such as <abbrev>open market</abbrev>s, <abbrev>city</abbrev>s etc. So, if computerisation is taking place at the
District level, then the FSNIS will be installed separately on each of
the district level computers. The disadvantage of a standalone
application is that of platform dependency  where the application
needs to be configured to the platform on each of the respective
machines. A thick client requires a local run-time environment. For
example a Windows Form application will only run on a Windows platform
with the .Net framework installed. The major advantage of the offline
version is that it can run without any dependency on the Internet.
This allows the application to run in remote locations where there is
limited or no Internet connectivity.</para>
<para>The main advantage of a web based solution is that it is
centralised, which enables easy, on-line updating and deployment of the
application. The only requirements on the clients side are to have
web browser installed on the used computer and have an Internet
connection. The hardware on the server is often more powerful than the
single computer. Another advantage of the web application is that is
platform independent, allowing the same software to be accessed
through a web browser regardless of the clients operating
system.</para>
<para>Where connectivity is available, and there is need for
centralised management, a web based application is useful, and a
standalone application is preferred when these conditions are not
available or required. However, in most cases, a mix of these two
approaches would be required, with a server based deployment working
for district-state-national level processing, and a standalone
deployment at lower levels where connectivity is limited. The
advantage of such an approach is that it is flexible, inclusive, and
scalable because as stations get Internet connectivity they can be
hooked up to the network.</para>
</section>
<section>
<title>Free and Open Source Software (FOSS): benefits and challenges</title>
<para>Software carries the instructions that tell a computer how to
operate. The human authored and human readable form of those
instructions is called source code. Before the computer can actually
execute the instructions, the source code must be translated into a
machine readable (binary) format, called the object code. All
distributed software includes the object code, but <abbrev>FOSS</abbrev> makes the
source code available as well.</para>
<para>Proprietary software owners license their copyrighted object
code to a user, which allows the user to run the program. <abbrev>FOSS</abbrev>
programs, on the other hand, license both the object and the source
code, permitting the user to run, modify and possibly redistribute the
programs. With access to the source code, the users have the freedom
to run the program for any purpose, redistribute, probe, adapt, learn
from, customise the software to suit their needs, and release
improvements to the public for the good of the community. Hence, some
<abbrev>FOSS</abbrev> is also known as free software, where free refers, first and
foremost, to the above freedoms rather than in the monetary sense of
the word.</para>
<para>Within the Food grain and nutrition sector, <abbrev>FOSS</abbrev> can potentially have a
range of benefits, including:</para>
<itemizedlist>
<listitem>
<para>Lower costs as it does not involve paying for prohibitive
license costs.</para>
</listitem>
<listitem>
<para>Given the information needs for the Food nutrition sector are
constantly changing and evolving, there is a need for the user to
have the freedom to make the changes as per the user requirements.
This is often limited in proprietary systems.</para>
</listitem>
<listitem>
<para>In the Food nutrition sector, a key agenda is
that of integration, which involves the technical linking of
different pieces of software. For
this, the source code needs to be made available to the developers
to create the integration. This availability is often not possible
in the case of proprietary software. And when it is, it comes at a
high cost and contractual obligations.</para>
</listitem>
<listitem>
<para>FOSS applications like FSNIS typically are supported by a
global network of developers, and thus have access to cutting edge
research and development knowledge.</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Understanding platform independence</title>
<para>All computers have an Operating System (OS) to manage it and the
programs running it. The operating system serves as the middle layer between the
software application, such as FSNIS, and the hardware, such as the
CPU and RAM. FSNIS runs on the Java Virtual Machine, and can therefore run on any operating system which supports Java. Platform
independence implies that the software application can run on ANY OS -
Windows, Linux, Macintosh etc. FSNIS is platform independent, and is
extremely useful in the context of public Food grain, where multiple operating systems may be in use. </para>
</section>
<section>
<title>Auxiliary software that can be used with FSNIS</title>
<para>A variety of auxiliary software can be run with FSNIS, such as
GIS (for mapping), JasperReports (for reporting), Excel (for analysis through
pivot table operations), OpenMRS (for patient based management). Being based on Open Standards and an
Open Architecture, FSNIS can build bridges to speak to the other
systems. Further, auxiliary modules can be developed and integrated
with the core FSNIS application.</para>
</section>
</section>
</chapter>
<chapter>
<title>Getting started with FSNIS</title>
<section id="mod2_1">
<title>Getting started with FSNIS</title>
<para>After reading this chapter you will be able to understand:</para>
<itemizedlist>
<listitem>
<para>Start FSNIS from the desktop</para>
</listitem>
<listitem>
<para>How to log-in from the desktop</para>
</listitem>
</itemizedlist>
<itemizedlist>
<listitem>
<para>Create new users and user roles</para>
</listitem>
</itemizedlist>
<itemizedlist>
<listitem>
<para>What steps are needed to design a FSNIS database for your organisation</para>
</listitem>
</itemizedlist>
<section>
<title>Prerequisites</title>
<para>You must be sure that you have a current version of the Java Runtime installed on your machine. Depending on your operating system, there are different ways of installing Java. The reader is referred to this <ulink url="http://java.sun.com/javase/downloads/index.jsp">website</ulink> for detailed information on getting java installed.</para>
</section>
<section>
<title>Starting the FSNIS Live package</title>
<para>The FSNIS Live package is the easiest way to get started with FSNIS. FSNIS Live is appropriate for a stand-alone type of installation. Simply download the application from <ulink url="http://www.FSNIS.org/downloads">here</ulink>.
Once the file is downloaded, you can simply double-click the downloaded file, and get started using FSNIS. </para>
<section>
<title>Starting up with a blank database</title>
<para>The live package comes with a demo database just like what you see on the online demo (which is based on the national Sierra Leone HMIS), and if you want to start with a blank system/database and build up your own system then you need to do the following:
</para>
<para>1) Stop the FSNIS live if it is already running. Right click on the tray icon and select Exit.
The tray icon is the green symbol on the bottom right of your screen (on Windows) which should say&apos; FSNIS Server running&apos; if you hold your mouse pointer over it.</para>
<para>2) Open the folder where the FSNIS live package is installed and locate the folder called &quot;conf&quot;.
</para>
<para>3) In conf/ open the file called &apos;hibernate.properties&apos; in a text editor (notepad or similar) and do the following modification:
locate the string &apos;jdbc:h2:./database/FSNIS&apos; and replace the &apos;FSNIS&apos; part with any name that you want to give to your database (e.g. FSNIS_test).</para>
<para>4) Save and close the hibernate.properties file.
</para>
<para>5) Start FSNIS Live by double-clicking on the file FSNIS-live.exe in the FSNIS Live installation folder or by using a desktop shortcut or menu link that you might have set up.
</para>
<para>6) Wait for the browser window to open and the login screen to show, and then log in with username: admin and password: district
</para>
<para>7) Now you will see a completely empty FSNIS system and you should start by adding your users,geographic locationhierarchy, data elements, and datasets etc. Please refer to the other sections of the user manual for instructions on how to do this.
</para>
</section>
</section>
<section>
<title>Working directly with the H2 database</title>
<para>
FSNIS Live uses an embedded <ulink url="www.h2database.com/">H2</ulink> database. This has several advantages - there is no need
to install a separate database engine such as PostgresSql or MySql, and backup can be made by just copying the file. The whole db
exists in memory, which means high performance. The disadvantage is need for RAM. It is also not suitable for mulitiuser server
installations.
</para>
<para>
In general, it is recommended to work with the database through the FSNIS user interface, but in some situations one may need to
manipulate the data directly. If one downloads H2 separately, it comes with a web interface. It can also be manipulated using
<ulink url="http://openoffice.org">OpenOffice.org</ulink>, using the following procedure. This assumes that FSNIS-live is located in
the user&apos;s Linux home directory (represented by ~). Substitute the absolute path to your FSNIS-live installation.
<itemizedlist>
<listitem>
<para>Start OpenOffice Word Processor and select Tools - Options, then Java - Class Path ... and click on Add Archive...</para>
</listitem>
<listitem>
<para>Select the following file (version may differ): ~/FSNIS-live/webapps/FSNIS/WEB-INF/lib/h2-1.1.119.jar</para>
</listitem>
<listitem>
<para>Close OpenOffice completely and then open OpenOffice.org Database. Select connect to an existing database - JDBC</para>
</listitem>
<listitem>
<para>Datasource URL is h2:~/FSNIS-live/database/FSNIS;AUTO_SERVER=TRUE, and JDBC driver class is org.h2.Driver</para>
</listitem>
<listitem>
<para>User name is sa, password not needed. Finally, select a name and folder for the .odb file.</para>
</listitem>
</itemizedlist>
<ulink url="http://www.oooforum.org/forum/viewtopic.phtml?t=97522">More tips</ulink>
</para>
</section>
<section>
<title>Downloading and installing the server version</title>
<para>The server version can be downloaded from FSNIS.org/download. For detailed information on how to install it please refer to the installation chapter in the implementation manual.</para>
</section>
</section>
<section id="mod2_2">
<title>Logging on to FSNIS</title>
<para>Regardless of whether you have installed the server version of the
desktop Live version, you will use a web-browser to log on to the
application. FSNIS should be compatible with most modern web-browsers,
although you will need to ensure that Java Script is enabled.</para>
<para>To log on to the application just enter <ulink url="http://localhost:8080/FSNIS" type="">http://localhost:8080/FSNIS</ulink> if you
are using the FSNIS live package, or replace local host with the name or IP
address of the server where the server version is installed.</para>
<para>Once you have started FSNIS, either on-line or offline, the displayed
screen will prompt you to enter your registered user name and
password. After entering the required information click on log-in button
to log into the application. The default user name and password are &apos;admin&apos; and &apos;district&apos;. They should be changed immediately upon logging on the first time. </para>
</section>
<section id="users">
<title>Creating new users and roles</title>
<para>This section will describe how to add new users to the FSNIS
application.</para>
<section>
<title>Open User Menu</title>
<para>To create or find a user begin with clicking on the user module
displayed in the drop down menu of the Maintenance module located on the
main tool bar on the top part of the displayed screen.</para>
<screenshot>
<screeninfo>Select Users menu item</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/select_user_menu.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>User names already registered will appear as a list as seen in the screen shot below.</para>
<screenshot>
<screeninfo>Search by user name</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/search_user_by_name.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>You can search for specific user names in the user list by
entering the name in the filter by user name field as shown
above.</para>
</section>
<section id="user_roles">
<title>Define a new role</title>
<para>As part of creating a user name you are required to define the user
role. Do so by clicking on the user role appearing on the left side of
the displayed screen. This will lead you to the Role Management page where you will have
to click on <guibutton>Add new</guibutton> to create a new role.</para>
<screenshot>
<screeninfo>Add new user role</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/add_user_role.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The following screen will open and here in the first text box you
need to give Name of the Role such as Super User, Admin User, etc. The
second text box called Description gives more information about the
type of User Role that is being created for e.g. State Admin User,
District Data Entry.</para>
<screenshot>
<screeninfo>Role maintenance page</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/role_maintenance_page.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next you will specify the particular data set(s) that are to be
made available to the particular role. You will also need to specify the
type of authority to be given to the particular user. For each of the
three options namely Datasets, Reports and Authorities user can select
multiple options from the scroll down menu provided against each field.
A user can choose multiple options either by moving them
one-by-one.</para>
<para>In order for particular users to be able to enter data, you must
add them to both a dataset as well as a geographic location level. You
can also select multiple datasets individually by pressing the Ctrl key
on the keyboard and clicking on individual datasets.</para>
<para>Finally when you have entered the required fields click on
<guibutton>Save</guibutton> which is located on the lower part of the
displayed screen. The desired user role and related authorisation will
be saved to the database, and can then be assigned to a particular
user.</para>
</section>
<section>
<title>Add New User</title>
<para>Under particular user role there can be more than one user. To add
new users go to the User options under the Maintenance module.</para>
<para>To add a new user, just follow these steps:</para>
<itemizedlist>
<listitem>
<para>Click on the <guibutton>Add New</guibutton> button.</para>
</listitem>
<listitem>
<para>Enter New User details like <guilabel>User name</guilabel>, <guilabel>Password</guilabel>, <guilabel>Confirm password</guilabel>, <guilabel>Surname</guilabel>, <guilabel>First name</guilabel> and <guilabel>Email</guilabel> in new users option tabs.</para>
</listitem>
<listitem>
<para>Click on <guibutton>Add</guibutton> button for confirmation of
new user details and follow the user error while creation of new
user.</para>
</listitem>
<listitem>
<para>The recently created new user can be seen in main User
management Screen</para>
</listitem>
<listitem>
<para>You can edit (like password, surname.etc) and delete the
details of new/old users by selecting corresponding Users
<guibutton>Edit</guibutton> and <guibutton>Delete</guibutton>
Buttons.</para>
</listitem>
<listitem>
<para>Click on <guibutton>Save</guibutton> tab after editing all
details of a particular selected user.</para>
<screenshot>
<screeninfo>User management screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/user_management.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
</itemizedlist>
</section>
</section>
<section id="mod2_4">
<title>Logging out of FSNIS</title>
<para>Just click on the Log out link in the top right corner to exit the application.</para>
</section>
<section id="database_design">
<title>Quick intro to designing a FSNIS database</title>
<para>The FSNIS application comes with a set of tools for data collection, validation, reporting and analysis, but the contents of the database, e.g. what to collect, who should collect it and on what format will depend on the context of use. This metadata need to be populated into the application before it can be used, and this can be done through the user interface and requires no programming or in-depth technical skills of the software. We call this initial process database design or customisation.</para>
<para>This section will provide a very quick and brief introduction to FSNIS database design and mainly explain the various steps needed to prepare a new FSNIS system for use. How to do each step is explained in other chapters, and best practices on design choices will be explained in an implementers manual (expected during first half of 2011). Here are the steps to follow:</para>
<para>1. Set up a geographic location hierarchy</para>
<para>2. Define data elements</para>
<para>3. Define data sets and data entry forms</para>
<para>4. Define validation rules</para>
<para>5. Define indicators</para>
<para>6. Define report tables and design reports</para>
<para>7. Set up the GIS module</para>
<para>8. Design charts and customise the dashboard</para>
<section>
<title>The geographic location hierarchy</title>
<para>The geographic location hierarchy defines the organisation using the FSNIS, the food grain markets, administrative areas and other geographic areas used in data collection and data analysis. This dimension to the data is defined as a hierarchy with one root unit and any number of levels and nodes below. Each node in this hierarchy is called a geographic location in FSNIS. The design of this hierarchy will determine the geographic units of analysis available to the users as data is collected and aggregated in this structure. There can only be one geographic location hierarchy at the same time so its structure needs careful consideration. Additional hierarchies (e.g. parallel administrative boundaries to the Food and nutrition sector) can be modelled using geographic location groups and group sets but the geographic location hierarchy is the main vehicle for data aggregation on the geographic dimension. Typically national geographic location hierarchies have 4-6 levels but any number of levels is supported. The hierarchy is built up of parent-child relations, e.g. a Country (the root) might have e.g. 8 parent units (provinces) and each province again ( at level 2) might have 10-15 districts as their children. Normally the food grain markets will be located at the lowest level, but they can also be located at higher levels, e.g. national or provincial markets so skewed geographic location trees are supported (e.g. a leaf node can be positioned at level 2 while most other leaf nodes are at level 5). Typically there is a geographic hierarchy defined. e.g. where the administrative offices are located (e.g. MoH, province, district) but often there are other administrative boundaries in the country that might or might not be added, depending on how its boundaries will improve data analysis. When designing the hierarchy the number of children for any geographic location may indicate the usefulness of the structure, e.g. having one or more 1-1 relationships between two levels is not very useful as the values will be the same for the child and the parent level. On the other extreme a very high number of children in the middle of the hierarchy (e.g. 50 districts in a province) might call for an extra level to be added in between to increase the usefulness of data analysis. The lowest level, the food grain markets will often have a large number of children (10-60), but for other levels higher up in the hierarchy approx. 5-20 children is recommended. To few or too many children might indicate that a level should be removed or added. Note that it is quite easy to make changes to the upper levels of the hierarchy at a later stage, the only problem is changing geographic locations that collect data (the leaf nodes), e.g. splitting or merging food grain markets. Aggregation up the hierarchy is done based on the current hierarchy at any time and will always reflect the most recent changes to the geographic location structure. Refer to the chapter on geographic locations to learn how to create geographic locations and to build up the hierarchy.</para>
</section>
<section>
<title>Data Elements</title>
<para>The Data Element is perhaps the most important building block of a FSNIS database. It represents the &quot;WHAT&quot; dimension, it explains what is being collected or analysed. In some contexts this is referred to an indicator but in FSNIS we call this unit of collection and analysis a <emphasis role="italic">data element</emphasis>. The data element often represents a count of something, and its name describes what is being counted, e.g. &quot;BCG doses given&quot; or &quot;Malaria cases&quot;. When data is collected, validated, analysed, reported or presented it is the data elements or expressions built upon data elements that describes the WHAT of the data. As such the data elements become important for all aspects of the system and they decide not only how data is collected, but more importantly how the data values are represented in the database, which again decides how data can be analysed and presented. </para>
<para>It is possible to add more details to this &quot;WHAT&quot; dimension through the disaggregation dimension called data element categories. Some common categories are Rice and production but any category can be added by the user and linked to specific data elements. The combination of a data element&apos;s name and its assigned category defines the smallest unit of collection and analysis available in the system and hence describes the raw data in the database. Aggregations can be done when zooming out of this dimension but no further drill-down is possible, so designing data elements and categories define the detail of the analysis available to the system (on the WHAT dimension). Changes to data elements and categories at a later stage in the process might be complicated as these will change the meaning of the data values already captured in the database (if any). So this step is one of the more decisive and careful steps in the database design process.</para>
<para>One best practice when designing data elements is to think of data elements as a unit of data analysis and not just as a field in the data collection form. Each data element lives on its own in the database, completely detached from the collection form, and reports and other outputs are based on data elements and expressions/formulas composed of data elements and not the data collection forms. So the data analysis needs should drive the process, and not the look an feel of the data collection forms. A simple rule of thumb is that the name of the data element must be able to stand on its own and describe the data value also outside the context of its collection form. E.g. a data element name like &quot;Production&quot; makes sense when looking at it in either the &quot;ANNUAL OUTPUT&quot; form or the &quot;FOODGRAIN PRICE&quot; form, but on its own it does not uniquely describe the phenomena (what is being produced?), and should in stead be called &quot;Total Annual Rice Boro Production&quot; In a database or a repository of data elements this context is no longer valid and therefore the names of the data elements become so important in describing the data. </para>
<para>Common properties of data elements can be modelled through what is called data element groups. The groups are completely flexible in the sense that they are defined by the user, both their names and their memberships. Groups are useful both for browsing and presenting related data, but can also be used to aggregate data elements together. Groups are loosely coupled to data elements and not tied directly to the data values which means they can be modified and added at any point in time without interfering with the raw data. </para>
</section>
<section>
<title>Datasets and data entry forms</title>
<para>All data entry in FSNIS is organised through the use of Datasets. A Dataset is a collection of data elements grouped together for data collection, and in the case of distributed installs they also define chunks of data for export and import between instances of FSNIS (e.g. from a district office local installation to a national server). Datasets are not linked directly to the data values, only through their data elements and frequencies, and as such a dataset can be modified, deleted or added at any point in time without affecting the raw data already captured in the system, but such changes will of course affect how new data will be collected. </para>
<para>A dataset has a period type which controls the data collection frequency, which can be daily, weekly, monthly, quarterly, six-monthly, or yearly. Both which data elements to include in the dataset and the period type is defined by the user, together with a name, short name, and code.</para>
<para>In order to use a dataset to collect data for a specific geographic location you must assign the geographic location to the dataset, and this mechanism controls which geographic locations that can use which datasets, and at the same time defines the target values for data completeness (e.g. how many food grain markets in a district expected to submit market price data every month). </para>
<para>A data element can belong to multiple datasets, but this requires careful thinking as it may lead to overlapping and inconstant data being collected if e.g. the datasets are given different frequencies and are used by the same geographic locations.
</para>
<section>
<title>Data entry forms</title>
<para>Once you have assigned a dataset to an geographic location that dataset will be made available in Data Entry (under Services) for the geographic locations you have assigned it to and for the valid periods according to the dataset&apos;s period type. A default data entry form will then be shown, which is simply a list of the data elements belonging to the dataset together with a column for inputting the values. If your dataset contains data elements with categories such as age groups or gender, then additional columns will be automatically generated in the default form based on the categories. In addition to the default list-based data entry form there are two more alternatives, the section-based form and the custom form.</para>
<section>
<title>Section forms</title>
<para>Section forms allow for a bit more flexibility when it comes to using tabular forms and are quick and simple to design. Often your data entry form will need multiple tables with subheadings, and sometimes you need to disable (grey out) a few fields in the table (e.g. some categories do not apply to all data elements), both of these functions are supported in section forms. After defining a dataset you can define it&apos;s sections with subsets of data elements, a heading and possible grey fields in the section&apos;s table. The order of sections in a dataset can also be defined. In Data Entry you can now start using the Section form (should appear automatically when sections are available for the selected dataset). You can switch between default and section forms in the top right corner of the data entry screen. Most tabular data entry forms should be possible to do with sections forms and the more you can utilise the section forms (or default forms) the easier it is for you. If these two types of forms are not meeting your requirements then the third option is the completely flexible, although more time-consuming, custom data entry forms.</para>
</section>
<section>
<title>Custom Forms</title>
<para>When the form you want to design is too complicated for the default or section forms then your last option is to use a custom form. This takes more time, but gives you full flexibility in term of the design. In FSNIS there is a built in HTML editor (FcK Editor) for the form designer and you can either design the form in the UI or paste in your html directly (using the Source window in the editor. In the custom form you can insert static text or data fields (linked to data elements + category) in any position on the form and you have complete freedom to design the layout of the form. Once a custom form has been added to a dataset it will be available in data entry and used automatically. You can switch back to default and section (if exists) forms in the top right corner of the data entry screen. </para>
</section>
</section>
</section>
<section>
<title>Validation rules</title>
<para>Once you have set up the data entry part of the system and started to collect data then there is time to define data quality checks that help to improve the quality of the data being collected. You can add as many validation rules as you like and these are composed of left and right side expressions that again are composed of data elements, with an operator between the two sides. Typical rules are comparing subtotals to totals of something. E.g. if you have two data elements &quot;Urea bought&quot; and &quot;Urea spent&quot; then you know that in the same form (for the same period and geographic location) the Urea spent must always be equal or lower than the Urea bought. These rules should be absolute rules meaning that they are mathematically correct and not just assumptions or &quot;most of the time correct&quot;. The rules can be run in data entry, after filling each form, or as a more batch like process on multiple forms at the same time, e.g. for all markets for the previous reporting month. The results of the tests will list all violations and the detailed values for each side of the expression where the violation occurred to make it easy to go back to data entry and correct the values.</para>
</section>
<section>
<title>Indicators</title>
<para>Indicators represent perhaps the most powerful data analysis feature of the FSNIS. While data elements represent the raw data (counts) being collected the indicators represent formulas providing rates, production per unit area, ratios and other formula-based units of analysis. An indicator is made up of a factor (e.g. 1, 100, 100, 100 000), a numerator and a denominator, the two latter are both expressions based on one or more data elements. E.g. the indicator &quot;wheat retail price &lt;1 year&quot; is defined a formula with a factor 100, a numerator (&quot;average of high and low wheat price&quot;) and a denominator (&quot;1&quot;). </para>
<para>Most report modules in FSNIS support both data elements and indicators and you can also combine these in custom reports, but the important difference and strength of indicators versus raw data (data element&apos;s data values) is the ability to compare data across different geographic areas (e.g. highly populated vs rural areas) as the target population can be used in the denominator.</para>
<para>Indicators can be added, modified and deleted at any point in time without interfering with the data values in the database. </para>
</section>
<section>
<title>Report tables and reports</title>
<para>Standard reports in FSNIS is a very flexible way of presenting the data that has been collected. Data can be aggregated by any geographic location or geographic location level, by data element, by indicators, as well as over time (e.g. monthly, quarterly, yearly). The report tables are custom data sources for the standard reports and can be flexibly defined in the user interface and later accessed in external report designers such as iReport or BIRT. These report designs can then be set up as easily accessible one-click reports with parameters so that the users can run the same reports e.g. every month when new data is entered, and also be relevant to users at all levels as the geographic location can be selected at the time of running the report.</para>
</section>
<section>
<title>GIS</title>
<para>In the integrated GIS module you can easily display your data on maps, both on polygons (areas) and as points (food grain markets), and either as data elements or indicators. By providing the coordinates of your geographic locations to the system you can quickly get up to speed with this module. See the GIS section for details on how to get started. </para>
</section>
<section>
<title>Charts and dashboard</title>
<para>One of the easiest way to display your indicator data is through charts. An easy to use chart dialogue will guide you through the creation of various types of charts with data on indicators,geographic locations and periods of your choice. These charts can easily be added to one of the four chart sections on your dashboard and there be made easily available right after log in. Make sure to set the dashboard module as the start module in user settings. </para>
</section>
</section>
</chapter>
<chapter>
<title>User management</title>
<para>FSNIS allows for multiple users to access the system simultaneously, each with a define set of permissions. These permissions can be finely tuned so that certain users can only enter data, while others may generate reports. Multiple user roles can be created, each with their own set of permissions, and then assigned to users which grant them certain privileges within the system. This chapter describes how to manage users and user roles.</para>
<section id="creating_new_users">
<title>Creating new users and roles</title>
<para>This section will describe how to add new users and manage existing users to the FSNIS application. You can create as many user names as you need. Each user can be assigned certain privileges and can be assigned to certain geographic locations for which they will be enabled to enter data on behalf of. To access the user module, choose &quot;Maintenance-&gt;Users&quot; from the main menu.</para>
<section id="user_maintenance">
<title>User maintenance</title>
<screenshot>
<screeninfo>Select Users menu item</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/select_user_menu.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>User names already registered will appear as a list as seen in the screen shot below.</para>
<screenshot>
<screeninfo>Search by user name</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/search_user_by_name.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>You can search for specific user names in the user list by
entering the name in the filter by user name field as shown
above.</para>
</section>
<section id="user_user_roles">
<title>User role management</title>
<para>As part of creating a user name you are required to define the user
role. Do so by clicking on the user role appearing on the left side of
the displayed screen. This will lead you to the Role Management page where you will have
to click on <guibutton>Add new</guibutton> to create a new role.</para>
<screenshot>
<screeninfo>Add new user role</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/add_user_role.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The following screen will open and here in the first text box you
need to give Name of the Role such as Super User, Admin User, etc. The
second text box called Description gives more information about the
type of User Role that is being created for e.g. State Admin User,
District Data Entry.</para>
<screenshot>
<screeninfo>Role maintenance page</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/role_maintenance_page.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next you will specify the particular data set(s) that are to be
made available to the particular role. You will also need to specify the
type of authority to be given to the particular user. For each of the
three options namely Datasets, Reports and Authorities user can select
multiple options from the scroll down menu provided against each field.
A user can choose multiple options either by moving them
one-by-one.</para>
<para>In order for particular users to be able to enter data, you must
add them to both a dataset as well as a geographic location level. You
can also select multiple datasets individually by pressing the Ctrl key
on the keyboard and clicking on individual datasets.</para>
<para>Finally when you have entered the required fields click on
<guibutton>Save</guibutton> which is located on the lower part of the
displayed screen. The desired user role and related authorisation will
be saved to the database, and can then be assigned to a particular
user.</para>
</section>
<section id="user_management">
<title>User management</title>
<para>Under particular user role there can be more than one user. To add
new users go to the User options under the Maintenance module.</para>
<para>To add a new user, just follow these steps:</para>
<itemizedlist>
<listitem>
<para>Click on the <guibutton>Add New</guibutton> button.</para>
</listitem>
<listitem>
<para>Enter New User details like <guilabel>User name</guilabel>, <guilabel>Password</guilabel>, <guilabel>Confirm password</guilabel>, <guilabel>Surname</guilabel>, <guilabel>First name</guilabel> and <guilabel>Email</guilabel> in new users option tabs.</para>
</listitem>
<listitem>
<para>Click on <guibutton>Add</guibutton> button for confirmation of
new user details and follow the user error while creation of new
user.</para>
</listitem>
<listitem>
<para>The recently created new user can be seen in main User
management Screen</para>
</listitem>
<listitem>
<para>You can edit (like password, surname.etc) and delete the
details of new/old users by selecting corresponding Users
<guibutton>Edit</guibutton> and <guibutton>Delete</guibutton>
Buttons.</para>
</listitem>
<listitem>
<para>Click on <guibutton>Save</guibutton> tab after editing all
details of a particular selected user.</para>
<screenshot>
<screeninfo>User management screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/user_management.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
<listitem>
<para>Users must be assigned to at least one geographic location. Users are able to have access to all children of the geographic location(s) which have been assigned to them. For instance, if a user has been assigned to &quot;Greater District X&quot; which has several stations present in the district, the user would have access to the district&apos;s data, as well as all of the stations contained within the district. </para>
<para>In order for users to be able to enter data for specific geographic locations, they must be assigned these units. If a user is responsible for entering data for all stations for a given district, they should typically be assigned the district and all of the stations contained within the district.</para>
</listitem>
</itemizedlist>
</section>
<section id="user_group_management">
<title>User group management</title>
<para>User groups allow you to send notifications to multiple users at the same time. Simply click &quot;Add new&quot; from the &quot;User group&quot; screen, provide a name for the group, and add the desired users from the &quot;Available users&quot; list to the &quot;Group members&quot; list. </para>
</section>
<section id="user_by_org_unit">
<title>User by geographic location</title>
<para>The &quot;User by geographic location&quot; function allows you see which users have been assigned to a particular geographic location. Simply select the geographic location from the tree on the left, and a list of users which have been assigned to this particular geographic location will be displayed</para>
</section>
</section>
</chapter>
<chapter>
<title>Using Data Visualizer</title>
<section id="dvIntro">
<title>Data Visualizer overview</title>
<para>The data visualizer module enables users to easily create dynamic data analysis and visualizations through charts and data tables. You can freely select content (like indicators, periods and geographic locations) for your analysis. This module can be accessed by going to &quot;Services - Data Visualizer&quot; in the main menu. The image below shows the view port of the module. For a quick start:</para>
<orderedlist>
<listitem>
<para> Look under the &quot;Indicator&quot; heading and select an indicator group from the list of groups. </para>
</listitem>
<listitem>
<para>Look under &quot;Available indicators&quot; and select a few indicators from the list by double-clicking on them.</para>
</listitem>
<listitem>
<para>Click &quot;Update&quot; in the top bar and see the chart unfold.</para>
</listitem>
</orderedlist>
<para>The data visualizer is designed firstly to be easy-to-use - you can simply select the indicators, data elements, periods and geographic locations you want to include and click &quot;Update&quot; to get your visualization. Secondly it is designed to be fast and work well over poor Internet connections - charts are generated in the web browser and very little data is transferred over the Internet.</para>
<screenshot>
<screeninfo>Data visualizer module displaying a column chart.</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/visualizer/column_chart.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="dvChartTypes">
<title>Selecting chart type</title>
<para>The visualizer module provides seven different chart types, each with different characteristics. You can select the type of your chart by clicking on one of the icons in top left bar titled &quot;Chart type&quot;.</para>
<orderedlist>
<listitem>
<para>Column chart: Chart which displays information as vertical rectangular columns with lengths proportional to the values they represent. Useful eg. for comparing production of different districts.</para>
</listitem>
<listitem>
<para>Stacked column chart: Chart with vertical rectangular columns where bars representing multiple categories are stacked on top of each other. Useful eg. for displaying trends or sums of related data elements.</para>
</listitem>
<listitem>
<para>Bar chart: Same as column chart, only with horizontal bars.</para>
</listitem>
<listitem>
<para>Stacked bar chart: Same as stacked column chart, only with horizontal bars.</para>
</listitem>
<listitem>
<para>Line chart: Graph which displays information as a series of points connected by straight lines. Also referred to as time series. Useful eg. to visualize trends in indicator data over multiple time periods.</para>
</listitem>
<listitem>
<para>Area chart: Chart which is based on line chart, with the space between the axis and the line filled with colors and the lines stacked on top of each other. Useful for comparing the trends of related indicators.</para>
</listitem>
<listitem>
<para>Pie chart: Circular chart divided into sectors (or slices). Useful e.g. to visualize the proportion of data for individual data elements compared to the total sum of all data elements in the chart.</para>
</listitem>
</orderedlist>
</section>
<section id="dvSeriesCategoryFilter">
<title>Selecting series, category and filter</title>
<para>This section lets you define which dimension of the data you want to appear as series, category and filter. This asks for a closer explanation. Dimension in this regard refers to the elements which describe the data values in the system. We have three main dimensions in the system:</para>
<orderedlist>
<listitem>
<para>Data: Includes data elements and indicators, describing the phenomena or event of the data.</para>
</listitem>
<listitem>
<para>Periods: Describes when the event took place.</para>
</listitem>
<listitem>
<para>geographic locations: Describes where the event took place.</para>
</listitem>
</orderedlist>
<para>The visualization module lets you use these dimensions completely flexible in terms of appearing as series, categories and filter. Understanding these concepts is most easily done by looking at the screen shot from the opening page below: </para>
<screenshot>
<screeninfo>Example chart illustrating the concepts of series, categories and filter.</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/visualizer/series_category_filter.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>More formally this can be described as following:</para>
<orderedlist>
<listitem>
<para>Series: A series is a set of continuous, related elements (eg. periods or data elements) which you want to visualize in order to emphasize trends or relations in its data.</para>
</listitem>
<listitem>
<para>Categories: A category is a set of elements (e.g. indicators or geographic locations) for which you want to compare its data.</para>
</listitem>
<listitem>
<para>Filter: Since most charts are two-dimensional, a filter must be used on the third dimension in order to use only a single element for the chart to become meaningful.</para>
</listitem>
</orderedlist>
</section>
<section>
<title>Selecting indicators and data elements</title>
<para>The visualizer module can display any number of indicators and data elements in a chart and data table. Both indicators and data elements can be selected and appear together in the same chart. You can select indicators by clicking at the &quot;Indicators&quot; header and selecting an indicator group from the list of groups below it. This will make the indicators in the selected group appear in the list under &quot;Available indicators&quot; to the left. From that list you can double click on any indicator in order to select it, this will move it to the list under &quot;Selected indicators&quot;. Alternatively you can mark one or more indicators and click the single-arrow button. To select all indicators you simply click on the double-arrow button. To deselect indicators you can do correspondingly in the &quot;Selected indicators&quot; list.</para>
<para>To select data elements click on the &quot;Data elements&quot; header. The same principle for selecting and deselecting applies as for indicators.</para>
</section>
<section>
<title>Selecting periods</title>
<para>To select periods click on the &quot;Periods&quot; header. You can select any number of periods from the set of periods listed under the header, such as &quot;Last month&quot;, &quot;Months this year&quot; and &quot;Last 5 years&quot;. The names should be fairly self-descriptive. All periods are relative to the current date, meaning that if the current month is March and you select &quot;Last month&quot;, the month of February will be included in the chart.</para>
</section>
<section>
<title>Selecting geographic locations</title>
<para>You can select which geographic locations to include in the chart by clicking on the &quot;geographic locations&quot; header. This section features a tree including all geographic locations in the system. You can select any of the geographic locations by clicking on them. If you want to select multiple, arbitrary geographic locations you can press the Ctrl button and then click away in the tree. If you want to include all geographic locations existing directly under a specific geographic location (the children of the parent geographic location in other terms) you can right-click on the geographic location and select &quot;Select all children&quot;.</para>
</section>
<section>
<title>Selecting chart options</title>
<para>You can set various chart options by clicking on the &quot;Chart options&quot; header in the panel to the left. </para>
<itemizedlist>
<listitem>
<para>Hide subtitle: Hides the title and subtitle of your chart.</para>
</listitem>
<listitem>
<para>Hide legend: Hides the legend and leave more room for the chart itself.</para>
</listitem>
<listitem>
<para>Trend line: The trend line will visualize how your data evolves over time - e.g. is performance improving or deteriorating. Makes sense when periods are selected as category. </para>
</listitem>
<listitem>
<para>User geographic location: Includes the currently logged in user in the geographic location selection for the chart. Useful when displaying the chart on the dashboard, since each user will get a relevant chart for their own location. </para>
</listitem>
<listitem>
<para>Domain axis label: Displays a label below the domain axis (also referred to as the X axis). Can give context information to the chart, e.g. the type of periods being listed.</para>
</listitem>
<listitem>
<para>Range axis label: Displays a label next to the range axis (also referred to as the Y axis). Can give context information to the chart, e.g. the unit of measure being used.</para>
</listitem>
<listitem>
<para>Target line value: Displays a horizontal line at the given domain value. Useful e.g. when you want to compare your performance to the current target.</para>
</listitem>
<listitem>
<para>Target line label: Displays a label next to the target line.</para>
</listitem>
<listitem>
<para>Base line value: Displays a horizontal line at the given domain value. Useful e.g. when you want to visualize how your performance has evolved since the beginning of a process.</para>
</listitem>
</itemizedlist>
</section>
<section id="dvDisplayChart">
<title>Displaying a chart</title>
<para>You can display a chart based on your selections simply by clicking the &quot;Update&quot; button on the top centre menu. This requires that you have selected one or more elements from all of the three dimensions - data, periods and geographic locations. Note that &quot;Months this year&quot; from the period dimension and the root geographic location are selected by default.</para>
<para>Notice that you can hide and show individual data series in the chart by clicking directly on the series label in the chart - they appear either at the top or at the left of the chart.</para>
<para>If you want to give the chart more space on your screen you can click on the triple-arrow button on the top centre menu. This will collapse the left side menu. You can get this menu back by clicking on the same button again.</para>
</section>
<section id="dvDisplayDataTable">
<title>Displaying a data table</title>
<para>After you have rendered a chart you can display the data in a table by clicking on the &quot;Data table&quot; button on the top centre menu (next to &quot;Update&quot;). This will show a table with four columns, one for data (meaning data element or indicator), period, geographic location and data value. This table can be sorted ascending or descending on any of the columns.</para>
<screenshot>
<screeninfo>Example chart illustrating the concepts of series, categories and filter.</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/visualizer/data_table.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="dvSaveChart">
<title>Downloading chart as image or PDF</title>
<para>After you have rendered a chart you can save that view as file and download it to your local computer by clicking on &quot;Save as&quot; on the top centre menu. You can select between PNG (image) or PDF. The file will be automatically downloaded to your computer - for instance can you now embed the image file into a text document as part of a report.</para>
</section>
<section id="dvFavorites">
<title>Saving chart as favorite</title>
<para>Once you have rendered a chart you can save it as a favorite. Click on the &quot;Favorites&quot; button on the top menu and then on the &quot;Manage favorites&quot; link. In the name field enter the desired name for your chart. By ticking the &quot;System&quot; check box the chart will be visible to all users of the system, if you do not tick it the chart will be visible only to yourself. This requires that your user account has the privilege to create system charts. You can rename any favorite by selecting it in the list, modifying its name in the name input field and clicking &quot;Rename&quot;. You can delete any favorite by selecting it and then clicking &quot;Delete&quot;.</para>
<para>These favorite charts can later be included on your personal dashboard. After saving you can navigate to the dashboard module, click on the &quot;Insert&quot; link over the chart areas and select your preferred chart.</para>
<screenshot>
<screeninfo>Data visualizer module displaying a column chart.</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/visualizer/favorites.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Exiting the data visualizer module</title>
<para>If you want to exit the module and go back to the FSNIS start page you can click on the &quot;Exit&quot; button to the right side of the top centre menu.</para>
</section>
</chapter>
<chapter>
<title>Getting started with FSNIS as end-user</title>
<section id="C9_M1">
<title>Getting started with FSNIS</title>
<para>After reading this chapter you will be able to understand:</para>
<itemizedlist>
<listitem>
<para>How to open the FSNIS</para>
</listitem>
<listitem>
<para>How to log in and out of the application</para>
</listitem>
<listitem>
<para>How to navigate the application and access its features</para>
</listitem>
</itemizedlist>
</section>
<section id="C9_M2">
<title>Opening FSNIS</title>
<para>The FSNIS is a web-based application and will be available in an Internet browser when you have Internet connection.</para>
<para>Open a browser, we recommend Google Chrome (download installer here: http://www.google.com/chrome) and in the address field you type hiskenya.org</para>
<para>You will then see the login screen of FSNIS.</para>
</section>
<section id="C9_M3">
<title>Logging in and out of the application</title>
<para>Once you can see the green login screen of FSNIS you must enter your user name and password to log in to the application. If the login is not successful you will be notified that the username or password is incorrect and asked to re-enter these credentials. Once you have successfully logged in you will see the FSNIS Dashboard where you can immediately monitor the latest data in your selected charts and access your favourite FSNIS sites (reports, maps etc).</para>
<para>When you have finished your FSNIS session we recommend that you log out before closing the browser. Use the log out link in the upper right corner and you will be returned to the log in screen.</para>
<screenshot>
<screeninfo>Login screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/login_screen.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="C9_M4">
<title>Navigating the application</title>
<para>The FSNIS has two menu systems; the top menu which leads to the various modules, and the left side menu inside most modules to navigate between features inside each module.</para>
<para>The FSNIS symbol in the top left corner is a fast link to the user-defined start page, the home page. Often this is set to the dashboard module.</para>
<para>The logout button is on the far right of the top menu.</para>
</section>
<section id="C9_M5">
<title>The top menu - access to the modules</title>
<para>The FSNIS consists of various modules (major components) which each have specific features, such as data entry, reporting, dashboard. You can access these modules from the top menu either under Maintenance or Services. Maintenance is mostly used by system administrators that maintain the application and might not be visible. Services is where you will find the more operational features like data entry, data quality and reporting. Under the top menu item Help you can access the built-in user manual, update your user details or view information about the running FSNIS application.</para>
<para>To move to a new module you need to move the mouse pointer to one of the top menu items; Maintenance, Services, or Help. Then a sub menu with modules will appear. Click on the module you would like to open.</para>
</section>
<section id="C9_M6">
<title>Navigation inside modules</title>
<para>When you open most of the modules you will see the module main page which lists the major sub modules or features in the middle of the screen with a short description. Simply click on the feature you would like to open.</para>
<para>When inside a module you will always see the left side menu with links to its features. Use this menu to jump between features.</para>
<para>The data entry and dashboard modules do not have a menu system as they only contain one feature, everything is in one page, so no need for a menu there. </para>
<screenshot>
<screeninfo>Menu system</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/menu_system.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</chapter>
<chapter>
<title>Introduction to indicators</title>
<para>When the Data Elements and Indicators options is chosen from the main Maintenance menu, the following screen appears:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_main.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>From the left side menu or by scrolling down the central area you can access the various sections on Indicators; </para>
<para>Indicator, Indicator Type, Indicator Group, Indicator Group Editor, and Indicator Group Set. </para>
<section id="indicator">
<title>Indicators</title>
<para>Indicators are composed of multiple data elements and typically consist of a numerator and a denominator. Indicators are never entered in FSNIS but instead calculated from the raw data registered in the system, based on the indicator formulas. Indicators are used to calculate i.e. production rates, percent increase, ratios and other calculated values which are more useful for data analysis than the raw data described by data elements. </para>
<para>To access the Indicator maintains page, press Maintenance -&gt; Data Element and Indicators -&gt; Indicator from the main FSNIS menu. You can add, delete, modify and view extra information about the indicators in the system using the icons next to each indicator in the list.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_maintenance_main.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Indicators can be filtered by entering the name or a part of the indicator name in the &quot;Filter by name&quot; field. Similar to data elements, indicators can be added by pressing the &quot;Add new&quot; button. Other operations available from this menu are as follows. </para>
<itemizedlist>
<listitem>
<para><inlinegraphic fileref="resources/images/FSNIS_images/edit.png"/> Edit an existing indicator. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/FSNIS_images/i18n.png"/> Translate an existing indicator. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/FSNIS_images/delete.png"/> Delete an existing indicator. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/FSNIS_images/information.png"/> Get detailed information about this indicator. </para>
</listitem>
</itemizedlist>
<para>To add a new indicator, click the &quot;Add new&quot; button. The following screen is displayed. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_add.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Each of the fields marked with an asterisk are compulsory. A description of each field is provided below. </para>
<itemizedlist>
<listitem>
<para>Name: The full name of the indicator, such as &quot;Rice Yield per Acre&quot;</para>
</listitem>
<listitem>
<para>Short name: An abbreviated name of the indicator such as &quot;Rice Y./acre&quot;</para>
</listitem>
<listitem>
<para>Alternative name: An additional field for a possible alternative name of the indicator. </para>
</listitem>
<listitem>
<para>Code: In many countries, indicator are often assigned a particular code which can be entered here. </para>
</listitem>
<listitem>
<para>Description: A brief, informative description of the indicator and how it is calculated can be entered here. </para>
</listitem>
<listitem>
<para>Annualized: Determines whether or not an annualization factor is applied during the calculation of the indicator. Typically, annualized indicator numerators are multiplied by a factor of 12 and the denominator is a yearly production figure. This allows for monthly yields to be calculated with yearly production figures.</para>
</listitem>
<listitem>
<para>Type: This field will determine a factor that will automatically be applied during the calculation of the indicator. Possible choices are determined by the Indicator Types (described below). For instance, a &quot;Percent&quot; indicator will automatically be multiplied by a factor of 100 when aggregated, so that it will display as a percentage. </para>
</listitem>
<listitem>
<para>URL: Can be used as a link to an indicator registry, where a full metadata description of the indicator can be made available. </para>
</listitem>
</itemizedlist>
<para>To define the numerator and denominator, simply press the respective button, and the following dialogue will be displayed. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_numerator_denominator.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Essentially, an indicator is a formula that can be composed of multiple data element, constant factors, and mathematical operators. In order to define a new indicator proceed with the following steps. </para>
<orderedlist>
<listitem>
<para>Provide a description of the numerator in the &quot;Description field&quot;. </para>
</listitem>
<listitem>
<para>Choose the aggregation operator, either as a SUM or AVERAGE. </para>
</listitem>
<listitem>
<para>Define the formula of the indicator by selecting the data elements that should compose the numerator from the &quot;Data elements&quot; list. Simply double click on a data element and it will appear in the formula. The formula must be mathematically valid, including the proper use of parentheses when necessary. Double click on each of the mathematical operator buttons below the indicator formula definition to add them to your formula. Once you click outside the formula window the Description field below will be updated. </para>
</listitem>
<listitem>
<para>Once you can see that the description field below the formula has been updated and you are done with your formula, you can click the Save button to save all changes to the numerator. Click Cancel to discard any changes that you have made. </para>
</listitem>
<listitem>
<para>Follow the same procedure in order to define the denominator. </para>
</listitem>
</orderedlist>
</section>
<section id="indicatorType">
<title>Indicator types</title>
<para>Indicator types define a factor (e.g. 100 for percentages) that will be applied during aggregation, and makes sure the system calculated indicator values are pre-formatted and need to further manipulation by the user to get percentages etc.</para>
<para>The indicator type maintenance panel has all of the same functions (Add new, Edit, Translate, Delete, and Information) as the Indicator maintenance section. </para>
<para>There are only two fields that need to be filled in to create an indicator type, Name and Factor, as seen below. Name refers to the Indicator type (e.g. Per cent, Per thousand, Per ten thousand, etc). The factor is the numeric factor that will be applied during the calculation of the indicator. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_type.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</chapter>
<chapter>
<title>Using GIS</title>
<section>
<title>GIS module overview</title>
<para>You can access the GIS module from the Services -&gt; GIS link in the top menu. The picture below shows the GIS viewport.</para>
<screenshot>
<screeninfo>Main GIS screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/gis/gis_main.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>On the right hand side there is a panel called &quot;Map layers&quot;. There are three available &quot;base layers&quot;, which means background map, including OpenStreetMap and Google Maps. You may click the text to open a context menu that lets you adjust the opacity/transparency of the background. &quot;Overlays&quot; are described later in this chapter. The final four layers are the vector layers which the user has at his disposal for thematic mapping. You may use this layer tree to show/hide layers by checking/unchecking their check box. The next panel called &quot;Cursor position&quot; tells you at what longitude and latitude your mouse cursor is positioned. The &quot;Feature data&quot; panel provides you with quick information on the geographic locations you mouse hover in your thematic maps. Finally there is a legend panel for all the thematic layers.</para>
<para>The picture below shows the map toolbar:</para>
<screenshot>
<screeninfo>Map toolbar</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/gis/gis_toolbar.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The &quot;Map&quot; buttons from the left: &quot;Zoom in&quot;, &quot;Zoom out&quot;, &quot;Zoom to visible extent&quot; (all thematic map data fits inside the viewport).</para>
<para>The &quot;Layers&quot; buttons from the left: &quot;Thematic layer 1&quot;, &quot;Thematic layer 2&quot;, &quot;station layer&quot;, &quot;Symbol layer&quot;.</para>
<para>The &quot;Tools&quot; buttons from the left: &quot;Favorite map views&quot;, &quot;Predefines legend sets&quot;, &quot;Export map to PNG&quot;, &quot;Measure distances on map&quot;.</para>
<para>The two final buttons are &quot;Administrator settings&quot; and &quot;Help&quot;.</para>
</section>
<section>
<title>Thematic mapping</title>
<para>This section describes the four vector layers which the user has at his disposal for thematic mapping: &quot;Thematic layer 1&quot;, &quot;Thematic layer 2&quot;, &quot;station layer&quot; and &quot;Symbol layer&quot;.</para>
<section id="gisThematicMap">
<title>Thematic layer 1 and 2</title>
<screenshot>
<screeninfo>Thematic mapping</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/gis/gis_thematic_mapping.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The two thematic layer panels let you use your data for thematic mapping. All you need to do is selecting your desired indicator/dataelement-period-map combination, then the geographic location level and finally the parent to define the boundary. If your database has coordinates for these geographic locations they will appear on the map.</para>
<para>You may choose between legend types: <guimenuitem>automatic</guimenuitem> and <guimenuitem>predefined</guimenuitem>. Automatic means that the application will create a legend set for you based on your what method, number of classes, low color and high color you select. Method alludes to the size of the legend classes. Set to <guimenuitem>Equal intervals</guimenuitem> they will be highest map value  lowest map value / number of classes. Set to <guimenuitem>Equal group count</guimenuitem> the legend creator will try to distribute the geographic locations evenly. Choose <guimenuitem>Fixed bounds </guimenuitem>and you may define your own class break values, type e.g. 20,40,60 using a comma to separate each of them. The legend will appear as an even gradation from the start color to the end color. Predefined legend sets are described in <xref linkend="gisLegendSet"/> .</para>
<para>Low radius and high radius only have effect on points (stations) and decides the the circle radius for points with the lowest and highest value.</para>
<para>The map view combo box lists all map views (favorites) saved by the user. The settings that are stored in the map view is automatically applied to the thematic map panel. Favorite map views are described in<xref linkend="gisFavoriteMapView"/> .</para>
<para>All available layer options are now grouped together in the thematic layer menu, see picture below.</para>
<screenshot>
<screeninfo>Thematic layer options</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/gis/gis_thematic_layer_options.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Edit layer: Opens up the layer configuration window, see the thematic mapping screenshot.</para>
<para>Refresh: Refreshes the map boundaries, data and legend. Usually not necessary.</para>
<para>Clear: Clears the entire layer, i.e. the configuration window, the map and the legend panel.</para>
<para>Filter: Opens up the filter window and lets you filter out geographic locations from the map by value. See the picture below.</para>
<screenshot>
<screeninfo>Filter</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/gis/gis_filter.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Search: Opens up the search window and lets you search for and locate geographic locations on the map. See picture below.</para>
<screenshot>
<screeninfo>Search</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/gis/gis_search.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Labels: Opens up the label window and lets you add labels to the geographic locations on the map. See picture below.</para>
<screenshot>
<screeninfo>Labels</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/gis/gis_labels.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Opacity: Set the layer opacity/transparency to 10, 20, 30, 40, 50, 60, 70, 80, 90 or 100%. Higher values of opacity make the layer more transparent, so that the underlying layer is more visible. An opacity level of zero will provide a fully opaque layer.</para>
<para>History: Provides you with a list of your 10 previous maps/selections. They are temporary and thus gone when the application is restarted.</para>
</section>
<section id="gisstationMap">
<title>station layer</title>
<para>This layer displays icons that represent stations based on the station type. Currently, &quot;<guimenuitem>Type</guimenuitem>&quot; is the only supported group set. Polygons will not show up on the map, so make sure to select a station level. Click an icon on the map to open the context menu with two options. &quot;Show information sheet&quot; provides you with data for several data elements for this geographic location. The data element group and period type are &quot;system settings&quot; called &quot;Infrastructural data elements&quot; and &quot;Infrastructural period type&quot;. The second option in the context menu is &quot;Relocate&quot; and lets you graphically move the geographic location to a different location. The new coordinate will be stored permanently.</para>
<screenshot>
<screeninfo>station layer</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/gis/gis_station_layer.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="gisSymbolMap">
<title>Symbol layer</title>
<para>This layer displays icons that represent areas/polygons like provinces, districts etc instead of stations/points. Thus, in this layer you are not supposed to select a station level, but instead a level of provinces, districts etc. In order to render this layer you need to create a predefined legend set of images, described in <xref linkend="gisLegendSet"/>.</para>
<screenshot>
<screeninfo>Symbol layer</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/gis/gis_symbol_layer.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
<section>
<title>Tools</title>
<para>This section describes the available GIS tools, which are available on the &quot;Tools&quot; section of the map toolbar.</para>
<section id="gisFavoriteMapView">
<title>Register favorite map views</title>
<para>Click the &quot;Favorite map views&quot; button (star icon) on the toolbar to get the context menu. The first option is &quot;Manage favorites&quot; which opens up a window where you are supposed to type the name of the favorite and select the layer you want to save. If you are an administrator you can check the &quot;System&quot; checkbox to make the favorite available to all users. From the bottom combobox you may delete a favorite or add it to the FSNIS dashboard.</para>
</section>
<section id="gisLegendSet">
<title>Register legend sets</title>
<para>Example usage (vaccination coverage): Firstly, create the legends that are going to constitute the legend set. The first one could be &quot;Low bad&quot; (display name), 0 (start value), 30 (end value), red (color). Then create &quot;Medium&quot; / 30 / 70 / yellow and finally &quot;High good&quot; / 70 / 100 / green. Now, open the &quot;legend set&quot; panel, type e.g. &quot;High is good&quot; as display name and select the desired legends below. Multi-select your three legends by pressing and holding the Ctrl/Shift button when selecting. Then click the register button to store the legend set. Assign indicators/data elements to your legend set in one of the two last panels. Select the legend set in the combo box and multi-select items in the list below. Click the assign button to update the legend set. Please see the referred window in section 1.1.</para>
</section>
<section id="gisImageExport">
<title>Exporting/saving map images</title>
<para>Click the image icon on the map toolbar and the print window will open. Title: Image title, will appear as a headline in the image. Layers: Choose whether polygons, points or both will be printed. Width/Height: The pixel resolution of the image. Choose among the predefined &quot;small&quot; (800x600), &quot;medium&quot; (1190x880), &quot;large&quot; (1920x1200) or type the exact number of pixels yourself (type the number only, avoid text like &quot;px&quot;). If you want to exclude the legend from the image, untick the legend checkbox. Finally click the export button to print the image (PNG). Please see the referred window in section 1.1.</para>
</section>
<section id="gisMeasureDistance">
<title>Measure distance</title>
<para>Click the two-way arrow icon on the map toolbar to enter measuring mode. Now, click your desired start location on the map and a dotted line will follow the cursor toward your destination. Single click to create a line point, double click to finish the line. To exit measuring mode, click the toolbar icon again or close the window.</para>
</section>
</section>
</chapter>
<chapter>
<title>Using reporting functionality</title>
<section id="reporting_intro">
<title>Reporting functionality in FSNIS</title>
<para>The reporting module in FSNIS provides a range of reporting alternatives, and this section will explain how to use them to view and analyse data. Another section explains how to configure and set up the various reporting tools.</para>
<para><emphasis role="bold">Standard reports:</emphasis> Standard reports are built on report tables but are more advanced in its design allowing for more cosmetics and styles. These reports can also combine multiple tables and charts in the same report and be made available as one-click reports that are very easy to use. These reports can be downloaded as PDF files which makes them ideal for printing as well as sharing offline. </para>
<para><emphasis role="bold">Dataset reports:</emphasis> Dataset reports are simply a printer friendly way to look at the data entry forms with either raw or aggregated data (over time or place). The design used in data entry will be used also in the data set reports. This will work only for data sets that has a custom data entry form set up.</para>
<para><emphasis role="bold">Dashboard:</emphasis> The fastest way to view your data. The dashboard can display up to four updated charts as well as shortcuts to your favourite reports, report tables, and map views. Each user can configure a personal dashboard.</para>
<para><emphasis role="bold">Data Visualizer:</emphasis> Do flexible visualizations of your data as charts and data tables. Any number of indicators and data elements can be included. Several chart types are available such as column, stacked column, line, area and pie charts. The charts can be saved in order to be easily retrieved later and can also be put on your personal dashboard. Charts can be downloaded as image and PDF files to your local computer. </para>
<para><emphasis role="bold">Report tables:</emphasis> These are very configurable table outputs of your data, either showing raw or aggregated data, as well as indicator data. These tables are used as either a data source for more advanced reports, for export to external systems or as a crude report itself and are exportable to pdf, excel, csv and jasper design files. These tables represent a very dynamic, flexible and quick way to look at the data. Report tables can be set up with parameters to make them reusable over time and place.</para>
<para><emphasis role="bold">geographic location distribution reports:</emphasis> These reports are generated off the geographic location group set information and can show what types (and how many of each type) of food grain markets that are located in a given area (any level in the hierarchy). These reports are automatically generated and display the information in both tables and charts and downloads in pdf, excel, and csv are available.</para>
<para><emphasis role="bold">Reporting rate summary:</emphasis> These reports provide a nice overview of how many stations that have submitted their data for a given dataset and period. Here you can get both the counts and the percentages showing the reporting rate for all or single data sets.</para>
<para><emphasis role="bold">Excel pivot tables:</emphasis> Excel pivot tables represents a very powerful way to analyse your data and FSNIS links directly to the pivot tables so that all the data will be available and updated in your Excel file. This can be a very useful tool for users that prefer working with the data offline. To update your local pivot tables you need the myDatamart tool which connects to the online server and downloads the latest data. This update will typically take place once a month when new data is available but do not require a constant internet connection like the other reporting tools (if you are connecting to an online FSNIS server).</para>
<para><emphasis role="bold">Web-based pivot tables:</emphasis> The built in pivot table tool is a simple web-based tool to display indicator data by geographic location and period in a typical pivot table view and allows for some basic pivoting manipulations of the tables. It is a quick and easy way to look at many indicator values at the same time (by geographic location and/or period) but does not have the same functionality as the offline Excel pivot tables. </para>
<para><emphasis role="bold">GIS:</emphasis> Present and analyse your data using thematic maps. You can view both data elements and indicators and given that you have coordinates for all your geographic locations you can drill down the hierarchy and view maps for all levels from country polygons to station points. See the separate chapter on GIS for more details. All the map information is built into FSNIS and all you need to do is to register coordinates for your geographic locations and the maps will be available.</para>
</section>
<section id="standard_reports">
<title>Using standard reports</title>
<para>You access the available reports from the Services drop-down menu, by selecting Reports. In the report menu in the left bar, click Standard Report. A list of all pre-defined reports will appear in the main window. </para>
<screenshot>
<screeninfo>Standard reports</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/standard_reports_ke.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>You run/view a report by clicking on the white and green arrow next to the report you want. You will then see a report parameter window where you must fill in the values needed for geographic location and/or reporting month, depending on what has been defined in the underlying report table(s). Click on &quot;Get Report&quot; when you are ready. The report will wither appear directly in your browser or be available as a .pdf file for download, depending on your browser settings for handling pdf files. You can save the file and keep it locally on your computer for later use. </para>
</section>
<section id="report_tables">
<title>Using report tables</title>
<para>Report tables is a simple-to-use tool for creating tabular analysis. To run a report table first navigate to the list of available report tables in Services-&gt;Reports-&gt;Report Tables and the click on the Green and white arrow (the first symbol in the operations list) next to the report table you want to view. </para>
<para><emphasis role="bold">Report parameters:</emphasis> Most report tables have parameters which means that you can filter which geographic locations and/or periods you want in the report. This makes the reports much more reusable. When you run the report table a Report parameter window will open and ask the user to input values for the selected parameters. The possible parameters are Reporting Month and geographic location and either one of these or both will show in the window. After selecting the values click on the Get Report button.</para>
<screenshot>
<screeninfo>Report table parameters</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/report_parameters.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Export/view options:</emphasis> When the report table is ready it will be displayed in a html view. The report table can be exported to pdf (for better printing and easier saving), excel, csv, and also to a standard report format (Jasper) with a nicer table and a chart shown in pdf, or as a jasper design file for further improvements and changes to the report design before uploading it as a standard report (see the Creating standard reports section).</para>
<screenshot>
<screeninfo>Report table view</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/report_table_view.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para> </para>
</section>
<section id="dataset_reports">
<title>Using dataset reports</title>
<para>Dataset reports are printer friendly views of the data entry screen filled with either raw or aggregated data. These are only available for data sets that have custom data entry forms and not for default or section forms.</para>
<para>You can access data set reports from the Report menu under Services.</para>
<para>A Criteria window will appear where you fill in the details for your report:</para>
<para><emphasis role="bold">Dataset:</emphasis> The data set you want to display.</para>
<para><emphasis role="bold">Reporting period: </emphasis>The actual period you want data for. This can be aggregated as well as raw periods. This means that you can ask for a quarterly or annual report even though the data set is collected monthly. A data set&apos;s period type (collection frequency) is defined in data set maintenance. First select the period type (Monthly, Quarterly, Yearly etc.) in the drop down next to Prev and Next buttons, and then select one of the available periods from the dropdown list below. Use Prev and Next to jump one year back or forward.</para>
<para><emphasis role="bold">Use data for selected unit only:</emphasis> Use this option if you want a report for an geographic location that has children, but only want the data collected directly for this unit and not the data collected by its children. If you want a typical aggregated report for an geographic location you do not want to tick this option.</para>
<para><emphasis role="bold">Reporting geographic location:</emphasis> Here you select the geographic location you want the report for. This can be at any level in the hierarchy as the data will be aggregated up to this level automatically (if you do not tick the option above).</para>
<para>When you are done filling in the report criteria you click on &quot;Generate&quot;. The report will appear in html view in a printer-friendly format. Use print and save as functions in the browser to print or save (as html) the report.</para>
</section>
<section id="resource">
<title>Using resources</title>
<para>The resource tool allows you to upload both files from your local computer to the FSNIS server and to add links to other resources on the Internet through URLs. If you want to share the direct link to the FSNIS resource you can right click on the "view resource" button and copy the link address.</para>
<para>The create a resource click on the &quot;Add new&quot; button. Enter a name for the resource, then choose between uploading a file or external URL. If you chose file upload click &quot;Choose file&quot; and select your file your local computer. If you chose URL enter the link to the resource on the Internet. Then click &quot;Save&quot;.</para>
</section>
<section id="data_visualizer">
<title>Using data visualizer</title>
<para>The data visualizer module can be accessed under &quot;Services&quot; in the top menu. See the chapter called &quot;Using data visualizer&quot; for a thorough explanation of this module.</para>
</section>
<section id="reporting_dashboard">
<title>Using the dashboard</title>
<para>The dashboard is your first view into the data every time you log on to the system. Every user has its own dashboard, and a dashboard consists of 4 chart areas to the right and 3 short cut areas to the left.</para>
<screenshot>
<screeninfo>Dashboard</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/dashboard_kenya.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Customise shortcut areas:</emphasis> Each of the three short cut areas can hold a list of items from one of the following objects; Reports (standard), Documents, Data mart exports, Report tables, Map views, RSS Food grain. To add a new object type to a shortcut area click on the Insert link just above the area. Then to populate the list you need to add items one by one from the Services-&gt;Reports menus. From the various lists of reports, report tables, charts etc. you can add an item by clicking on the pie chart icon next to the item you want to add to the dashboard. </para>
<para>E.g. to add your three favourite standard reports to the dashboard, first Insert Reports to one of the shortcut areas in the dashboard, then go to Services-&gt;Reports and click on Standard reports. From the list of standard reports you locate the reports you want and click on the pie chart icon next to each of the reports you want to add to the dashboard. When you go back to the dashboard you will see the three reports listed in the shortcut area where you inserted Reports.</para>
<para>Use the Clear link above the shortcut area to empty an area. The Close link closes the insert menu without inserting a new object type. </para>
<para><emphasis role="bold">Customise chart areas:</emphasis> There are four chart areas. To insert a chart simply click on insert and click on one of the charts in the list. Use Close to close the list without adding a new chart, and use Clear to empty a chart area. These charts will be updated every time you open the dashboard, will automatically show data for the geographic location assigned to the current user, and will update the data when new periods are available. </para>
<screenshot>
<screeninfo>Adding charts to the dashboard</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/dashboard_add_chart.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="reporting_reporting_rate_summary">
<title>Using reporting rate summary</title>
<para>Access the reporting rate summary from the Services-&gt;Reports menu. Reporting rate summaries will show how many datasets (forms) that have been submitted by geographic location and period. You an use one of three different methods to calculate completeness; 1) based on complete button in data entry, 2) based on a set of defined compulsory data elements, or 3) based on the total registered data values for a dataset. </para>
<para><emphasis role="bold">To run the report do the following:</emphasis></para>
<para>Select an geographic location from the tree.</para>
<para>Select one of the completeness methods.</para>
<para>Select all or one dataset (All will give you a report with all datasets for the selected geographic location. One dataset will give you a report with completeness for all the children of the selected geographic location.</para>
<para>Select a period type and a period from the list of available periods for that period type. Move back/forward one year by using the Prev/Next buttons.</para>
<para>Then the report will be shown automatically.</para>
<para>Change any of the parameters above and the report will be updated automatically.</para>
<screenshot>
<screeninfo>Completeness report</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/completeness_report.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="geographic location_distribution_reports">
<title>Using geographic location distribution reports</title>
<para>You can access the geographic location Distribution reports from the left side menu in the Services-&gt;Reports module. </para>
<para>geographic location distribution reports are reports that show how the geographic locations are distributed on various properties like type and ownership, and by geographic areas.</para>
<para>The result can be presented in a table-based report or in a chart.</para>
<para><emphasis role="bold">Running a report:</emphasis></para>
<para>To run a report first select an geographic location in the upper left side geographic location tree. The report will be based on geographic locations located under the selected geographic location. The select the geographic location group set that you want to use, typically these are Type, Ownership, Rural/Urban but can be any user-defined geographic location group set. The you can click on either Get Report to get the table-based presentation or Get chart to get the same result in a chart.</para>
<screenshot>
<screeninfo>geographic location distribution report</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/geographic location_report.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="web_pivot_table">
<title>Using web pivot table</title>
<para>The web pivot table is a tool for displaying and pivoting indicator and data element data in an easy way. From the open data selection box start by selecting data type which can be data elements or indicators. Select the a group as a filter or leave it on &quot;All&quot;. Select start date, end date and period type to indicate which periods you want to include in the pivot table. Continue by selecting an geographic location from the selection tree. The children at the level below the selected geographic location will be included in the pivot table. Then click &quot;Get data&quot;.</para>
<para>After loading a pivot table you will see that indicators (or data elements) will appear on top as columns, while periods and geographic locations are combined as rows. If you want to pivot the table click on the &quot;Pivot&quot; button and select new dimensions. These dimensions will be displayed as columns in the table when clicking &quot;Pivot&quot;.</para>
<para>In the pivot table you can click on any cell in order to show a menu. From this menu you can choose to visualize the relevant indicator, org unit and period as various chart variants.</para>
<para>To save the pivot table data to your local computer click the &quot;Download as excel&quot; button. The Excel workbook will show each period as a sheet.</para>
</section>
<section id="data_mart">
<title>Using data mart management</title>
<para>The data mart is a set of tables in the FSNIS database which is used by all reporting and analysis tools to retrieve data from. The data mart is populated based on the collected data. This management user interface allows you to control that process of converting collected data into aggregated data and write to the data mart.</para>
<para>The data mart management screen allows you to select period types, start date and end date which will control which periods are included in the data mart process. By default all data elements, indicators and geographic locations will be included.</para>
<para>The data mart process might take a long time and heavily utilize the resources of your server so make sure you start such processes at a feasible time in production environments. Data mart processes can be scheduled as regular tasks in the data administration module.</para>
</section>
</chapter>
<chapter>
<title>Data entry</title>
<section>
<title>Learning Objectives</title>
<para>After reading this chapter you will be able to understand:</para>
<itemizedlist>
<listitem>
<para>How to select the right data entry form</para>
</listitem>
</itemizedlist>
<itemizedlist>
<listitem>
<para>How to enter data</para>
</listitem>
<listitem>
<para>How to do data validation</para>
</listitem>
</itemizedlist>
</section>
<section id="dataEntry">
<title>Data entry with FSNIS</title>
<para>To open the data entry window click on the services tab displayed in the main menu. A
drop down menu will appear listing the services provided by FSNIS. Click
on the <guibutton>Data Entry</guibutton> option.</para>
<para>The data entry module is where data is manually registered in the FSNIS database. Data is registered for an geographic location, a period, and a set of data elements (data set) at a time. A data set often corresponds to a paper-based data collection tool. </para>
<section>
<title>Selecting the data entry form</title>
<para>To start entering data the first step is to open the correct form. Follow these steps:</para>
<orderedlist>
<listitem>
<para> Locate the geographic location you want to register data for in the tree menu to the left. Expand and close branches by clicking on the +/- symbols. A quick way to find an geographic location is to use the search box just above the tree (the green symbol), but you need to write in the full name to get a match.</para>
</listitem>
<listitem>
<para>Select a data set from the dropdown list of data sets available to your selected geographic location. </para>
</listitem>
<listitem>
<para>Select a period to register data for. The available periods are controlled by the dataset&apos;s period type (reporting frequency). You can jump a year back or forward by using the arrows above the period.</para>
</listitem>
</orderedlist>
<para>By now you should see the data entry form. </para>
<para>Depending on how the data entry form has been implemented, you will see three different types of forms: Default forms, section forms, or custom forms. If a custom form exists, it will be displayed, followed in order of precedence by a section form and finally a default form.</para>
<screenshot>
<screeninfo>Main data entry screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/data_entry/data_entry_overview.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Entering data</title>
<para>Simply start entering data by clicking inside the first field and type in the value. Move to the next field using the Tab button. Shift+Tab will take you back one step. The values are saved immediately and do not require any save/finished button click. A green field indicates that the value has been saved in the system (on the server). On a slow connection it might take some time before the values are saved. </para>
<para><emphasis role="bold">Input validation:</emphasis> If you type in an invalid value, e.g. a character in a field that only accepts numeric values you will get a pop-up that explains the problem and the field will be coloured yellow (not saved) until you have corrected the value. If you have defined a min/max range for the field (data element+geographic location combination) a pop-up message will notify you when the value is out of range, and the value will remain unsaved until you have changed the value (or updated the range and then re-entered the value). </para>
<para><emphasis role="bold">Disabled fields:</emphasis> If a field is disabled (grey) it means that the field should not be filled. The cursor will automatically jump to the next open field. </para>
<para><emphasis role="bold">Data history:</emphasis> By double-clicking on any input field in the form a data history window opens showing the last 12 values registered for the current field (geographic location+data element+categoryoptioncombo) in a bar chart. This window also shows the min and max range and allows for adjusting the range for the specific geographic location and data element combination. </para>
<screenshot>
<screeninfo>Data entry section form with history pop-up</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/data_entry_section_history.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Follow Up:</emphasis> In the data history window there is also a feature to tag or star a value. E.g. a suspicious value that needs further investigation can be kept in the system but marked for Follow-Up. In the Data Quality module you can run a Follow-Up analysis and view all values marked for Follow-Up and then later edit the values if proved incorrect. </para>
</section>
<section id="dataEntry_1">
<title>Validating data in the form</title>
<para>When all the available values for the form has been filled in you can run a validation check on the data in the form. Click on the &quot;Run Validation&quot; button in the top right corner. All validation rules which involves data elements in the current form (dataset) will be run against the new data. Upon completion you will be presented with a list of violations or a simply a message that says &quot;The data entry screen successfully passed validation&quot;. See the Data Quality chapter for information on how to define such validation rules.</para>
<para>When you have corrected any erroneous values and are done with the form the recommended practice is to click on the Complete button below the form to register the form as complete. This information is used when generating completeness reports for district, county, province or the national level.</para>
<screenshot>
<screeninfo>Data entry validation result</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNISUserManual/data_entry_validation_result.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Offline data entry</title>
<para> The data entry module will function even if during data entry the Internet connectivity is not stable. In order to utilize this functionality, you must login to the server while the Internet is functional, but if during data entry, the Internet link between your computer and the server becomes unstable, data can still be entered into the data entry form, saved to your local computer, and then pushed to the server once the Internet connectivity has been restored. Data can be entered
and stored locally while being offline and uploaded to the central
server when on-line. This means that the on-line deployment strategy
will be more viable in areas with unstable Internet connectivity. The
total bandwidth usage is greatly reduced since forms no longer are
retrieved from the server for each rendering.</para>
<para>When the server is able to be reached through the Internet connection, a message is displayed at the top of the data entry screen below. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" align="center" fileref="resources/images/data_entry/data_entry_online.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>If the Internet connection should disconnect for some reason during the data entry process, this will be detected by the application and you will be informed that your data will be stored locally. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" align="center" fileref="resources/images/data_entry/data_entry_offline.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Data entry can proceed as normal. Once you have entered all of the necessary data, and the application detects that the server is back on-line, you will be informed that you have data which needs to be synchronized with the server. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" align="center" fileref="resources/images/data_entry/data_entry_offline_upload1.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Once the data has successfully synchronized with the server, you will receive a confirmation message that the data has been successfully uploaded to the server. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" align="center" fileref="resources/images/data_entry/data_entry_offline_upload_success.png"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
</chapter>
<chapter>
<title>Data dimensions in FSNIS</title>
<section id="C14_M1">
<title>The core building blocks describing the data</title>
<para>A data value in FSNIS (core module for aggregated data) is at minimum described by three dimensions, 1) data element, 2) geographic location, and 3) period, which also forms the core building blocks of the data model. E.g. if you want to know how many Aus Rice was produced in District Gopalganj in December 2009, the three dimensions to that value are the Data Element &quot;Aus Rice monthly production&quot;, the geographic location &quot;District Gopalganj&quot;, and the Period &quot;Dec-09&quot;. All data values have at least these three dimensions describing What, Where and When.</para>
<para><table frame="all">
<title/>
<tgroup cols="4">
<colspec colname="c1"/>
<colspec colname="c2"/>
<colspec colname="c3"/>
<colspec colname="c4"/>
<thead>
<row>
<entry>geographic location</entry>
<entry>Data Element</entry>
<entry>Period</entry>
<entry>Value</entry>
</row>
</thead>
<tbody>
<row>
<entry>District Gopalganj</entry>
<entry>Aus Rice monthly production</entry>
<entry>Dec-09</entry>
<entry>22</entry>
</row>
<row>
<entry>City Dhaka</entry>
<entry>Aus Rice monthly production</entry>
<entry>Dec-09</entry>
<entry>18</entry>
</row>
</tbody>
</tgroup>
</table></para>
</section>
<section id="C14_M2">
<title>The data element dimension</title>
<section>
<title>Data element categories</title>
<para>The data element above called &quot;Aus Rice monthly production&quot;, although capturing the core essence of what the data is can be further elaborated and disaggregated into what is called data element categories. The system administrators of FSNIS are free to define any data element category dimensions to data elements using the user interface for this in the data element maintenance section, but here are some examples of possible categories to use.</para>
<para>Given the example of Aus production, if you want to know whether these were produced in a district then you could add a dimension called e.g. &quot;Place of production&quot; with the two possible options &quot;Fixed&quot; and &quot;periphery&quot;. Then all data collected on Aus Rice production would have to be disaggregated along these to options.</para>
<para><table frame="all">
<title> Example of detailed storage of data values when using data element categories &quot;Place of Service&quot; and &quot;Age&quot; (simplified for readability compared to the actual database table)</title>
<tgroup cols="6">
<colspec colname="c1"/>
<colspec colname="c2"/>
<colspec colname="c3"/>
<colspec colname="c4"/>
<colspec colname="c5"/>
<colspec colname="c6"/>
<thead>
<row>
<entry>geographic location</entry>
<entry>Data Element</entry>
<entry>Place of service</entry>
<entry>Age</entry>
<entry>Period</entry>
<entry>Value</entry>
</row>
</thead>
<tbody>
<row>
<entry>District Gopalganj</entry>
<entry>Aus Rice monthly production</entry>
<entry>Fixed</entry>
<entry>&lt;1 y</entry>
<entry>Dec-09</entry>
<entry>12</entry>
</row>
<row>
<entry>District Gopalganj</entry>
<entry>Aus Rice monthly production</entry>
<entry>Outreach</entry>
<entry>&lt;1 y</entry>
<entry>Dec-09</entry>
<entry>4</entry>
</row>
<row>
<entry>District Gopalganj</entry>
<entry>Aus Rice monthly production</entry>
<entry>Fixed</entry>
<entry>&gt;1 y</entry>
<entry>Dec-09</entry>
<entry>4</entry>
</row>
<row>
<entry>District Gopalganj</entry>
<entry>Aus Rice monthly production</entry>
<entry>Outreach</entry>
<entry>&gt;1 y</entry>
<entry>Dec-09</entry>
<entry>2</entry>
</row>
<row>
<entry>City Dhaka</entry>
<entry>Aus Rice monthly production</entry>
<entry>Fixed</entry>
<entry>&lt;1 y</entry>
<entry>Dec-09</entry>
<entry>10</entry>
</row>
<row>
<entry>City Dhaka</entry>
<entry>Aus Rice monthly production</entry>
<entry>Outreach</entry>
<entry>&lt;1 y</entry>
<entry>Dec-09</entry>
<entry>4</entry>
</row>
<row>
<entry>City Dhaka</entry>
<entry>Aus Rice monthly production</entry>
<entry>Fixed</entry>
<entry>&gt;1 y</entry>
<entry>Dec-09</entry>
<entry>3</entry>
</row>
<row>
<entry>City Dhaka</entry>
<entry>Aus Rice monthly production</entry>
<entry>Outreach</entry>
<entry>&gt;1 y</entry>
<entry>Dec-09</entry>
<entry>1</entry>
</row>
</tbody>
</tgroup>
</table></para>
</section>
<section>
<title>Data element group sets</title>
<para>While the data element categories and their options described above dictated the level of detail (disaggregation) at the point of data collection and how data values get stored in the database, the data element group sets and groups can be used to add more information to data elements after data collection. E.g. if looking at a lot of data elements at the same time in a report you would want to group these based on some criteria, e.g. if looking at all the data captured in a form for Agricultural credit and Commodity import you might want to separate or group data elements along a Commodity dimension (called group set) where &quot;Agricultural credit&quot; (or CIP) and &quot;Commodity import&quot; would be the two groups. Expanding the report to include data from other programs or larger themes of Food grain data would mean more groups to such a group set dimension, like &quot;Fertilizers&quot;, &quot;Production&quot;, &quot;Stocks&quot;. For this example you would create a data element group set called &quot;Commodity&quot; (or whatever name you find appropriate), and to represent the different Commodity in this dimension you would define data elements groups called &quot;CIP&quot;, &quot;Nutrition&quot;, &quot;Agricultural Credit&quot;, &quot;Production&quot; and so on, and add all these groups to the &quot;Commodity&quot; group set. To link or tag the data element &quot;Aus Rice Production&quot; to such a dimension you must (in our example) add it to the &quot;CIP&quot; group. Which groups you add &quot;Agricultural Credit&quot; to does not affect how food grain markets collect the data but adds more possibilities to your data analysis. So for the group set dimensions there are three levels; the group set (e.g. &quot;Commodity&quot;), the group (e.g. &quot;CIP&quot;), and the data element (e.g. &quot;Aus Rice Production&quot;).</para>
<para>Indicators can be grouped into indicator groups and further into indicator group sets (dimensions) in exactly the same way as data elements.</para>
<para><table frame="all">
<title/>
<tgroup cols="5">
<colspec colname="c1"/>
<colspec colname="c2"/>
<colspec colname="c3"/>
<colspec colname="c4"/>
<colspec colname="c5"/>
<thead>
<row>
<entry>geographic location</entry>
<entry>Data Element</entry>
<entry>Dataset</entry>
<entry>Period</entry>
<entry>Value</entry>
</row>
</thead>
<tbody>
<row>
<entry>District Gopalganj</entry>
<entry>Aus Rice Production</entry>
<entry>CIP</entry>
<entry>Dec-09</entry>
<entry>22</entry>
</row>
<row>
<entry>District Gopalganj</entry>
<entry>Actual Opening Stock</entry>
<entry>Stocks</entry>
<entry>Dec-09</entry>
<entry>16</entry>
</row>
<row>
<entry>City Dhaka</entry>
<entry>Aus Rice Production</entry>
<entry>CIP</entry>
<entry>Dec-09</entry>
<entry>18</entry>
</row>
<row>
<entry>City Dhaka</entry>
<entry>Actual Opening Stock</entry>
<entry>Stocks</entry>
<entry>Dec-09</entry>
<entry>12</entry>
</row>
<row>
<entry>City Dhaka</entry>
<entry>Aman Seed Distribution</entry>
<entry>Distribution</entry>
<entry>Dec-09</entry>
<entry>32</entry>
</row>
<row>
<entry>City Dhaka</entry>
<entry>Aus Rice Production</entry>
<entry>CIP</entry>
<entry>Dec-09</entry>
<entry>23</entry>
</row>
</tbody>
</tgroup>
</table></para>
</section>
</section>
<section id="C14_M3">
<title>The geographic location dimension</title>
<para>geographic locations in FSNIS can be either any type of food grain market like Community Food grain Centres or stations or an administrative unit like &quot;Ministry of Food&quot;, &quot;Division Barisal&quot; or &quot;Greater District Barisal&quot;. geographic locations are represented in a default hierarchy following the Food grain system at large, and are therefore assigned a geographic location level. E.g. Bangladesh has these levels; National, Division, Greater District and  District, City and Station and all geographic locations are linked to one of these levels. An geographic location hierarchy in FSNIS can have any number of levels. Normally data is collected at the lowest level, at the stations and then data values are linked to individual stations. When designing reports at higher levels with data aggregated by chiefdom or district, the FSNIS will use the hierarchy structure to sum up all the food grain markets&apos; data for any given unit at any level. The geographic location level capturing the data always represents the lowest level of detail that is possible to use in data analysis, and the geographic location levels define the available levels of aggregation along a geographic dimension.</para>
<section>
<title>geographic location group sets and groups</title>
<para>While station is the lowest geographic level for disaggregation in FSNIS there are ways to flexibly group geographic locations into any number of dimensions by using the group sets and groups functionality. E.g. if all stations are given an official type like City, District, etc. it is possible to create a geographic location group set called &quot;geographic location type&quot; and add groups with the names of the types mentioned above. Then you can link your geographic locations to their corresponding groups (geographic location types). Other common geographic location dimensions are Rural/Urban (Rural, Urbal, Peri-urban), and Ownership (Public, Private. NGO etc.). When analysing data from the Station level it then becomes possible to aggregate data by these dimensions, e.g. look at Aus production in Barisal district by the type of Station in stead of the Stations themselves.</para>
<section>
<title>Alternative geographic location hierarchies - advanced use of group sets and groups</title>
<para>A more advanced use of geographic location group sets and groups is to create alternative hierarchies e.g. use administrative borders from other ministries.</para>
<para><table frame="all">
<title/>
<tgroup cols="5">
<colspec colname="c1"/>
<colspec colname="c2"/>
<colspec colname="c3"/>
<colspec colname="c4"/>
<colspec colname="c5"/>
<thead>
<row>
<entry>District</entry>
<entry>geographic location Type</entry>
<entry>Data Element</entry>
<entry>Period</entry>
<entry>Value</entry>
</row>
</thead>
<tbody>
<row>
<entry>Barisal</entry>
<entry>Station Barisal</entry>
<entry>Aus Production</entry>
<entry>Dec-09</entry>
<entry>121</entry>
</row>
<row>
<entry>Barisal</entry>
<entry>Station Bhola</entry>
<entry>Aus Production</entry>
<entry>Dec-09</entry>
<entry>98</entry>
</row>
<row>
<entry>Chittagong</entry>
<entry>Station Chittagong</entry>
<entry>Aus Production</entry>
<entry>Dec-09</entry>
<entry>87</entry>
</row>
<row>
<entry>Chittagong</entry>
<entry>Station Bhola</entry>
<entry>Aus Production</entry>
<entry>Dec-09</entry>
<entry>110</entry>
</row>
<row>
<entry>Chittagong</entry>
<entry>Sandwip</entry>
<entry>Aus Production</entry>
<entry>Dec-09</entry>
<entry>67</entry>
</row>
<row>
<entry>Chittagong</entry>
<entry>Sitakunda</entry>
<entry>Aus Production</entry>
<entry>Dec-09</entry>
<entry>59</entry>
</row>
</tbody>
</tgroup>
</table></para>
</section>
</section>
<section>
<title>Best practice on the use of group sets and groups</title>
<para>Groups that are not members of group sets are more or less useless for analysis (should we allow this at all?). With all the groups you get by e.g. including all different diagnoses as groups the full list of groups does not makes sense in any pivot table, and you easily get duplicates in your pivot tables since data elements or indicators are members of multiple groups. This can be controlled by the use of group sets. So the recommendation is to assign all your groups to a group set, and then you pull the group sets you need into your reports and analysis. </para>
<para>It is also recommended to have one group set that is used for the major organising of all data in e.g. a pivot table, e.g use Food grain programs or other larger themes for data elements or indicators that together cover all the data. That will provide a nicely organised overview of all your raw data or indicator data.</para>
<para>The resource table gives all groupsets as columns with groups as rows, and 1 DE per row.
This means that all groupsets are joined in when e.g. creating a view to a pivot table. Resource tables have to be generated from the Maintenance-&gt;Data Administration-&gt;Resource Table window, and more information on this is available in a later chapter called Data Administration in FSNIS or from the online help text in that window.
</para>
</section>
</section>
<section id="C14_M4">
<title>The time (period) dimension</title>
<para>The period dimension becomes an important factor when analysing data over time e.g. when looking at cumulative data, when creating quarterly or annual aggregated reports, or when doing analysis that combines data with different characteristics like monthly routine data, annual production/ procurement data or six-monthly fertilizer data.</para>
<section>
<title>Period Types</title>
<para>In FSNIS the periods are organised according to a set of fixed period types: 1) Daily, 2) Weekly, 3) Monthly, 4) Quarterly, 5) Six-monthly, 6) Yearly, 7) Two-yearly, and 8) a special period type called Relative.

</para>
<para>As a rule of thumb all geographic locations should collect the same data using the same frequency or periodicity, so first of all the periods play an important role in standardising data collection across the country. A data entry form therefore needs to know its period type to make sure data is always collected according to the correct and same periodicity across the country. </para>
<para>It is possible however to collect the same data elements using different period types by assigning the same data elements to multiple data sets with different period types, however then it becomes crucial to make sure no geographic location is collecting data using both data sets/period types as that would create overlap and duplication of data values. If set up correctly the aggregation service in FSNIS (through datamart and report tables) will aggregate the data together, e.g. the monthly data from one part of the country with quarterly data from another part of the country into a national quarterly report. For simplicity and to avoid data duplication we strongly advice to use the same period type for all geographic locations for the same data elements when possible. </para>
</section>
<section>
<title>Relative periods</title>
<para>When creating reports within the FSNIS (report tables, standard reports, charts) it is possible to make use of the relative periods functionality. The simplest scenario is when you want to design a monthly report that can be reused every month without having to make changes to the report template to accommodate for the changes in period. The relative period called reporting_month allows for this, and the user can at the time of report generation through a report parameter select the month to use in the report. </para>
<para>A slightly more advanced use case is when you want to make a monthly summary report for procurement and want to look at the data from the current (reporting) month together with a cumulative value for the year so far. The relative period called &quot;So far this year&quot; provides such a cumulative value relative to the reporting month selecting when running the report. Other relative periods are the last 3,6, 9 or 12 months periods which are cumulative values calculated back from the selected reporting month. If you want to create a report with data aggregated by quarters (the ones that have passed so far in the year) you can select &quot;Individual quarters this year&quot;. Other relative periods are described under the reporting table section of the manual. Common for all the relative periods is that they are relative to a selected reporting month. Even quarterly or annual reports need to know their reporting month to derive the year, the quarter and so on. The reporting month then becomes one of the report parameters the users have to select when running a report based on relative periods.</para>
<para><table frame="all">
<title/>
<tgroup cols="5">
<colspec colname="c1"/>
<colspec colname="c2"/>
<colspec colname="c3"/>
<colspec colname="c4"/>
<colspec colname="c5"/>
<thead>
<row>
<entry>geographic location</entry>
<entry>Data Element</entry>
<entry>Reporting month</entry>
<entry>So far this year</entry>
<entry>Reporting month name</entry>
</row>
</thead>
<tbody>
<row>
<entry>Chittagong</entry>
<entry>Aus Production</entry>
<entry>15</entry>
<entry>167</entry>
<entry>Oct-09</entry>
</row>
<row>
<entry>Sandwip</entry>
<entry>Aus Production</entry>
<entry>17</entry>
<entry>155</entry>
<entry>Oct-09</entry>
</row>
</tbody>
</tgroup>
</table></para>
</section>
<section>
<title>Aggregation of periods</title>
<para>While data needs to be collected on a given frequency to standardise data collection and management, this does not put limitations on the period types that can be used in data analysis and reports. Just like data gets aggregated up the geographic location hierarchy, data is also aggregated according to a period hierarchy, so you can create quarterly and annual reports based on data that is being collected on a Monthly basis. The defined period type for a data entry form (data set) defines the lowest level of period detail possible in a report.</para>
<section>
<title>Sum and average aggregation along the period dimension</title>
<para>When aggregating data on the period dimension there are two options for how the calculation is done; 1) sum and 2) average, which is specified per data element in the FSNIS through the use of the &apos;aggregation operator&apos; attribute in the Add/Edit Data Elements window.

</para>
<para>Most of the data collected on a routinely basis should be aggregated by summing up the months or weeks, e.g. you create a quarterly report on Aus Production by summing up the three monthly values for &quot;Aus Production&quot;.

</para>
<para>Other types of data that are more permanently valid over time like &quot;Number of markets in the Station&quot; or an annual production estimate of &quot;Annual Production&quot; need to be aggregated differently. These values are static for all months as long as there are valid data. E.g. the estimated annual production calculated from the previous years data is the same for all months in a year or the number of open markets in a Station is the same for every month in the 6 months period the number is reported for.

</para>
<para>This difference e.g. becomes important when calculating an annual value for the indicator for a Station. The monthly data elements are summed up for the 12 months to get the annual score while the number of markets for the Station is calculated as the average of the two 6-monthly values reported through the 6-monthly market report. 
</para>
<para>Another important feature of average data elements is the validity period concept. Average data values are standing values for any period type within the borders of the period they are registered for. E.g. an annual production estimate following the calendar year will have the same value for any period that falls within that year no matter what the period type.
</para>
</section>
</section>
</section>
<section id="C14_M5">
<title>Data collection vs. data analysis</title>
<section>
<title>Data collection and storage</title>
<para>The datasets determine what raw data that is available in the system as they describe how data is collected. Through the data sets we define the building blocks of the data to be captured and stored in the FSNIS. For each data dimension we decide what level of detail the data should be collected on; 1) the data element (e.g. offtake,import or any event taking place) and its categories (e.g. type and brand), 2) the period/frequency dimension, and 3) the geographic location dimension. For any report or data analysis you can never retrieve more detailed data than what is defined in the datasets so the design of the datasets and their corresponding data entry forms (the data collection tools) dictate what kind of data analysis that will be possible.</para>
</section>
<section>
<title>Input != Output</title>
<para>It is important to understand that the data entry forms or datasets themselves are not linked to the data (values) and that the meaning of data (the What) is only described by the data element (and its categories). This makes it perfectly safe to modify datasets and forms without altering the data (as long as the data elements stay the same). This loose coupling between forms and data makes FSNIS flexible when it comes to designing and changing new forms and in providing exactly the form the users want. </para>
<para>Another benefit of only linking data to data elements and not to forms is the flexibility of creating indicators and validation rules based on data elements, and also in providing any kind of output report (in pivot tables, charts, maps etc) that can combine data individually or across forms, e.g. to correlate data from different Food grain programs. Due to this flexibility of enabling integration of data from various programs (forms) and sources (routine and semi permanent (production, sale, fertilizers)) a FSNIS database is used as an integrated data repository for many or all parts of the aggregated data in a larger system. The figure below illustrates this flexibility.</para>
<para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/data_dimensions/FSNIS_input_output.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot>
</para>
</section>
</section>
<section id="C14_M6">
<title>Some more examples</title>
<para>The table below combines data element the two group sets Procurement (all the crops) and offtake with the data element category Station. Imports are captured in a separate form with other dimensions (e.g. the Station).</para>
<para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/data_dimensions/Ex_table1.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot>
</para>
<para>This output table combines the two data element categories Procurement and offtake with the data element group set. The group enables subtotals for staging and entry points summing up the data elements in that group.</para>
<para>
<screenshot>
<screeninfo>FSNIS Login screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/data_dimensions/Ex_table2.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot>
</para>
</section>
<section id="C14_M8">
<title>From paper for to multidimensional datasets - lessons learned</title>
<para>Typically the design of a FSNIS dataset is based on some requirements from a paper form that is already in use. The logic of paper forms are not the same as the data element and data set model of FSNIS, e.g. often a field in a tabular paper form is described both by column headings and text on each row, and sometimes also with some introductory table heading that provides more context. In the database this is captured in one atomic data element with no reference to a position in a visual table format, so it is important to make sure the data element with the optional data element categories capture the full meaning of each individual field in the paper form. </para>
<para>Another important thing to have in mind while designing datasets is that the dataset and the corresponding data entry form (which is a dataset with layout) is a data collection tool and not a report or analysis tool. There are other far more sophisticated tools for data output and reporting in FSNIS than the data entry forms. Paper forms are often designed with both data collection and reporting in mind and therefore you might see things such as cumulative values (in addition to the monthly values), repetition of annual data (the same population data reported every month) or even indicator values such as rates in the same form as the monthly raw data. When you store the raw data in FSNIS every month and have all the processing power you need within the computerised tool there is no need (in fact it would be stupid and most likely cause inconsistency) to register manually calculated values such as the ones mentioned above. You only want to capture the raw data in your datasets/forms and leave the calculations to the computer, and presentation of such values to the reporting tools in FSNIS.</para>
</section>
</chapter>
<chapter>
<title id="dashboards">Dashboard</title>
<para>Dashboards are intended to provide quick access to individual users to the data which has been stored in FSNIS. Dashboards consist of several sections, some of which provide links to reports or mapview which have already been defined. Other sections of the dashboard allow users to add charts which have been defined and made available through the charting module. </para>
<section id="dashboards_setup">
<title>Setting up the dashboard</title>
<para>The dashboard is divided into two main sections. The right-side pane (denoted as A in the screenshot below) can be used to contain links to reports, documents (static reports), report tables, map views, and an RSS Food grain feed. The left-side zone (denoted as B in the screen shot) can be used to contain up to six separate charts which have been previously created in the charting reporting module. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="90%" align="center" fileref="resources/images/dashboard/dashboard_main.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>In this screen shot, the dashboard has already been populated with a number of reports and mapviews. Simply clicking on one of the blue links will bring you automatically to the report or map view. Clicking on one of the charts will display a larger chart, which you can save as an image, and include in a report or other document. </para>
<para>You can redefine the structure of the dashboard by clearing the each of the windows by clicking the &quot;Clear&quot; link. By clicking &quot;Insert&quot; again, you can then select a new chart to appear in the window. </para>
<para>All reports, documents, report tables and charts can be added to the list of available options by clicking on the &quot;Add to dashboard&quot; icon <inlinegraphic fileref="resources/images/FSNIS_images/add_to_dashboard.png"/> in each of the respective modules. Please refer to the sections to each of the sections in this manual for more detailed instructions. Once you have added the object to the list of available objects, you can&quot;Insert&quot; it on the dashboard.</para>
<note>
<para>Dashboard are configured for each individual user. </para>
</note>
</section>
<section>
<title id="dashboard_messages">Messages and feedback</title>
<para>FSNIS has certain functions to facilitate communication between different users and user groups. This type of communication is important to facilitate feedback regarding data quality, timeliness of submissions, or to simply answer a question which a particular user may have. </para>
<para>Feedback messages are sent to a particular group of users and can be sent by all users who have access to the dashboard module. In order to enable the receipt of feedback messages sent from the dashboard, you must set the system setting &quot;Feedback recipients&quot; which is available from the Maintenance-&gt;System settings dialog. Be sure to define a user group (e.g &quot;Feedback recipients&quot;) with all of the users who should receive feedback messages. Refer to the section in this manual on &quot;User groups&quot; for more information of how to do this. Once the &quot;Feedback recipients&quot; user group has been defined, each time a feedback message is sent, it will appear as a message in each of the &quot;Feedback recipients&quot; message queue within FSNIS. Note that messages will not be sent to users email addresses, but will only appear within the FSNIS application. </para>
<para>To send a new feedback message, simply select &quot;Write feedback&quot; from the dashboard. Provide a subject and text in the respective text boxes. The message will appear in all of the specified users message queue. </para>
<para>Messages can be sent to specific groups of users who have been assigned to particular geographic locations. To write a new message, simply click &quot;Messages&quot; from the dashboard screen and then press the &quot;Write message&quot; button.. Select an geographic location (or group of geographic locations) from the &quot;Recipients&quot;geographic location tree. Provide a Subject and Text. To send the message, press the &quot;Send&quot; button. You can discard the message by pressing the &quot;Discard&quot; button as seen in the screenshot below.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="90%" align="center" fileref="resources/images/dashboard/dashboard_messages.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>To read messages which have been sent to you, select &quot;Messages&quot; from the &quot;Dashboard&quot; . You messages will be displayed as a list. Click the desired message to read all of the messages in this particular conversation. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" align="center" fileref="resources/images/dashboard/dashboard_message_queue.png"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</chapter>
<chapter>
<title>Data Administration</title>
<para>The data administration module provides a range of functions to ensure that the data stored in the FSNIS database is integral and that the database performance is optimised. These functions should be executed on a regular basis by a data administrator to ensure that the quality of the data stored is optimal. </para>
<section id="dataBrowser">
<title>Data browser</title>
<para>The data browser maintenance and analysis module which allows the user to produce a summary of the data contained in the FSNIS database. The summary view provides a count of data elements which have been entered at the selected geographic location as well as its descendants. Raw data for all data elements for a range of time periods and a given geographic location can be browsed and exported to Excel, CSV, or PDF formats. There are four modes of the data browser, which determine how the data is summarized</para>
<itemizedlist>
<listitem>
<para>Data sets</para>
</listitem>
<listitem>
<para>Data element groups</para>
</listitem>
<listitem>
<para>Organisational unit groups</para>
</listitem>
<listitem>
<para>Organisational units</para>
</listitem>
</itemizedlist>
<para>Each of these options can be accessed by selecting the desired option from <guilabel>&quot;Browse by&quot; </guilabel>drop-down menu. </para>
<para>In order to produce a summary of submitted data for a given period and grouped by data sets, the user should follow this procedure. Begin by selecting a given periodicity type (e.g. Weekly, monthly, yearly, etc) and then a &quot;From date&quot; and &quot;To date&quot;. (e.g. January 2009 to March 2009). Select the type of summary to be produced (e.g. Dataset) from the &quot;Browse by&quot; drop-down menu. Click the &quot;Browse&quot; button to view the summary. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_browser1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A summary of the number of data element values that have been submitted over the user selected time period is shown below. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_browsing_data_sets.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para> By clicking on the name of the individual dataset, a more detailed summary of each data element can be obtained as shown below. A cross-tab table summarising each time period will be shown. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_browser_dataset_detail.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The functionality of the grouping by Datasets, Data element groups, and geographic location groups is essentially the same. </para>
<para>The functionality of grouping by geographic locations will be discussed below. Begin by selecting &quot;geographic locations&quot; from the &quot;Browse by&quot; drop-down menu. The geographic location hierarchy present in the database will now be displayed.geographic locations can be expanded by clicking on the plus symbol in the geographic location tree view.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/maintainence/data_browser_org_unit1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para> By clicking on a geographic location, and the clicking the &quot;Browse&quot; button, a summary of submitted data elements present in the database is returned for all immediate children of the selected geographic location as shown below:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" fileref="resources/images/maintainence/data_browser_geographic location2a.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>By clicking on one of the geographic locations, two drill down modes are presented to the user. </para>
<itemizedlist>
<listitem>
<para>Summary drill down- Drill down to the selected geographic locations children to see the count of data elements. </para>
</listitem>
<listitem>
<para>View raw data at this level: View the actual raw data at the selected geographic location. A typical view of the raw data export can be seen below.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/maintainence/data_browser_org_unit_raw.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Data can be exported into Excel, CSV and as a PDF report by clicking the appropriate button.</para>
</listitem>
</itemizedlist>
</section>
<section id="dataIntegrity">
<title>Data integrity</title>
<para>FSNIS can perform a wide range of data integrity checks on the data contained in the database. Identifying and correcting data integrity issues is extremely important for ensuring that the data used for analysis purposes is valid. Each of the data integrity checks that are performed by the system will be described, along with general procedures that can be performed to resolve these issues. </para>
<section>
<title>Data elements without data set</title>
<para>Each data element must be assigned to a data set. Values for data elements will not be able to be entered into the system if a data element is not assigned to a data set. Choose Maintenance-&gt;Datasets-&gt;Edit from the main menu and then add the &quot;orphaned&quot; data element to the appropriate data set. </para>
</section>
<section>
<title>Data elements without groups</title>
<para>Some Data Elements have been allocated to several Data Element Groups. This is currently not allowed, because it will result in duplication of linked data records in the PivotSource recordsets that `feed` the pivot tables. Go to Maintenance -&gt; Data Element Groups to review each Data Element identified and remove the incorrect Group allocations.</para>
</section>
<section>
<title>Data elements violating exclusive group sets</title>
<para>
Some data elements have been allocated to several data element groups that are members of the same data element group set. All group sets in FSNIS are defined as exclusive, which means that a data element can <emphasis>only</emphasis> be allocated to <emphasis>one</emphasis> data element group within that group set. Go to Maintenance -&gt; Data elements and indicators -&gt;Data element groups to review each data element identified in the integrity check. Either remove the data element from all groups except the one that it should be allocated to, or see if one of the groups should be placed in a different group set.
</para>
</section>
<section>
<title>Data elements assigned to data sets with different period types</title>
<para>Data Elements should not be assigned to two separate data sets whose period types differ. The recommended approach would be to create two separate data elements (for instance a monthly and yearly data element) and assign these to respective datasets. </para>
</section>
<section>
<title>Data sets not assigned to geographic locations</title>
<para>All data sets should be assigned to at least one geographic location. </para>
</section>
<section>
<title>Indicators with identical formulas</title>
<para>Although this rule will not affect data quality, it generally does not make sense to have two indicators with the exact same definition. Review the identified indicators and their formulas and delete or modify any indicator that appears to be the duplicate.</para>
</section>
<section>
<title>Indicators without groups</title>
<para>All Data Elements and Indicators must be assigned to at least one group, so these Indicators need to be allocated to their correct Data Element and Indicator Group. Go to Maintenance -&gt; Indicator Groups, and allocate each of the `Orphaned` Indicators to its correct group.</para>
</section>
<section>
<title>Invalid indicator numerators</title>
<para>Violations of this rule may be caused by an incorrect reference to a deleted or modified data element. Review the indicator and make corrections to the numerator definition. </para>
</section>
<section>
<title>Invalid indicator denominators</title>
<para>Violations of this rule may be caused by an incorrect reference to a deleted or modified data element. Review the indicator and make corrections to the denominator definition. </para>
</section>
<section>
<title>Indicators violating exclusive group sets</title>
<para>
Some indicators have been allocated to several indicator groups that are members of the same indicator group set. All group sets in FSNIS are defined as exclusive, which means that an indicator can <emphasis>only</emphasis> be allocated to <emphasis>one</emphasis> indicator group within that group set. Go to Maintenance -&gt; Data elements and indicators -&gt;Indicator groups to review each indicator identified in the integrity check. Either remove the indicator from all groups except the one that it should be allocated to, or see if one of the groups should be placed in a different group set.
</para>
</section>
<section>
<title> geographic locations with cyclic references</title>
<para>geographic locations cannot be both parent and children of each other, directly nor indirectly.</para>
</section>
<section>
<title>Orphaned geographic locations</title>
<para>All geographic locations must exist within the geographic location hierarchy. Go to Organisation-&gt;Hierarchy Operations and move the offending geographic location into the proper position in the hierarchy. </para>
</section>
<section>
<title>geographic locations without groups</title>
<para>All geographic locations <emphasis>must</emphasis> be allocated to at least <emphasis>one</emphasis> group. The problem might either be that you have not defined any `compulsory` geographic location Group Set at all, or that there are violations of the `compulsory` rule for some geographic locations . NOTE: If you have defined no `compulsory` geographic location Group Sets, then you must first define them by going to Maintenance -&gt; geographic locations-&gt;geographic location group sets and define at least one `compulsory` Group Set (the group set `geographic locationType` are nearly universally relevant). If you have the relevant group sets, go to Maintenance -&gt; geographic location Groups to review each geographic location identified and add the relevant Group allocation.</para>
</section>
<section>
<title>geographic locations violating compulsory group sets</title>
<para>These geographic locations have not been assigned to the any geographic location group within one of the <emphasis>compulsory</emphasis> geographic location group sets. When a group set is defined as `compulsory`, it means that a geographic location must be allocated to at least one geographic location group within that group set. For instance, all geographic locations must belong to one of the groups in the `geographic locationType` group set. It might belong to the `Open market` or the `District` or any other `type` group - but it must belong to exactly one of them. Go to Maintenance -&gt; geographic location-&gt;geographic location groups to review each geographic location identified in the integrity check. Allocate all geographic locations to exactly one group. </para>
</section>
<section>
<title>geographic locations violating exclusive group sets</title>
<para>Some geographic locations have been allocated to several geographic location groups that are members of the same geographic location group set. All group sets in FSNIS are defined as exclusive, which means that an geographic location can <emphasis>only</emphasis> be allocated to <emphasis>one</emphasis> geographic location group within that Group Set. For instance, one geographic location cannot normally belong to the both the &apos;Hospital&apos; and &apos;Clinic&apos; groups , but rather to only to one of them. Go to Maintenance -&gt; geographic location-&gt;geographic location groups to review each geographic location identified in the integrity check. Remove the geographic location from all groups except the one that it should be allocated to.</para>
</section>
<section>
<title> geographic location groups without group sets</title>
<para>The geographic location groups listed here have not been allocated to a group set. Go to Maintenance-&gt;geographic location-&gt;geographic location group sets and allocate the geographic location group to the appropriate group set. </para>
</section>
<section>
<title>Validation rules without groups</title>
<para>All validation rules must be assigned to a group. Go to <command>Services-&gt;Data quality-&gt;Validation rule group</command> and assign the offending validation rule to a group. </para>
</section>
<section>
<title>Invalid validation rule left side expressions</title>
<para>An error exists in the left-side validation rule definition. Go to <command>Services-&gt;Data quality-&gt;Validation rule</command> and click the &quot;Edit&quot; icon on the offending rule. Press &quot;Edit left side&quot; and make the corrections that are required. </para>
</section>
<section>
<title>Invalid validation rule right side expressions</title>
<para>An error exists in the left-side validation rule definition. Go to <command>Services-&gt;Data quality-&gt;Validation rule</command> and click the &quot;Edit&quot; icon on the offending rule. Press &quot;Edit right side&quot; and make the corrections that are required.</para>
</section>
</section>
<section id="dataArchive">
<title>Data Archive</title>
<para>The purpose of the data archive function is to move data which is currently not being used for analysis to a secondary storage location in order to improve performance of the application. Data can be both archived and unarchived. When archiving data one moves it from the primary storage to the secondary storage location, while unarchiving moves it from the secondary storage location to the primary. Analysis functionality in FSNIS heavily utilizes queries to the data value database table, and by reducing the size of this table these operations will be significantly faster. Typically one would want to archive data that is older than two years.</para>
<para>To archive data, first enter a start date and an end date for the time span of the data which should be archived. Then press the archive button. The operation might take a few minutes.</para>
<para>To unarchive data, first enter a start date and an end date for the time span of the data which should be unarchived. Then press the unarchive button. The operation might take a few minutes.</para>
<para>In some cases you might end up with overlapping data. For instance one might archive data for a given timespan, then later enter data for a period in that timespan. In such cases the system will automatically overwrite the oldest of the overlapping values with the newest during the archive or unarchive operation.</para>
</section>
<section id="patientDataArchive">
<title>Person Data Archive</title>
<para>The purpose of the person data archive function is to move person data value which is currently not being used for analysis to a secondary storage location in order to improve performance of the application. Data can be both archived and unarchived. When archiving data one moves it from the primary storage to the secondary storage location, while unarchiving moves it from the secondary storage location to the primary. Analysis functionality in FSNIS heavily utilizes queries to the data value database table, and by reducing the size of this table these operations will be significantly faster. Typically one would want to archive person data that is older than two years.</para>
<para>To archive person data, first enter a start date and an end date for the time span of the data which should be archived. Then press the archive button. The operation might take a few minutes.</para>
<para>To unarchive person data, first enter a start date and an end date for the time span of the data which should be unarchived. Then press the unarchive button. The operation might take a few minutes.</para>
<para>In some cases you might end up with overlapping data. For instance one might archive person data for a given timespan, then later enter data for a period in that timespan. In such cases the system will automatically overwrite the oldest of the overlapping values with the newest during the archive or unarchive operation.</para>
</section>
<section id="maintenance">
<title>Maintenance</title>
<para>The data maintenance module has five options, each described below. </para>
<itemizedlist>
<listitem>
<para>Clear data mart (aggregated datavalues)</para>
<para>The data mart is where FSNIS stores aggregated data produced during the export to data mart process. This function clears the database table which contains aggregated data element values.</para>
</listitem>
<listitem>
<para>Clear data mart (aggregated indicatorvalues)</para>
<para>The data mart is where FSNIS stores aggregated data produced during the export to data mart process. This function clears the database table which contains aggregated indicator values.</para>
</listitem>
<listitem>
<para>Clear zero values</para>
<para>This function removes zero data values from the database. Values registered for data elements with aggregation operator <emphasis role="italic">average</emphasis> is not removed, as such values will be significant when aggregating the data, contrary to values registered for data elements with aggregation operator <emphasis role="italic">sum</emphasis>. Reducing the number of data values will improve system performance.</para>
</listitem>
<listitem>
<para>Clear dataset completeness</para>
<para>This function removes aggregated dataset completeness values. This data is produced and used by report tables.</para>
</listitem>
<listitem>
<para>Prune periods</para>
<para>This function removes all periods which have no registered data values. Reducing the number of periods will improve system performance.</para>
</listitem>
</itemizedlist>
</section>
<section id="resourceTables">
<title>Resource tables</title>
<para>Resource tables are supporting tables that are used during analysis of data. One would typically join the contents of these tables with the data value table when doing queries from third-party applications like Microsoft Excel. Simply select the tables that should be regenerated and press &quot;Generate tables&quot;. Regeneration of the resource tables should only be done once all data integrity issues are resolved. </para>
<itemizedlist>
<listitem>
<para>geographic location structure (geographic location structure)<indexterm>
<primary>geographic location structure</primary>
</indexterm></para>
<para>This table should be regenerated any time there have been any changes made to the geographic location hierarchy. This table provides information about the geographic location hierarchy. It has one row for each geographic location, one column for each geographic location level and the geographic location identifiers for all parents in the lineage as values.</para>
</listitem>
<listitem>
<para>Exclusive geographic location group set structure normalized (geographic location group set structure)</para>
<para>This table provides information about the which geographic locations are member of which geographic location group sets.</para>
</listitem>
<listitem>
<para>Data element group set structure (_dataelementgroupsetstructure)</para>
<para>This table provides information about which data elements are members of which data element group sets. The table has one row for each data element, one column for each data element group set and the names of the data element group as values.</para>
</listitem>
<listitem>
<para>Indicator group set structure (_indicatorgroupsetstructure)</para>
<para>This table provides information about which indicators are members of which indicator group sets. The table has one row for each indicator, one column for each indicator group set and the names of the indicator group as values.</para>
</listitem>
<listitem>
<para>geographic location group set structure (_organisationunitgroupsetstructure)</para>
<para>This table provides information about which geographic locations are members of which geographic location group sets. The table has one row for each geographic location, one column for each geographic location group set and the names of the geographic location groups as values.</para>
</listitem>
<listitem>
<para>Category structure (_categorystructure)</para>
<para>This table provides information about which data elements are members of which categories. The table has one row for each data element, one column for each category and the names of the category options as values.</para>
</listitem>
<listitem>
<para>Data element category option combo name (category option combo name)</para>
<para>This table should be regenerated any time there have been changes made to the category combination names. It contains readable names for the various combinations of categories.</para>
</listitem>
</itemizedlist>
</section>
<section id="sqlView">
<title>SQL View</title>
<para> Database administrators must be very careful about creating database views directly in the FSNIS database. Certain FSNIS operations drop and recreate tables, for instance when the resource tables are regenerated. If any SQL views depend on these tables, an error will occur, since the tables are referenced in an SQL view. </para>
<para>The SQL View functionality of FSNIS will store the SQL view definition internally, and then materialize the view when requested. </para>
<para/>
<section>
<title>Creating a new SQL view</title>
<para>To create a new SQL view, choose Maintenance-&gt;SQL view and click the &quot;Add new&quot; button. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" align="center" fileref="resources/images/maintainence/create_sql_view.PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The &quot;Name&quot; attribute of the SQL view will be used to determine the name of the table that FSNIS will create when the view is materialized by the user. The &quot;Description&quot; attribute allows one to provide some descriptive text about what the SQL view actually does. Finally, the &quot;SQL statement&quot; should contain the SQL view definition. Only SQL &quot;SELECT&quot; statements are allowed and certain sensitive tables (i.e. user information) are not accessible Press &quot;Save&quot; to store the SQL view definition.</para>
</section>
<section>
<title>SQL View management</title>
<para>In order to utilize the SQL views, simply press the &quot;Execute query&quot; button <inlinegraphic fileref="resources/images/FSNIS_images/start_process.png"/> from the &quot;SQL View management page. Once the process is completed, you will be informed that a table has been created. The name of the table will be provided, and is composed from the &quot;Description&quot; attribute provided in the SQL view definition. Once the view has been materialized, click on the &quot;View&quot; button <inlinegraphic fileref="resources/images/FSNIS_images/view_sections.png"/>.</para>
</section>
</section>
<section id="organisationUnitMerge">
<title>geographic location merge</title>
<para>This function is useful when two geographic locations need to be merged, eg. it is decided that one station will be shut down and its services will be provided by a nearby station.</para>
<para>Start by selecting the geographic location to eliminate from the tree and click <emphasis role="italic">confirm</emphasis>. Then select the geographic location to keep and click <emphasis role="italic">confirm</emphasis> again. Finally, verify the selection and click <emphasis role="italic">merge</emphasis>. </para>
<para>In the situation where data exist for the geographic location to eliminate and not for the one to keep, the data will be moved to the one to keep. When data exists for both geographic locations, the data will be summarized and moved to the one to keep. When data exists only for the one to keep, no action is taken. The geographic location to eliminate will eventually be deleted.</para>
</section>
<section id="duplicateDataElimination">
<title>Duplicate data elimination</title>
<para>This function is useful when data has been entered mistakenly for two data elements which represents the same phenomena.</para>
<para>Start by selecting the data element to eliminate from the list and click confirm. Then select the data element to keep and click confirm again. Finally, verify the selection and click merge.</para>
<para>In the situation where data exists for the data element to eliminate and not for the one to keep, the data will be moved to the one to keep. When data exists for both data elements, the data which was updated last will be used. When data exists only for the one to keep, no action will be taken. The data element to eliminate will eventually be deleted, except when it is a multidimensional data element and has other data registered.</para>
</section>
<section id="dataStatistics">
<title>Data statistics</title>
<para>The data statistics module provides an overview of the number of objects stored in the FSNIS database. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_stats.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The total number of each type of object is presented in a table, as well as a graph. </para>
</section>
<section id="lockException">
<title>Lock exceptions</title>
<para>Lock exceptions provide fine-grained control over exemption from a locked data set. After the expiry of the data set, data entry will be denied by default, unless an exception has been granted through the Lock exception interface. To enable a lock exception, select the desired organization units, data sets, and time period and press &quot;Add&quot;. By granting a lock exception, data entry will be enabled even after the expiry period of the data set has passed. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata align="center" width="50%" fileref="resources/images/maintainence/create_lock_exception.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>In the example above, a data lock exception would be created for &quot;ab Abundant Rice Market&quot; and &quot;ab Seventh Day Production&quot; for the &quot;Output&quot; dataset for &quot;February 2012&quot;. </para>
</section>
<section id="zeroValueStorage">
<title>Zero value storage</title>
<para>The zero value storage function makes it possible to define for which data elements the system should store zero values. In most cases zeros are significant only for a subset of the data elements in the database. Any zeroes entered during data entry will be ignored by default, except for data elements where the zero value storage has been enabled. </para>
</section>
<section>
<title>geographic location pruning</title>
<para>If you need to prune out branches of the geographic location hierarchy, you can use the geographic location pruning function. Keep in mind that the only selected geographic location(and its children) will be kept. All other geographic locations (and any data associated with them) will be deleted from the database. </para>
</section>
<section id="minMaxValueGeneration">
<title>Min-Max Value Generation</title>
<para>This administrative function can be used to generate min-max values, which are used as part of the data quality and validation process for specific organization units and data sets. Simply select the dataset from the left hand frame and then select the required geographic locations to generate the min-max values for from the geographic locations selector on the right. Press the &quot;Generate&quot; button to generate or regenerate all min-max values. Press &quot;Remove&quot; to remove all min-max values which are currently stored in the database. </para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" align="center" fileref="resources/images/maintainence/min_max_value_generation.PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
</section>
<section id="constant">
<title>Constant</title>
<para>Constants are static values which can be made available to users for use in data elements and indicators. Some indicators, such as &quot;Couple year protection rate&quot; depend on constants which usually do not change over time. Simply press &quot;Add&quot; and provide a name in the &quot;Name&quot; field and define it&apos;s value in the &quot;Value&quot; field. Press &quot;Add&quot; . The constant will now be available to users for use in their expressions.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/maintainence/add_new_constant.PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="optionSet">
<title>Option sets</title>
<para> Option sets can be associated with data elements in the add / update data element interface for name-based data elements. You can define any kind of options, for instance an option set
called &quot;Delivery type&quot; where &quot;Normal&quot;, &quot;Breach&quot;, &quot;Caesarian&quot; and
&quot;Assisted&quot; would be the options. This option set can later be
associated with any number of data elements. When doing data entry in
name-based records module those elements will then appear in the form
as drop-down lists with auto-completion support.
</para>
</section>
<section id="cacheStatistics">
<title>Cache Statistics </title>
<para>This option is for system administrators only to use. The cache statistics shows the status of the application level cache. The application level cache refers to the objects and query results that the application is caching in order to speed up performance. If the database has been modified directly the application cache needs to be cleared for it to take effect.</para>
</section>
<section id="attribute">
<title>Dynamic attributes</title>
<para>Dynamic attributes can be used to add additional information to certain objects (namely data elements, indicators, geographic locations and users). In addition to the standard attributes each of these objects have, it may be required in certain installations to have additional attributes, such as a fax number which is associated with an geographic location. To add a new dynamic attribute to an object, select &quot;Maintenance-&gt;Data administration&quot; from the main menu, then &quot;Attribute&quot; from the left side panel, and press the &quot;Add new&quot; button.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="40%" align="center" fileref="resources/images/maintainence/add_new_dynamic_attribute.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>To create a new attribute, assign it a name. Each attribute should have a unique name. Check the tick-box &quot;Mandatory&quot; if the object should always have the dynamic attribute. Next, select which object (or objects) the attribute should be assigned to. Lastly, select the value type. You can choose from &quot;Text&quot;, &quot;Yes/No&quot;, &quot;Date&quot;, &quot;Number&quot;, &quot;Integer&quot;, &quot;Positive integer&quot; and &quot;Negative integer&quot;. If the value supplied for the attribute does not match the value type, an error will result. Finally, click &quot;Save&quot; to save the attribute. </para>
<para>The dynamic attribute will now be present in the object which you assigned it to in the respective &quot;Edit&quot; screen of each the object.</para>
</section>
<section id="scheduling">
<title>Scheduling</title>
<para>Data mart jobs can be automatically scheduled to run on regular intervals. Simply select the aggregation period types, geographic location group set aggregation level, and strategy to configure how the scheduled job should run. Pressing &quot;Start&quot; will enable the scheduled job to run at a pre-determined time or can be run immediately by pressing &quot;Execute now&quot;</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata align="center" width="50%" fileref="resources/images/maintainence/scheduling.png"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</chapter>
<chapter>
<title>Designing a data set</title>
<section id="C17_M1">
<title>From paper to multidimensional datasets - lessons learned</title>
<para>Typically the design of a FSNIS dataset is based on some requirements from a paper form that is already in use. The logic of paper forms are not the same as the data element and data set model of FSNIS, e.g. often a field in a tabular paper form is described both by column headings and text on each row, and sometimes also with some introductory table heading that provides more context. In the database this is captured in one atomic data element with no reference to a position in a visual table format, so it is important to make sure the data element with the optional data element categories capture the full meaning of each individual field in the paper form. </para>
<para>Another important thing to have in mind while designing datasets is that the dataset and the corresponding data entry form (which is a dataset with layout) is a data collection tool and not a report or analysis tool. There are other far more sophisticated tools for data output  and reporting in FSNIS than the data entry forms. Paper forms are often designed with both data collection and reporting in mind and therefore you might see things such as cumulative values (in addition to the monthly values), repetition of annual data (the same production estimate data reported every month) or even indicator values such as production rates in the same form as the monthly raw data. When you store the raw data in FSNIS every month and have all the processing power you need within the computerised tool there is no need (in fact it would be stupid and most likely cause inconsistency) to register manually calculated values such as the ones mentioned above. You only want to capture the raw data in your datasets/forms and leave the calculations to the computer, and presentation of such values to the reporting tools in FSNIS.</para>
</section>
</chapter>
<chapter>
<title>Setting up Data Quality functionality</title>
<para>The data quality module provides means to improve the quality of the data in the system. This can be done through validation rules and various statistical checks.</para>
<section>
<title>Learning Objectives</title>
<para>After reading this module you will be able to understand:</para>
<orderedlist>
<listitem>
<para>What is data quality and its importance for FSNIS.</para>
</listitem>
<listitem>
<para>How to do data quality check at point of data entry.</para>
</listitem>
<listitem>
<para>How to create data validation rules.</para>
</listitem>
<listitem>
<para>How to carry out data triangulation.</para>
</listitem>
<listitem>
<para>How to analyze data status.</para>
</listitem>
</orderedlist>
</section>
<section>
<title>Overview of data quality check</title>
<para>Ensuring data quality is a key concern in building an effective FSNIS. Data quality has different dimensions including:</para>
<itemizedlist>
<listitem>
<para><emphasis>Correctness:</emphasis> Data should be within the normal range for data collected at that station. There should be no gross discrepancies when compared with data from related data elements.</para>
</listitem>
<listitem>
<para><emphasis>Completeness:</emphasis> Data for all data elements for all food grain markets/blocks/Taluka/districts should have been submitted.</para>
</listitem>
<listitem>
<para><emphasis>Consistency:</emphasis> Data should be consistent with data entered during earlier months and years while allowing for changes with reorganization, increased work load, etc. and consistent with other similar stations.</para>
</listitem>
<listitem>
<para><emphasis>Timeliness:</emphasis> All data from all food grain markets/blocks/Taluka/districts should be submitted at the appointed time.</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Data quality checks</title>
<para>Data quality checking can be done through various means, including:</para>
<orderedlist>
<listitem>
<para>At point of data entry, the software can check the data entered to see if it falls within the min-max ranges of that data element over the last six months or as defined by the user.</para>
</listitem>
<listitem>
<para>Defining various validation rules, which can be run once the user has finished data entry. The user can also check the entered data for a particular period and Geographical Location(s) against the validation rules, and display the violations for these validation rules. </para>
</listitem>
<listitem>
<para>Analysis of data sets, i.e. examining gaps in data.</para>
</listitem>
<listitem>
<para>Data triangulation which is comparing the same data or indicator from different sources.</para>
</listitem>
</orderedlist>
</section>
<section>
<title>Data quality check at the point of data entry </title>
<para>Data quality can be checked at the point of data entry through setting the minimum and maximum value range for each element manually or generating the min-max values using the FSNIS if there is historical data available for that data element.
</para>
<section>
<title>Setting the minimum and maximum value range manually </title>
<para>If you are using the default entry screen click on the element for which you want to set the min-max value. A pop-up window will appear in which you can enter the vaules. On subsequent data entry if the value entered does not fall within the set min-max range the text box will change colour to red. The user will also get a pop-up as shown below. This change in colour is a prompt to check the data entered and make necessary correction. On the data entry screen the users also have the option to add a comment on how the discrepant figure might be explained (if required). This you can do by using the drop down menu of the comment box. In case you are using the custom data entry screen which is displayed when you deselect the default data entry form option on the top right corner of the screen. In this case the minimum and maximum values can be added by double-clicking on the data entry box instead of the data element.</para>
</section>
<section>
<title>Generated min-max values </title>
<para>It is possible to generate the min-max value, element-wise, using the FSNIS. In such case you merely need to click on the Generate min-max button near the upper right corner. In case of default data entry screen the min and max values, when generated, will appear on the left and right side of the data entry box. In case you deselect the default data entry form the generated values will appear on the top right end of the screen.</para>
</section>
</section>
<section id="validationRule">
<title>Validation Rule</title>
<para>This module provides management of validation rules. A validation rule is based on an expression which defines a relationship between a number of data elements. The expression has a left side and a right side and an operator which defines whether the former must be less than, equal to or greater than the latter. The expression forms a condition which should assert that certain logical criteria are met. For instance, a validation rule could assert that the total sale of wheat  is less than or equal to the total sum of production and procurement</para>
<para>To add a validation rule, click the add new button. First, provide a descriptive <emphasis role="italic">name</emphasis> for the validation rule. The name must be unique among the validation rules. Second, provide a description for the validation rule. Third, select an operator. The operator options are <emphasis role="italic">equal</emphasis>, <emphasis role="italic">not equal</emphasis>, <emphasis role="italic">greater than</emphasis>, <emphasis role="italic">greater than or equal</emphasis>, <emphasis role="italic">less than</emphasis>, <emphasis role="italic">less than or equal to</emphasis>. Then define the left side and right side of the validation rule expression. First, provide a description for the expression. Second, build the expression with the expression builder. The expression is mathematical and contain data elements as well as integers and mathematical operators. Data elements can be included by double-clicking one in the available data elements list to the righ. Alternatively one can select a data element and click the insert button. Mathematical operators can be included by clicking the corresponding button under the expression builder area. Save the expression by clicking <emphasis role="italic">save</emphasis>, then save the validation rule by clicking <emphasis role="italic">save</emphasis>.</para>
<para>To edit a validation rule, click the <emphasis role="italic">edit</emphasis>icon next to the relevant validation rule in the list. Then follow the same procedures as above.</para>
<para>To delete a validation rule, click the <emphasis role="italic">delete</emphasis>icon next to the relevant validation rule in the list.</para>
<para>To view validation rule details, click the <emphasis role="italic">view details</emphasis>icon next to the relevant validation rule in the list.</para>
</section>
<section id="validationRuleGroup">
<title>Validation Rule Group</title>
<para>A validation rule group provides a mechanism for classifying related data elements. Another advantage of using validation rule groups is that it can later be run separately, contrary to running all validation rules.</para>
</section>
</chapter>
<chapter>
<title>Data elements</title>
<para>When the Data Elements and Indicators options is chosen from the main Maintenance menu, the following screen appears:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_main.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>From the left side menu or by clicking on the sections listed in the central area you can access the various sections on data elements;</para>
<para>Data Element, Data Element Group, Data Element Group Editor, Data Element Group Set, Data Element Category, Data Element Category Combination. </para>
<section>
<title>Data element maintenance</title>
<para>Each of the options for maintenance of data elements will be described in the following section.</para>
<itemizedlist>
<listitem>
<para>Data element</para>
<para>Create, modify, view and delete data elements. </para>
</listitem>
<listitem>
<para>Data element group</para>
<para>Create, modify, view and delete data element groups. </para>
</listitem>
<listitem>
<para>Data element group editor</para>
<para>Easily add or remove data elements to and from data element groups. </para>
</listitem>
<listitem>
<para>Data element group set editor</para>
<para>Create, modify, view and delete data elements group sets. </para>
</listitem>
<listitem>
<para>Data element categories</para>
<para>Create, modify, view and delete data element categories. </para>
</listitem>
</itemizedlist>
<section id="dataElement">
<title>Data elements</title>
<para><?inline true?>Data elements form the basis of FSNIS. Data elements define what is actually recorded in system, e.g. Annual offtake of Aus Boro. The actual creation and definition of the data elements themselves are far beyond the scope of this manual to describe, but it is assumed that an administrator will be provided with a list of standardised data elements for inclusion into the FSNIS system. </para>
<para>To access the data element maintenance module, choose Maintenance -&gt; Data elements and Indicators -&gt; Data element. </para>
<para>The Filter by name will allow you to filter a range of data elements if you know either the full name of the data element, or just a part of it. Type the name
into the search field and any matching data elements are displayed below.
You can also choose Filter by group/view all to narrow down a data
element search within a particular data element group. In default mode, this
field will display all the data elements in the application.
The Get PDF button can be clicked to generate a .pdf file of all the data
elements. The &apos;Sort&apos; button can be used to sort the data elements into alphabetical order. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_main2.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>To add a new data element, click the &apos;Add new&apos; button. There are various options available from this page that allow the user to modify data elements already present in the database. Each of the options are described below in the &quot;Editing data elements&quot;. </para>
<section>
<title>Editing data elements</title>
<para>Click the &quot;Edit&quot;<inlinegraphic fileref="resources/images/FSNIS_images/edit.png" align="center"/> button to modify the properties of a data element that has been previously defined. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_edit.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<itemizedlist>
<listitem>
<para>Name: Define the precise name of the data element in this field. Each data element must have a unique name. </para>
</listitem>
<listitem>
<para>Short name: Typically, an abbreviation of the full data element name. This attribute is often used in reports to display the name of the data element, where there is limited space available. </para>
</listitem>
<listitem>
<para>Alternative name: Allows the definition of an alternative name of the data element. </para>
</listitem>
<listitem>
<para>Code: In many countries, data elements are assigned a code. This code can be entered in this field. </para>
</listitem>
<listitem>
<para>Description: Allows a full textual description of the data element to be entered. The user should be as precise as possible, and include full information on how the data element is measured and what its meaning is. </para>
</listitem>
<listitem>
<para>Active: Defines whether a given data element is active or not. Data elements marked as inactive, will not be displayed in the data entry screens. </para>
</listitem>
<listitem>
<para>Domain type: Defines whether a data element is an aggregate or patient type of data element. </para>
</listitem>
<listitem>
<para>Value type: Defines the type of data this data element will be used to record. Currently there are four options: number, text, yes/no (boolean), and date. </para>
</listitem>
<listitem>
<para>Number type: In order to increase the robustness of data entry, FSNIS supports several different number types. During data entry, users will be restricted to enter the defined number types only. Each of the available options are described below. </para>
<orderedlist>
<listitem>
<para>Number: This number type supports any real value with a single decimal point, an optional negative sign, and no thousands separators. </para>
</listitem>
<listitem>
<para>Integer: Any whole number (positive and negative), including zero.</para>
</listitem>
<listitem>
<para>Positive integer: Any whole number greater than (but not including) zero.</para>
</listitem>
<listitem>
<para>Negative integer: Any whole number less than (but not including) zero.</para>
</listitem>
</orderedlist>
</listitem>
<listitem>
<para>Aggregation operator: Defines the default aggregation operation that will be used on this data element. Most data elements should have the &quot;SUM&quot; option set. This includes all data elements which should be added together. Other data elements, such as monthly production , should be set to use the &quot;AVERAGE&quot; operator, when values along the time dimension should not be added together, but rather averaged.</para>
</listitem>
<listitem>
<para>URL: A URL having an in-depth description of the data element can be entered in the URL field. This could be for instance, a link to a metadata repository or registry that contains detailed technical information about the definition and measurement of the data element. </para>
</listitem>
<listitem>
<para>Combination of categories: Defines which category combination the data element should have. </para>
</listitem>
<listitem>
<para>Data element group sets: Click the check box to activate this option hen choose which data element group sets this data element should belong to. Available data element group sets are displayed din the upper window. Click the desired data element group set, then the <guibutton>&quot;Add selected&quot;</guibutton> button to add the data element to the group set. To remove a data element from a group set, click the data element group set in the lower list, and then click<guibutton> &quot;Remove selected&quot;</guibutton>. </para>
</listitem>
<listitem>
<para>Calculated: This option is available only when a data element is created.</para>
<note>
<para>As of version 2.3, calculated data elements have been deprecated. Calculated data elements should therefore be implemented as indicators instead.</para>
</note>
<para>Select the data elements that will be used to define the calculated data element, and then click &quot;Add selected&quot; to add them calculated data element composition list. Fill in the correct factor for the data element calculation component (defaults to 1). Component elements of the calculated data element can be removed from the definition by pressing the &quot;Remove&quot; button.</para>
</listitem>
<listitem>
<para>Aggregation levels: The Aggregation Levels option allows the data element to be aggregated at one or more levels. When the user clicks on the Aggregation levels option, a drop down menu appears which displays available aggregation levels. The desired aggregation level is then selected by clicking the Add Selected button. By default, the aggregation will start at the lowest assigned geographic location. Read more about aggregation levels in the Reporting chapter in the section on data sources for reporting.</para>
</listitem>
</itemizedlist>
<para>After making the required changes, click Save to institute them. The Cancel button aborts all changes made.</para>
</section>
<section>
<title>Data element translation</title>
<para>FSNIS provides functionality to translate existing data elements into other languages. Simply press the translate button <inlinegraphic fileref="resources/images/FSNIS_images/i18n.png" align="center"/> to get started. The following dialogue will appear. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_translate.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The reference language is displayed in the upper right portion of the dialogue. Choose a locale to translate the data element into by selecting an option from the locale drop-down menu. Specify the name, short-name and description in the target language. Press &quot;Save&quot; to save your changes. </para>
<para>The &quot;Details&quot; section of this dialogue will allow you add a new locale if it is not already present in the database. There are two options:</para>
<itemizedlist>
<listitem>
<para>Language code</para>
<para>Refers to the ISO 639-1 (two-letter code) language code. Refer to this <ulink url="http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">web page</ulink> for a detailed listing of language codes. </para>
</listitem>
<listitem>
<para>Country code</para>
<para>Refers to the ISO 3166-1-alpha-2 code. A complete listing is available <ulink url="http://www.iso.org/iso/country_codes/iso_3166_code_lists/english_country_names_and_code_elements.htm">here</ulink>. </para>
</listitem>
</itemizedlist>
<para>The combination of these two codes together, forms a &quot;locale&quot; code, which is composed of the combination of the location and language. A very comprehensive discussion of the technical standard (RFC 3066) is available <ulink url="http://www.ietf.org/rfc/rfc3066.txt">here</ulink>. This <ulink url="http://www.i18nguy.com/unicode/language-identifiers.html">page</ulink> provides a very comprehensive list of recognised locale codes. </para>
</section>
<section>
<title>Deleting a data element</title>
<para>Simply press the delete button <inlinegraphic fileref="resources/images/FSNIS_images/delete.png" align="center"/> to delete a data element. Note that this operation is only possible if there is no data attached to the data element itself. The user will be prompted to ensure that the data element should be deleted.</para>
</section>
<section>
<title>Displaying data element details</title>
<para>This operation displays an in-line panel in the browser which displays all metadata about a given data element. Press the information button <inlinegraphic fileref="resources/images/FSNIS_images/information.png" align="center"/>to access this view. </para>
</section>
</section>
<section id="dataElementGroup">
<title>Data element groups</title>
<para>Data element groups provide a mechanism for classifying related data elements into a common theme.</para>
<para>Similar to the &quot;Data element&quot; maintenance page, data elements groups can be searched with by entering a search string in the &quot;Filter by name&quot; field. </para>
<para>To add a new data element group, click the <guibutton>&quot;Add new&quot;</guibutton> button and the following screen will be displayed:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_group_add.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Fill in the &quot;Name&quot; field and then select all data elements that should belong to the group from the left panel. Click the &quot;Move selected&quot; <inlinegraphic fileref="resources/images/FSNIS_images/move_right.png" align="center"/>button to add the selected data elements to the data element group. Click the &quot;Remove selected&quot; button to remove all data elements from the group that have been selected in the right panel. Finally, click the &quot;Add&quot; button to save changes, or the &quot;Cancel&quot; button to discard any changes. </para>
</section>
<section id="dataElementGroupEditor">
<title>Data element group editor</title>
<para>The data element group editor provides advanced functionality to the administrator to allow multiple data elements to be added or removed from a group. It is also possible to create new data element groups, rename existing groups, and delete groups entirely. To access the data element group editor, go to <guimenu>&quot;Maintenance -&gt; Data elements and Indicators -&gt; Data Element Group Editor&quot;</guimenu>. The following screen will appear.<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_group_editor_start.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para>Data element groups area listed alphabetically in the leftmost panel. By clicking on a data element group, the current members of that group (data elements) are listed in the centre panel. Available data elements that can be added to the data element group appear are listed alphabetically in the rightmost panel. To remove an existing data element from the group, click the name of the data element in the centre panel, and then press the &quot;Move right&quot; <inlinegraphic fileref="resources/images/FSNIS_images/move_right.png" align="center"/> button. To add data elements to the group, select them from the leftmost panel, and click the &quot;Move left&quot; <inlinegraphic fileref="resources/images/FSNIS_images/move_left.png" align="center"/> button. Press the <guibutton>&quot;Update data element group member&quot;</guibutton> button to save your changes.</para>
</section>
<section id="dataElementGroupSet">
<title>Data element group sets</title>
<para>Data element group sets allow multiple data element groups to be categorised into a set. Data element group sets are used during analysis and reporting to combine similar data element groups into a common theme. To access the data element group set maintenance module, choose &quot;Maintenance -&gt; Data elements and Indicators -&gt; Data Element Group Set&quot;. Similar to the other data element maintenance modules, new data element group sets can be added by pressing the &quot;Add new button&quot;. Other operations include Edit, Translate, Delete and Information, similar to the other modules in this section.</para>
<para>Existing data element group set members can be edited by clicking the &quot;Edit&quot; button <inlinegraphic fileref="resources/images/FSNIS_images/edit.png" align="center"/> of the desired data element group set as seen below.</para>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_group_set.png" format="PNG"/>
</imageobject>
</mediaobject>
<para>Available data element groups are displayed in the left panel. They can be moved into the selected data element group set by pressing the &quot;Move right&quot; <inlinegraphic fileref="resources/images/FSNIS_images/move_right.png" align="center"/> button. Data element groups that are currently members of the data element group set are displayed in the right hand panel. They can be removed from the data element group set by clicking the desired data element group and pressing the &quot;Move left&quot;<inlinegraphic fileref="resources/images/FSNIS_images/move_left.png" align="center"/> button. The ordering of the data element groups can be set with the &quot;Move Up&quot; <inlinegraphic fileref="resources/images/FSNIS_images/move_up.png" align="center"/> and &quot;Move Down&quot; <inlinegraphic fileref="resources/images/FSNIS_images/move_down.png" align="center"/>arrows. This ordering will be used in the datamart and reports to order the data element groups. Press the <guibutton>&quot;Update&quot;</guibutton> button to save any changes and the <guibutton>&quot;Cancel&quot;</guibutton> button to discard all changes. </para>
</section>
<section id="dataElementCategory">
<title>Data element categories</title>
<para>Data element categories can be used to disaggregate data elements into individual atomic components. Data element categories are typically a concept, such as variety, brand, type, etc.  They could be assigned as categories to the data element, which would then create in the data entry screens, three separate fields for this data element namely: </para>
<itemizedlist>
<listitem>
<para>Annual production of Rice(Aus)</para>
</listitem>
<listitem>
<para>Annual production of Rice (Aus)</para>
</listitem>
<listitem>
<para>Annual production of Rice (Boro)</para>
</listitem>
</itemizedlist>
<para>Effective use of data element categories greatly simplifies the process of setting up the FSNIS system, as the data element categories can be reused to disaggregate many different data elements. Otherwise, each of the data elements listed above, would need to be created separately. Judicious use of data element categories will greatly simplify the FSNIS implementation, and allow for subsequent advanced analysis. </para>
<para>Data element categories are composed of category options. Category options must be defined when a data element category is created for the first time. Subsequent changes to the data element category, i.e. adding or deleting new category options, are not allowed once the data element category has been created. </para>
<para>It is critical that the proper categories and category options are defined in the initial definition step, as further changes to the category and its options will are not possible. </para>
<para>To access the data element category maintenance module, press &quot;Maintenance -&gt; Data Elements and Indicators-&gt;Data Element Category&quot;. The following screen will be displayed:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_categories_start.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Similar to the other data element maintains modules, data element categories can be filtered by typing the name of the data element category (or a portion of it) into the &quot;Filter by name&quot; field. To add a new data element category, press the &quot;Add new&quot; button which will then display the following screen:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_categories_add_new.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Type the name of the new data element category in the &quot;Name&quot; field in the &quot;Details&quot; region. Category options can be added by typing the name of the category option in the &quot;Category option&quot; region and pressing the <guibutton>&quot;Add category option&quot;</guibutton> button. Category options can be reordered using the &quot;Move Up&quot;<inlinegraphic fileref="resources/images/FSNIS_images/move_up.png" align="center"/> and &quot;Move Down&quot;<inlinegraphic fileref="resources/images/FSNIS_images/move_down.png" align="center"/> buttons. Categories options can be deleted by selecting the data element category option and pressing the &quot;Delete&quot;<inlinegraphic fileref="resources/images/FSNIS_images/delete.png" align="center"/> button. Once all data element categories options have been added to the data element category, press the <guibutton>&quot;Add&quot;</guibutton> button to save all changes or the <guibutton>&quot;Cancel&quot;</guibutton> button to discard any changes.</para>
<para>All data element category options must be added and defined properly in this step. Subsequent alterations to the data element category (other than reordering of the category options themselves) is not possible. </para>
</section>
<section id="dataElementCategoryCombo">
<title>Data element category combinations</title>
<para>Data element category combinations allow multiple data element categories to be combined into a related set. As an example, a data element &quot;Fertilizers used per annum&quot; might be disaggregated according to the following categories. </para>
<itemizedlist>
<listitem>
<para>Urea&quot;TSP&quot;, &quot;DAP&quot;, &quot;MP&quot;, &quot;Others&quot;</para>
</listitem>
<listitem>
<para>Type: Aus, Boro</para>
</listitem>
</itemizedlist>
<para> In this example, there would be two levels of disaggregation, consisting of two separate data element categories, each consisting of several data element category options.</para>
<para>To access the data element category combination maintenance module, select &quot;Maintenance-&gt;Data element and indicators-&gt;Data element category combinations&quot; from the main FSNIS menu. As with the other maintains modules, you can filter the listed category combinations by entering the name (or portion thereof) of the category combination. Other operations such as &quot;Edit&quot;, &quot;Delete&quot; and &quot;Information&quot; should be familiar to the reader. </para>
<para>To add a new category combination, click the &quot;Add new&quot; button. The following dialogue will be displayed. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_category_combo_add_new.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Type the name of the category combination in the &quot;Name&quot; field, and then select the desired categories from the left panel. Press the &quot;Move right&quot; button to add the selected categories to the category combination. Press &quot;Move left&quot; to remove any categories that should not be part of the category combination. </para>
<para>Categories can only be added to a category combination at this step. Categories can be removed from category combinations later by editing the category combination, however, it is not allowed to add additional categories once the combination has been created. Ensure that the category combination and its respective categories is final before you create the category combination and assign it to a data element. </para>
</section>
<section id="dataDictionary">
<title>Data dictionaries</title>
<para>Data dictionaries are used to group data elements and indicators during filtering operations. They are useful for combining related groups of data elements and indicators according to the programs to which they belong. For instance a data dictionary called &quot;Fertilizers&quot; could be created, and all Urea, TSP, MP, DAP data elements and indicators could be added to the dictionary. The data dictionary can be access by choosing Maintenance-&gt;Data elements and indicators-&gt;Data dictionary. The following screen will be displayed in the browser. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_dictionary.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Provide a name for the data dictionary in the &quot;Name&quot; field and a description of its contents. Data elements and indicators can be added or removed from the dictionary. Click &quot;Save&quot; if you are creating a new data dictionary or &quot;Add&quot; if you are editing the contents of an existing data dictionary. </para>
</section>
<section id="translation">
<title>Translations</title>
<para>FSNIS provides functionality for translations of database content like data elements, data element groups, indicators, indicator groups, validation rules and more. These elements can be translated to any number of locales. A locale represents a specific geographic, political, or cultural region. </para>
<para>To add a translation click the Translate icon next to the element you would like to translate. Start by selecting the desired locale from the Locale select box. In the Translate screen, select your locale and enter values for the available element properties. The reference property values are shown on the right. These values are the values which have been entered in the regular add or update user interface for the current object.</para>
<para>Translations can be enabled by selecting the desired locale under Database Language under User General Settings in the Settings module.</para>
</section>
</section>
</chapter>
<chapter>
<title>Setting up report functionality</title>
<section>
<title>Data sources for reporting</title>
<section>
<title>Types of data and aggregation</title>
<para>In the bigger picture all data in FSNIS are usually called aggregated as they are aggregates (e.g. monthly summaries) of production records or some kind of sale reports reported from the food grain markets. Aggregation inside FSNIS however, which is the topic here, is concerned with how the raw data captured in FSNIS (through data entry or import)are further aggregated over time (e.g. from monthly to quarterly values) or up the geographic location hierarchy (e.g. from station to district values). 
</para>
<section>
<title>Terminology</title>
<itemizedlist>
<listitem>
<para><emphasis>Raw data</emphasis> refers to data that is registered into the FSNIS either through data entry or data import, and has not been manipulated by the FSNIS aggregation process. All these data are stored in the table (or Java object if you prefer) called DataValue.
</para>
</listitem>
<listitem>
<para><emphasis>Aggregated data</emphasis> refers to data that has been aggregated by the FSNIS, meaning it is no longer raw data, but some kind of aggregate of the raw data.</para>
</listitem>
<listitem>
<para><emphasis>Indicator values</emphasis> can also be understood as aggregated data, but these are special in the way that they are calculated based on user defined formulas (factor compile_help_content.sh datamodel.xml FSNIS_bibliography.xml FSNIS_database_schema.xml FSNIS_database.xml FSNIS_documentation_guide_book.xml FSNIS_documentation_guide.xml FSNIS_end_user_manual_ke.xml FSNIS_end_user_manual.xml FSNIS_implementation_guide_as_a_platform.xml FSNIS_implementation_guide_conceptual_design_principles.xml FSNIS_implementation_guide_data_analysis_tools_overview.xml FSNIS_implementation_guide_data_elements_and_custom_dimensions.xml FSNIS_implementation_guide_data_quality.xml FSNIS_implementation_guide_data_sets_and_forms.xml FSNIS_implementation_guide_data_warehouse.xml FSNIS_implementation_guide_deployment_strategies.xml FSNIS_implementation_guide_enduser_training.xml FSNIS_implementation_guide_en.xml FSNIS_implementation_guide_en.xml.~1~ FSNIS_implementation_guide_en.xml.~2~ FSNIS_implementation_guide_indicators.xml FSNIS_implementation_guide_installation_detailed.xml.~1~ FSNIS_implementation_guide_installation_detailed.xml.~2~ FSNIS_implementation_guide_installation.xml FSNIS_implementation_guide_integration.xml FSNIS_implementation_guide_organisation_units.xml FSNIS_implementation_guide_pivot_tables_and_mydatamart.xml FSNIS_implementation_guide_recommendations.xml FSNIS_implementation_guide_setting_up_new_database.xml FSNIS_implementation_guide_short.xml FSNIS_implementation_guide_support.xml FSNIS_implementation_guide_users_and_user_roles.xml FSNIS_localization_guide.xml FSNIS_mobile_sms_data_entry.xml FSNIS_preface.xml FSNIS_r.xml FSNIS_technical_architechture_guide.xml FSNIS_user_man_creating_data_quality.xml FSNIS_user_man_creating_gis.xml FSNIS_user_man_creating_gis.xml.~1~ FSNIS_user_man_creating_reporting.xml FSNIS_user_man_dashboard.xml FSNIS_user_man_data_administration.xml FSNIS_user_man_data_dimensions.xml FSNIS_user_man_data_elements.xml FSNIS_user_man_data_entry.xml FSNIS_user_man_dataset_design_example.xml FSNIS_user_man_datasets_forms.xml FSNIS_user_man_excel_reports.xml FSNIS_user_man_excel_reports.xml.~1~ FSNIS_user_man_getting_started_enduser_ke.xml FSNIS_user_man_getting_started_enduser.xml FSNIS_user_man_getting_started.xml FSNIS_user_man_import_export.xml FSNIS_user_man_indicators_intro.xml FSNIS_user_man_indicators.xml FSNIS_user_man_introduction.xml FSNIS_user_man_mobile_web_based.xml FSNIS_user_man_mobile.xml FSNIS_user_man_NBITS.xml FSNIS_user_man_geographic locations.xml FSNIS_user_man_settings.xml FSNIS_user_manual_en.xml FSNIS_user_manual_en.xml.~1~ FSNIS_user_man_user_management.xml FSNIS_user_man_using_data_quality.xml FSNIS_user_man_using_data_visualizer.xml FSNIS_user_man_using_data_visualizer.xml.~1~ FSNIS_user_man_using_gis.xml FSNIS_user_man_using_reporting.xml FSNIS_user_man_web_api.xml FSNIS_workbook.xml glossary_en.xml help_content.xml mydatamart_en.xml resources numerator/denominator). Indicator values are therefore processed data and not raw data, and are located in the aggregatedindicatorvalue table/object. Indicators are calculated at any level of thegeographic locationhierarchy and these calculations are then based on the aggregated data values available at each level. A level attribute in the aggregateddatavalue table refers to thegeographic locationlevel of the geographic location the value has been calculated for.
</para>
</listitem>
<listitem>
<para>
<emphasis>Period and Period type</emphasis> are used to specify the time dimension of the raw or aggregated values and data can be aggregated from one period type to another, e.g from monthly to quarterly or daily to monthly. Each data value has one period and that period has one period type. E.g data values for the periods Jan, Feb, and Mar 2009, all of the monthly period type can be aggregated together to an aggregated data value with the period Q1 2009 and period type Quarterly.
</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Basic rules of aggregation</title>
<section>
<title>What is added together</title>
<para>Data (raw) can be registered at any geographic location level. This varies form country to country but FSNIS is flexible in allowing data entry or data import to take place at any level. This means that geographic locations that themselves have children can register data, sometimes the same data elements as their children units. The basic rule of aggregation in FSNIS is that <emphasis>all raw data is aggregated together</emphasis>, meaning data registered at a station on level 5 is added to the data registered for a District at level 4.</para>
<para>
It is up to the user/system administrator/designer to make sure that no duplication of data entry is taking place and that e.g. data entered at level 4 are not about the same services/visits that are reported by geographic location children at level 5. NOTE that in some cases you want to have duplication of data in the system but in a controlled manner. E.g. when you have two different sources of data for population estimates, both level 5 catchment population data and another population data source for level 4 based on census data (because sum of level 5 catchments is not always the same as level 4 census data). Then you can specify using advanced aggregation settings (see further down) that the system should e.g. not add level 5 population data to the level 4 population data and that level 3,2,1 population data aggregates are only based on level 4 data and does not include level 5 data.</para>
</section>
<section>
<title>How data gets added together</title>
<para>How data is aggregated depends on the dimension of aggregation (see further down).</para>
<para>Along the geographic location level dimension data is always summed up, simply added together. Note that raw data is never percentages, and therefore can be summed together. Indicator values that can be percentages are treated differently (re-calculated at each level, never summed up).</para>
<para>
Along the time dimension there are several possibilities, the two most common ways to aggregate are sum and average. The user can specify for each data element which method to use by setting the aggregation operator (see further down). Monthly service data are normally summed together over time. More details further down under &apos;aggregation operators&apos;. 
</para>
</section>
</section>
<section>
<title>Dimensions of aggregation</title>
<section>
<title>Geographical locations and levels</title>
<para>Geographical locations are used to represent the &apos;where&apos; dimension associated with data values. In FSNIS,geographic locations are arranged in a hierarchy, which typically corresponds to the hierarchical nature of the organisation or country.geographic location levels correspond to the distinct levels within the hierarchy. For instance, a country may be organized into divisions, provinces, then districts, then stations. This geographic location hierarchy would have five levels. Within each level, a number of geographic locations would exist. During the aggregation process, data is aggregated from the lower geographic location levels to higher levels. Depending on the aggregation operator, data may be &apos;summed&apos; or &apos;averaged&apos; within a given geographic location level, to derive the aggregate total for all the geographic locations that are contained within a higher level geographic location level. For instance, if there are ten districts contained in a division and the aggregation operator for a given data element has been defined as &apos;SUM&apos;, the aggregate total for the division would be calculated as the sum of the values of the individual ten districts contained in that division.</para>
</section>
<section>
<title>Period</title>
<para>Periods are used to represent the &apos;when&apos; dimension associated with data values. Data can easily be aggregated from weeks to months, from months to quarters, and from quarters to years. FSNIS uses known rules of how these different intervals are contained within other intervals (for instance Quarter 1 2010 is known to contain January 2010, February 2010 an March 2010) in order to aggregate data from smaller time intervals, e.g. weeks, into longer time intervals, e.g. months. </para>
</section>
<section>
<title>Data Elements and Categories</title>
<para>The data element dimension specifies &apos;what&apos; is being recorded by a particular data value. Data element categories are actually degenerated dimensions of the data element dimension, and are used to disaggregate the data element dimension into finer categories. Data element categories, such as &apos;offtake&apos; and &apos;procurement&apos;, are used to record a particular data element, typically for different population groups. These categories can then be used to calculate the overall total for the category and the total of all categories. </para>
</section>
</section>
<section>
<title>Aggregation operators, methods for aggregation</title>
<section>
<title>Sum</title>
<para>The &apos;sum&apos; operator simply calculates the sum of all data values that are contained within a particular aggregation matrix. For instance, if data is recorded on a monthly basis at the district level and is aggregated to provincial quarterly totals, all data contained in all districts for a given province and all weeks for the given quarter will be added together to obtain the aggregate total.</para>
</section>
<section>
<title>Average</title>
<para>When the average aggregation operator is selected, the unweighted average of all data values within a given aggregation matrix are calculated. </para>
<para>It is important to understand how FSNIS treats null values in the context of the average operator. It is fairly common for some geographic locations not to submit data for certain data elements. In the context of the average operator, the average results from the number of data elements that are actually present (therefore NOT NULL) within a given aggregation matrix. If there are 12 districts within a given division, but only 10 of these have submitted data, the average aggregate will result from these ten values that are actually present in the database, and will not take into account the missing values. </para>
</section>
</section>
<section>
<title>Advanced aggregation settings (aggregation levels)</title>
<section>
<title>Aggregation levels</title>
<para>The normal rule of the system is to aggregate all raw data together when moving up the geographic location hierarchy and the system assumes that data entry is not being duplicated by entering the same services provided to the same clients at both station level and also entering an &apos;aggregated&apos; (sum of all stations) number at a higher level. This is to more easily facilitate aggregation when the same services are provided but to different clients/catchment populations at stations and a district (the parent of the same stations). In this way a station at level 5 and a district at level 4 can share the same data elements and simply add together their numbers to provide the total of services provided in the geographic area.</para>
<para>Sometimes such an aggregation is not desired, simply because it would mean duplicating data about the same population. This is the case when you have two different sources of data for two different geographic location levels. E.g. catchment population for stations can come from a different source than district populations and therefore the sum of the station catchment populations do not match the district population provided by e.g. daily data. If this is the case we would actually want duplicated data in the system so that each level can have as accurate numbers as possible but then we do NOT want to aggregate these data sources together.
</para>
<para>In the Data Element section you can edit data elements and for each of them specify how aggregation is done for each level. In the case described above we need to tell the system NOT to include station data on production in any of the aggregations above that level, as the level above, in this case the districts have registered their production directly as raw data. The district population data should then be used at all levels above and including the district level, while station level should use its own data.</para>
</section>
<section>
<title>How to edit data element aggregation</title>
<para>This is controlled through something called aggregation levels and at the end of the edit data element screen there is a tick-box called Aggregation Levels. If you tick that one you will see a list of aggregation levels, available and selected. Default is to have no aggregation levels defined, then all raw data in the hierarchy will be added together. To specify the rule described above, and given a hierarchy of Country, Division, District, station: select station and District as your aggregation levels. Basically you select where you have data. Selecting station means that stations will use data from stations (given since this is the lowest level). Selecting District means that the District level raw data will be used when aggregating data for District level (hence no aggregation will take place at that level), and the station data will not be part of the aggregated District values. When aggregating data at Division level the District level raw data will be used since this is the highest available aggregation level selected. Also for Country level aggregates the District raw data will be used. Just to repeat, if we had not specified that District level was an aggregation level, then the station data and district data would have been added together and caused duplicate (double) population data for districts and all levels above.</para>
</section>
</section>
</section>
<section>
<title>Data mart</title>
<para>The purpose of the data mart is to provide pre-processed data to external data analysis and reporting tools. The data mart consists of two tables, aggregated data values and aggregated indicator values in the FSNIS database. The values in the data mart are aggregated versions of the raw data found in the data value table as well as calculated indicator values. Aggregation can take place over time (e.g. from monthly data to aggregated quarterly values), or along the geographic location hierarchy levels (e.g. from Station data to aggregated district totals). The data mart can store all kinds of such aggregated values. The data mart is as such just a processed &apos;copy&apos; of the data values and it can be emptied and regenerated at any time, and the tables are read only tables. The meta data in the two data mart tables are referenced by internal identifiers, such as data element id, geographic location id which refer to the tables like data element and geographic location, see &apos;How to make use of the data mart in external tools&apos; for more on this. </para>
<section>
<title>The data mart export process</title>
<para>The FSNIS Data Mart handles the aggregation of data across multiple dimensions (geographic location hierarchy, geographic location group hierarchy, time, etc) and can be controlled through this interface. Select the geographic location levels which should be aggregated, the start date and end date, and press &quot;Start export&quot;. The data mart process will be executed in the background, and a full report of the export process will be updated regularly so that you can determine the state of the process. See the section on &quot;Scheduling&quot; in the data administration module for information on how this process can be triggered to run automatically.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/FSNIS_creating_reporting/datamart.png"/>
</imageobject>
</mediaobject>
</screenshot>
<section>
<title>Data element categories in the data mart</title>
<para>Each data value for a data element has a reference to a category option combo, which is a combination of the disaggregations for the data value, e.g. (male,&lt;5y) or (In Station, &lt;1y). These disaggregations are exported as they are to the data mart, and no aggregation is done on this dimension. See the data elements section for more on data element categories and the resource tables section for more information on how to do aggregation on these categories.</para>
</section>
<section>
<title>Adding new data to an existing data mart</title>
<para>When you add new data to an existing data mart the new values will be appended to the existing so that the data mart grows for each new process if new selections (such as new periods) have been made. If any of the selected values are already in the data mart, then the old will be replaced by the newly generated values. </para>
</section>
</section>
</section>
<section>
<title>Resource tables</title>
<para>Resource tables provide additional information about the dimensions of the data in a format that is well suited for external tools to combine with the data mart tables. By joining the data mart with these resource tables one can easily aggregate along the data element category dimension or data element/indicator/geographic location groups dimensions. See the Pivot Tables section for more examples of how these can be used.

geographic location structure is another important table in the database that helps to provide the hierarchy of geographic locations together with the data. By joining the geographic location structure table with the data mart tables you can get rows of data values with the full hierarchy, 

This format makes it much easier for e.g. pivot tables or other OLAP tools to aggregate data up the hierarchy.
</para>
</section>
<section id="reportTable">
<title>Report tables</title>
<para>Report tables are defined, cross-tabulated reports which can be used as the basis of further reports, such as Excel Pivot Tables or simply downloaded as an Excel sheet. Report tables are intended to provide a specific view of data which is required, such as &quot;Monthly Production Indicators&quot;. This report table might provide all Production indicators for a country, aggregated by month for the entire country. This data could of course be retrieved from the main datamart but report tables generally perform faster and present well defined views of data to users. </para>
<important>
<para> It is therefore important to keep in mind that when the aggregation strategy of the system is set to &quot;Batch&quot;, the data for each report table must also be present in the data mart. </para>
</important>
</section>
</section>
<section>
<title>How to create report tables</title>
<para>To create a new report table, go to the Report tables section of the Reports module (Reports -&gt; Report Table). Above the list of standard reports, use the &quot;Add report table&quot; or &quot;Add Dataelement Dimension Table&quot; buttons. A regular report table can be used to hold data on data elements, indicators or dataset completeness, while Dataelement dimension tables are used to include data element categories in report tables. Creating the tables are done in the same way, however, the only exception being when choosing data.</para>
<para>To create a report table, you start by making some general choices for the table, the most important of which is the cross tab dimension. Then, you choose which data elements, indicators, datasets or data element dimensions you want to include. Finally you select which geographic locations and time periods to use in the report table. Each of these steps are described in detail below.</para>
<section>
<title>General options</title>
<screenshot>
<screeninfo>Report table options</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/general_options.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Cross tab dimensions</emphasis></para>
<para>You can cross-tab one or more of the following dimensions: data element/indicator, geographic location, and period, which means that columns will be created based on the values of the dimensions chosen, e.g. if indicators is selected you will get column names in the table reflecting the names of the selected indicators. </para>
<para>
For example, if you cross-tab on indicators and periods, the column headers will say &quot;&lt;indicator title&gt; &lt;period&gt;&quot;. The geographic locations will be listed as rows. See screenshot for clarification:
</para>
<screenshot>
<screeninfo>Indicators and periods are cross-tabbed</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/crosstab_ind-per.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>
If you cross-tab on indicators and geographic locations, the column headers of the table will say &quot;&lt;indicator title&gt; &lt;geographic location&gt;&quot;. Now the periods will be listed as rows. See screenshot for clarification:
</para>
<screenshot>
<screeninfo>Indicators and geographic locations are cross-tabbed</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/crosstab_ind-org.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Note that the options made here regarding cross tab dimensions may have consequences for what options are available when using the report table as a data source later, for example for standard reports.</para>
<para><emphasis role="bold">Sort order</emphasis></para>
<para>Affects the rightmost column in the table, allows you to choose to sort it low to high or high to low.</para>
<para><emphasis role="bold">Top limit</emphasis></para>
<para>Top limit allow you to set a maximum number of rows you want to include in the report table.</para>
<para><emphasis role="bold">Include regression</emphasis></para>
<para>This adds additional columns with regression values that can be included in the report design, e.g. in line charts.</para>
</section>
<section>
<title>Selecting data</title>
<screenshot>
<screeninfo>Data options</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/select_data.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Indicators/Data elements</emphasis></para>
<para>Here you select the data elements/indicators that you want to include in the report. Use the group filter to more easily find what you are looking for and double click on the items you want to include or use the buttons to add/remove elements. You can have both data elements and indicators in the same report.</para>
<para><emphasis role="bold">Data sets</emphasis></para>
<para>Here you select the data sets that you want to include in the report. Including a data set will give you data on the data completeness of the given set, not data on its data elements. Double click on the items you want to include or use the buttons. </para>
</section>
<section>
<title>Selecting report parameters</title>
<screenshot>
<screeninfo>Report parameter options</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/relative_options.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>There are two ways to select both what geographic locations to include in a report, and what time periods should be included: relative, or fixed. Fixed geographic locations and/or periods means that you select the units/periods to include in the report table when you create the report table. Using relative periods, you can select the time and/or units as parameters when the report table is populated, for example when running a standard report or creating a chart. A combination is also possible, for example to add some geographic locations in the report permanently while letting the users choose additional. Report parameters is discussed below. In general, using fixed geographic locations and/or time periods are an unnecessary restriction.</para>
<para><emphasis role="bold">Fixed geographic locations</emphasis></para>
<para>To add fixed geographic locations, click &quot;Toggle fixed geographic locations&quot;. A panel will appear where you can choose geographic locations to always include in the report. If you leave it blank, the users select geographic locations when running the report through the use of report parameters. Use the drop down menu to filter geographic locations by level, double click or use the buttons to add/remove.</para>
<para><emphasis role="bold">Fixed Periods</emphasis></para>
<para>To add fixed periods, click &quot;Toggle fixed geographic locations&quot;. A panel will appear where you can choose periods to always include in the report. If you leave it blank, the users select periods when running the report through the use of report parameters. Use the drop down menu to choose period type (week, month, etc), the Prev and Next button to choose year, and double click or use the buttons to add/remove.</para>
<para><emphasis role="bold">Relative periods</emphasis></para>
<para>Instead of using fixed/static periods like &apos;Jan-2010&apos; or &apos;Q1-2010&apos;, more generic periods can be used to create reusable report tables, e.g. for monthly reports the period &apos;Reporting month&apos; will simply pick the current reporting month selected by the user when running the report. Note that all relative periods are relative to a &quot;reporting month&quot;. The reporting month is either selected by the users, otherwise the current month is used. Here is a description of the possible relative periods:

</para>
<itemizedlist>
<listitem>
<para><emphasis role="italic">Reporting month:</emphasis></para>
<para>Use this for monthly reports. The month selected in the reporting month parameter will be used in the report.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">Months/Quarters this year</emphasis>: </para>
<para>This will provide one value per month or quarter in the year. This is well suited for standard monthly or quarterly reports where all month/quarters need to be listed. Periods that still have no data will be empty but will always keep the same column name.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">This year:</emphasis> </para>
<para>This is the cumulative so far in the year, aggregating the periods from the beginning of the year up to and including the selected reporting month.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">Months/Quarters last year</emphasis>: </para>
<para>This will provide one value per month or quarter last year, relative to the reporting month. This is well suited for standard monthly or quarterly reports where all month/quarters need to be listed. Periods that still have no data will be empty, but will always keep the same column name.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">Last year:</emphasis> </para>
<para>This is the cumulative last year, relative to the reporting month, aggregating all the periods from last year.
</para>
</listitem>
</itemizedlist>
<para><emphasis role="bold">Example - relative periods</emphasis></para>
<para>Let&apos;s say we have chosen three indicators: A, B and C, and we have also chosen to use the relative periods &apos;Reporting month&apos; and &apos;This year&apos; when we created the report table. If the reporting month (selected automatically or by the user) is for example May 2010, the report table will calculate the values for the three selected indicators for May 2010 (= the &apos;Reporting month&apos;) and the accumulated values for the three selected indicators so far in 2010 (= so far &apos;This year&apos;).</para>
<para>Thus, we will end up with six values for each of the geographic locations: &quot;Indicator A May 2010&quot;, &quot;Indicator B May 2010&quot; &quot;Indicator C May 2010&quot;, &quot;Indicator A so far in 2010&quot;, &quot;Indicator B so far in 2010&quot; and &quot;Indicator C so far in 2010&quot;.</para>
<para><emphasis role="bold">Report parameters</emphasis></para>
<para>Report parameters make the reports more generic and reusable over time and for different geographic locations. These parameters will pop up when generating the report table or running a report based on the report table. The users will select what they want to see in the report. There are four possible report parameters and you can select none, all, or any combination.</para>
<itemizedlist>
<listitem>
<para><emphasis role="italic">Reporting month:</emphasis> </para>
<para>This decides which month will be used when the system is choosing the relative periods. If the box it not checked, the user will not be asked for the reporting month when the report is generated - the current month will then be used.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">Grand parent geographic location:</emphasis> </para>
<para>Select the grand parent of all the geographic location children and grand children you want listed in the report. E.g. a selected region will trigger the use of the region itself, all its district and all their sub-districts.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">Parent geographic location:</emphasis> </para>
<para>Select the parent of all the geographic location children you want listed in the report. E.g. a selected district will trigger the use of the district itself and all its children/sub-districts.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">geographic location:</emphasis> </para>
<para>This triggers the use of this geographic location in the report. No children are listed.
</para>
</listitem>
</itemizedlist>
<para><emphasis role="bold">Example - report parameters</emphasis></para>
<para>Continuing with the example on relative periods just above, let&apos;s say that in addition to &apos;Reporting month&apos;, we have chosen &apos;Parent geographic location&apos; as a report parameter when we created the report table. When we&apos;re running the report table, we will be asked to select an geographic location. Now, let&apos;s say we choose &quot;Region R&quot; as the geographic location. &quot;Region R&quot; has the children &quot;District X&quot; and &quot;District Y&quot;.</para>
<para>When the report is run, the system will aggregate data for both &quot;District X&quot; and &quot;District Y&quot;. The data will be aggregated from the lowest level where they have been collected. The values for the districts will be aggregated further to give an aggregated value for &quot;Region R&quot;.</para>
<para>Thus, the report table will generate the six values presented in the previous example, for &quot;District X&quot;, &quot;District Y&quot; and &quot;Region R&quot;.</para>
</section>
<section>
<title>Data element dimension tables</title>
<para>These tables enable the use of data element categories in report tables. There are two differences from regular report tables. The first is that it is not possible to select cross tab dimensions, as the columns will always be the disaggregations from the category combinations. The other is the actual choice of data. Only one category combination can be added per report and only data elements from the same category combo can be selected. </para>
<para>Subtotals and the total will also be included in the table, 

</para>
<para><emphasis role="bold">Selecting data</emphasis></para>
<screenshot>
<screeninfo>Selecting category combinations</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/catcombo.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Use the drop down menu to choose category combinations. The data elements using this category combination will be listed. Double click to add to the report, or use the buttons.
</para>
</section>
<section>
<title>Report table - best practices</title>
<para>To make the report tables reusable over time and across geographic locations they can have parameters. Four types of parameters are allowed; geographic location, parent geographic location (for listing of geographic locations in one area), grand parent geographic location and reporting month. As a side note it can be mentioned that we are looking into expanding this to include reporting quarter and year, or to make that period parameter more generic with regard to period type somehow. The ability to use period as a parameter makes the report table reusable over time and as such fits nicely with report needs such as monthly, quarterly or annual reports. When a report is run by the user in FSNIS, the user must specify the values for the report tables that are linked to the report. First the report table is re-generated (deleted and re-created with updated data), and then the report is run (in the background, in Jasper report engine).

</para>
<para>Report tables can consist of values related to data elements, indicators or data completeness, which is related to completeness of reporting across geographic locations for a given month. Completeness reports will be covered in a separate section.</para>
<para>There are three dimensions in a report table that identify the data; indicators or data elements, geographic locations and periods. For each of these dimensions the user can select which metadata values to include in the report. The user must select one or more data elements or indicators to appear in the report. The geographic location selection can be substituted with a parameter, either one specific geographic location or an geographic location parent (making itself and all its children appear in the report). If one or more geographic locations are selected and no geographic location parameter is used, then the report is static with regard to which geographic locations to include, which in most cases is an unnecessary restriction to a report.</para>
<para><emphasis role="bold">Using relative periods</emphasis></para>
<para>The period selection is more advanced as it can in addition to specific periods like Jan-09, Q1-08, 2007 also contain what is called relative periods. As report usually is run routinely over time a specific period like Jan-09 is not very useful in a report. Instead, if you want to design a monthly report, you should use the relative period called Reporting Month. Then you must also include Reporting Month as one of your report parameters to let the system know what exactly is the Reporting Month on the time of report generation. There are many other relative periods available, and they all relate to the report parameter Reporting Month. E.g. the relative period called So far this year refers to the accumulative value for the year incl. the Reporting Month. If you want a trend report with multiple periods in stead of one aggregated period, you can select e.g. &apos;Months this year&apos;, which would give you values for each month so far in the year. You can do a similar report with quarters. The idea is to support as many generic report types as possible using relative periods, so if you have other report needs, please suggest new relative periods on the mailing list, and they might be added to the report table options.</para>
<para><emphasis role="bold">Cross-tabbing dimensions</emphasis></para>
<para>Cross tabbing is a very powerful functionality in report design, as the typical FSNIS data table with references to period, data element/indicator and geographic location makes more advanced report design very difficult, as you cannot put e.g. specific indicators, periods or geographic locations on specific columns. E.g. by cross-tabbing on the indicator dimension in an indicator report table you will get the indicator names on the column headers in your report, in addition to a column referencing geographic location, and another column referencing period. With such a table design you could drag and drop indicator names to specific columns or chart positions in the iReport software. Similarly you can cross tab on geographic locations or periods to make their names specifically available to report design. E.g. by cross-tabbing on periods and selecting the two relative periods &apos;Reporting month&apos; and &apos;This year&apos;, you can design reports with both the last month and the accumulative annual value for given month as they will be available as column headers in your report table. It is also possible to combine two dimensions in cross-tabbing, e.g. period and indicator, which makes it possible to e.g. look at three selected indicators for two specific relative periods.  

</para>
<para>All in all, by combining the functionality of cross tabbing, relative periods and report table parameters you should have a tool to support most report scenarios. If not, we would be very happy to receive suggestions to further improvements to report tables. As already mentioned, we have started to look at more fine-grained parameters for the period dimension as the &apos;Reporting month&apos; does not cover enough, or at least is not intuitive enough, when it comes to e.g. quarterly reports.
</para>
</section>
</section>
<section>
<title>Report table outcome</title>
<para>
When the report table is run, the system will calculate values for specified indicators/data elements/data sets, geographic locations and periods. The data will be presented in FSNIS in a table layout. The column headers will correspond to the cross-tab dimension you have selected.
</para>
<screenshot>
<screeninfo>Example report table</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/crosstab_ind-per.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>
Above the table there are six buttons; five download buttons and one Back button. Clicking the Back button will simply take you back to the previous screen. The function of the five download buttons, are presented below the screenshot:
</para>
<screenshot>
<screeninfo>The download buttons</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNIS_creating_reporting/report-table_output.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">The five download buttons</emphasis></para>
<itemizedlist>
<listitem>
<para><emphasis role="italic">Download as Excel:</emphasis></para>
<para>Downloads a generated Excel file you can open in Excel.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Download as CSV:</emphasis></para>
<para>Downloads a generated .csv file. CSV stands for <emphasis role="bold">C</emphasis>omma <emphasis role="bold">S</emphasis>eparated <emphasis role="bold">V</emphasis>alues. It&apos;s a text file with the file ending .csv. Each line in the file corresponds to a row in the table, while the columns are separated with semi colons (;). The file can be opened in a text editor as well as in a spread sheet program (such as Excel).</para>
</listitem>
<listitem>
<para><emphasis role="italic">Download as PDF:</emphasis></para>
<para>Downloads a generated pdf file. The data will be presented in a similar layout as the generated table you are already viewing in FSNIS.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Download as Report:</emphasis></para>
<para>Downloads a &quot;styled&quot; pdf file. In addition to present the data in a table layout, this file also presents a chart, showing the aggregated data from all the chosen periods and the parent geographic location chosen for the report table. The report is generated using the Jasper report engine.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Download as JRXML:</emphasis></para>
<para>Downloads the design file for the generated Report described in the previous bullet. The design file (with the file ending .jrxml) can be opened in the Jasper iReport Designer software. If you plan to design standard reports, this is the starting point.</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Standard reports</title>
<section>
<title>What is a standard report?</title>
<para>A standard report is a manually designed report that presents manually chosen data in a manually specified layout. Still, it&apos;s highly flexible, as it can be designed to be reused over and over again, by making use of the powerful report tables.</para>
<para>A standard report can present any value from any table in the FSNIS database, but for the report design, we want the reports to be flexible, so we want to connect the reports to tables that changes through time. The report tables are therefore ideal for the report design.</para>
</section>
<section>
<title>Designing Standard reports in iReport</title>
<para>Jasper iReport Designer is a tool for creating reports that can be used as Standard Reports in FSNIS. The tool allows for the creation of standard report templates that can easily be exported from FSNIS with up to date data. The process of creating reports involves four major steps:</para>
<orderedlist>
<listitem>
<para>A report table must be created in FSNIS with the indicators/data elements/datasets to be used in the report.</para>
</listitem>
<listitem>
<para>You have to run the report table and download the design file (Click the &quot;Download as JRXML&quot; button).</para>
</listitem>
<listitem>
<para>Open the downloaded .jrxml file using the free software Jasper iReport Designer to edit the layout of the report.</para>
</listitem>
<listitem>
<para>The edited report can then be uploaded to FSNIS to be used as a standard report.</para>
</listitem>
</orderedlist>
<para>If you want to preview your report during the design in iReport, you actually have to upload your file to FSNIS to see how it looks.</para>
<para>These four steps will be describe in detail in the coming sections. In general, when you are making standard reports you should have a clear idea of how it should look before you even make the report table, as how the report table is designed has implications for how the report can be formatted in iReport. For example, what crosstab dimensions are selected in the report table has consequences for what crosstabs are available for the standard report, and it has consequences for what types of charts you can make.</para>
<section>
<title>Download and open the design file</title>
<para><emphasis>Note: If you have not created a report table yet, you have to do so. See section &quot;How to create report tables&quot; to do so.</emphasis></para>
<para>Locate your desired report table and run it by clicking the green circle with a white arrow inside. When the report is shown, click the &quot;Download as JRXML&quot; button to download the design file. Then open that file in the Jasper iReport Designer software.</para>
</section>
<section>
<title>Editing the report</title>
<para>You are now ready to edit the layout of the report. The main iReport window consists of a &quot;Report Inspector&quot; to the left, the report document in the middle, a &quot;Palette&quot; area on the upper right hand side and a &quot;Properties&quot; area on the lower right hand side. The &quot;Report Inspector&quot; are used for selecting and examining the various properties of the report, and when selecting an item in the inspector, the &quot;Properties&quot; panel changes to display properties relating to the selection. The &quot;Palette&quot; is used for adding various elements, e.g. text boxes, images and charts to the document. 
</para>
<screenshot>
<screeninfo>Overview of the main iReport window</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/FSNIS_creating_reporting/ireport/iReport-window.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis>Note: If you cannot see the Palette or Properties sidebar, you can enable them from the menu item called &quot;Window&quot; on the menu bar.</emphasis></para>
<para>The iReport document is divided into seven main bands, divided by layout separators (the blue lines). These lines are used to decide how big each of the areas should be on the report. 
</para>
<para>The areas all have different purposes:
</para>
<itemizedlist>
<listitem>
<para>Title - area for the title of the report</para>
</listitem>
<listitem>
<para>Page header - area for the page header</para>
</listitem>
<listitem>
<para>Column header - area for column headers (for the table)</para>
</listitem>
<listitem>
<para>Detail 1 - area where the actual report data will be placed</para>
</listitem>
<listitem>
<para>Column footer - area to make footer of the table</para>
</listitem>
<listitem>
<para>Page footer - area for the page footer</para>
</listitem>
<listitem>
<para>Summary - elements in this area will be placed at the end of the report</para>
</listitem>
</itemizedlist>
<para>By default you will see that only the Title, Column Header and the Detail 1 bands have data.
For most reports this is OK. The Title band is suitable for a title and e.g. a chart. 
Data fields entered into the Detail 1 area will be iterated over to create a table. 
For example, if a field called &quot;dataelementname&quot; is placed in the Detail 1 band,
all data elements in the report table will be listed here. 
We&apos;ll come back to data fields management just a little below.</para>
<para>The unused bands in the report are shrinked to add more space for your report data. You can
however increase/decrease the band height as you like. There are two ways to do that. The first way is simply to drag the blue band-line as shown below.</para>
<screenshot>
<screeninfo>Drag the blue lines to change the band heights</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="66%" fileref="resources/images/FSNIS_creating_reporting/ireport/17_drag.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The other way to adjust the band height is to select a band in the 
&quot;Report Inspector&quot;, and then adjust the &quot;Band height&quot; value in the 
&quot;Detail 1 - properties&quot; area in the lower right corner.</para>
<screenshot>
<screeninfo>Adjust the size of layout areas by changing the Band height property</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/FSNIS_creating_reporting/ireport/18_adjust.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>As the fields are already present on the report, you probably don&apos;t want to do anything
than just fix the layout and drag fields around. You can also resize the fields by dragging the side, top or bottom lines. If you want to change the text in the column headers, you simply double click the field and change the text.</para>
<para>To add the a field to the table, we simply drag it to the Detail 1 band from the &quot;Report Inspector&quot;. The column header will be added automatically.</para>
<para>By double clicking the box, the text can be edited. The format of the text, such as size, font and alignment, can be adjusted with the tools above the document.</para>
<screenshot>
<screeninfo>Double click to edit the text, and change its appearance</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/ireport/21_title_edit.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">
<emphasis role="italic">
<emphasis role="bold">
<emphasis role="bold">
<emphasis>
<emphasis role="bold">NOTE: Fields starting with &quot;$F&quot; present values that are retrieved from the database every time the report is run. The values here will vary, so do not change these fields unless you want a static value here!</emphasis>
</emphasis>
</emphasis>
</emphasis>
</emphasis>
</emphasis></para>
</section>
<!-- New part on advanced iReporting, replacing Charts section --> <section>
<title>Text</title>
<para>
There are two types of text in iReport: Text labels and Text fields (data fields). They work in different ways, and should be used for different purposes. The main point is that text fields are just place holders that will be filled with the correct text from the report table when the report is run, while text labels will stay the way they are when the report is run.</para>
<section>
<title>Static text</title>
<para>Static text are text plain text labels that can be edited normally. There are two ways to edit text labels: </para>
<itemizedlist>
<listitem>
<para>By double clicking in the text box</para>
</listitem>
<listitem>
<para>By using the Static text properties in the Properties panel</para>
</listitem>
</itemizedlist>
<screenshot>
<screeninfo>Click to edit text label</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_01.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Text fields</title>
<para>Text fields are formulas that will be filled from the report table when the report is run. Unlike static text, these can not be edited in a normal way. However, they can be manipulated in various ways to ensure that the desired output will be produced. There are three ways to edit the text fields:</para>
<para/>
<itemizedlist>
<listitem>
<para>By right clicking on the text box and selecting Edit expression</para>
</listitem>
<listitem>
<para>By double clicking the text field (not recommended, as this will not bring up the expression editor)</para>
</listitem>
<listitem>
<para>By using the Text field properties in the Properties panel</para>
</listitem>
</itemizedlist>
<screenshot>
<screeninfo>Click to open Expression editor</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_04.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Click to open Expression editor</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_06.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Text fields can represent either numbers or text, so that they can be used both for showing for example names of district or for numeric values. It is therefore important the the Expression class, seen in the Text field properties matches the Text field expression. For the default text fields in the .jrxml file downloaded from FSNIS this is not a problem, but it is important when making new text fields. The two most important Expression classes are java.lang.Double for numbers and java.lang.String for text.</para>
<para/>
<section>
<title>Example</title>
<para>For example, let us say you have a quarterly report where you would like to add a new column with the yearly total. You therefore add a new Static text field to the column header band, and a Text field to the details band in. By default, new Text fields are set to java.lang.String (text). However, the yearly total column will be filled with numbers. We therefore have to change the Expression class for the new text field to java.lang.Double:</para>
<screenshot>
<screeninfo>Click to show expression class options</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_07.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Choose desired class</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_08.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>When we edit the text field expression, we see the Expression editor window with all the available columns from the report table. We can see here that each of these are marked with what type they are - text or number. What we need to make sure of is therefore that the expression class we choose for the text field matches the actual expression.</para>
<screenshot>
<screeninfo>Expression editor</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_10.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
</section>
<section>
<title>Filtering the table rows</title>
<para>In the default table exported from FSNIS, there are some rows that it might be better to leave out of the table, and some that it would be preferable to have at the end. For example, when making a table based on a report table with the parent geographic location parameter, the default table might have a row with the national level somewhere in between all the regions. In iReport, this can be changed so that the parent geographic location appears at the bottom of the table. This involves two steps that will be explained below. Note that this will not work where there is only one geographic location and it is therefore most useful when using the parent geographic location or grand parent geographic location parameters in the report table.</para>
<section>
<title>Hiding the parameter geographic location from the table</title>
<para>We exclude the &quot;parameter geographic location&quot; from the table by using a property in the Details band called &quot;Print when expression&quot;. To set a Print when expression, start by selecting the Detail band in the Report inspector, then edit the Print when expression in the properties panel.</para>
<screenshot>
<screeninfo>Select Detail 1 in the Report Inspector</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_11.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Open the Expression Editor by clicking next to Print When Expression</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_12.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The Expression editor window should now appear. What we must do is to create an expression that checks if the row being generated is the row with the geographic location given as a parameter. The report table contains a column that we can use for this called organisation_unit_is_parent. To exclude the row with the parameter geographic location, double click on organisation_unit_is_parent in the list to copy it to the expression area, then add <command>.equals(&quot;No&quot;)</command> at the end so that the code is:</para>
<para><command>$F{organisation_unit_is_parent}.equals(&quot;No&quot;)</command></para>
<para>This tells the report engine to only print table rows where the geographic location is not the parent geographic location.</para>
<screenshot>
<screeninfo>Code to skip parent geographic location</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_14.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Putting the &quot;city Dhaka geographic location&quot; at the bottom of the table</title>
<para>Instead of removing the &quot;City Dhaka geographic location&quot; from the table entirely, it is also possible to put it at the bottom (or top) of the table. This is done by using the sort functionality explained in the next section, and choosing to sort first by &quot;geographic_location_is_parent&quot;. Other sorting options can be added in addition to this, for example to make a list where the City Dhaka geographic location is at the bottom of the table, with the other geographic locations listed alphabetically above it.
</para>
</section>
<section>
<title>Hiding other rows</title>
<para>Using the expression editor it is also possible to exclude other rows from the table, in addition to the parent geographic location as was explained above. This can also be excluded from the table using the Print when expression that was introduced above. To to this, follow the instructions above to bring up the Expression editor window. Then, we use Java expressions to test whether or not the row should be hidden.</para>
<section>
<title>Example - removing rows with geographic locations starting with [</title>
<para>Example - removing rows with geographic locations starting with [</para>
<para><command>($F{geographiclocationname}.charAt( 0 ) != &apos;[&apos;)</command></para>
<para>This makes the report skip any rows where the first character of the geographic location name is [.</para>
<para>It is also possible to combine several of these expressions. To do this we put the expressions in a parenthesis with the two characters &amp;&amp; in between. For example, to make a table that leaves both geographic locations whose name starts with [ and the parent geographic location, we can use the following expression:</para>
<para><command>($F{geographiclocationname}.charAt( 0 ) != &apos;[&apos;)&amp;&amp;$F{geographic_location_is_parent}.equals(&quot;No&quot;)</command></para>
<screenshot>
<screeninfo>Combining expressions in the Expression editor</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_29.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
</section>
<section>
<title>Sorting</title>
<para>Often you will be making reports where the first column is geographic location names. However, it can be a problem that the list of geographic locations are not sorted alphabetically. This can be fixed in iReport through a few simple steps.</para>
<para>In the report inspector, right click on the name of the report (by default this is dpt) and select Edit query. </para>
<screenshot>
<screeninfo>Choose Edit Query</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_21.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A Report query window will appear. Click on the Sort options button.</para>
<screenshot>
<screeninfo>Choose Sort Options...</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_22.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A Sorting window as show below will appear. Here, we can add our sorting options. Click the Add field button. Another small window will show up, with a drop down menu where you can choose Sort by geographic location to have the table sorted alphabetically by name.</para>
<screenshot>
<screeninfo>Choose Add</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_23.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Choose sort parameter</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_24.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Click OK - Close - OK to close the three windows. The table should now be sorted.</para>
</section>
<section>
<title>Changing indicator/data element names</title>
<para>By default, the reports from FSNIS uses the short names for indicators and data elements in reports and charts. In some cases these are not always very meaningful for third parties but with some work they can be given custom names through iReport. This is useful for example if you are making a report with indicators as rows and periods as column, or for charts with indicators. </para>
<screenshot>
<screeninfo>Shortnames - before and after</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_000.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>To change the names of an indicator or data element, we have to edit its expression or formula, for example by right clicking the text box and choosing Edit expression to bring up the Expression editor. </para>
<screenshot>
<screeninfo>Choose Edit Expression</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_32.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next, we have to insert some Java code. In the following example, we will be replacing the shortname of three indicators with their proper names. The code searches for the shortname, and then replaces it with a proper name. </para>
<screenshot>
<screeninfo>Expression editor, showing replacing shortnames</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_34.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>
<command>($F{indicatorname}.equals(&quot;Bed Util All&quot;)) ? &quot;Bed Utilisation - All Wards&quot;</command>
</para>
<para>
<command>:</command>
</para>
<para>
<command>($F{indicatorname}.equals(&quot;Bed Util Mat&quot;)) ? &quot;Bed Utilisation - Maternity&quot;</command>
</para>
<para>
<command>:</command>
</para>
<para>
<command>($F{indicatorname}.equals(&quot;Bed Util Ped&quot;)) ? &quot;Bed Utilisation - Paediatric&quot;</command>
</para>
<para>
<command>:</command>
</para>
<para>
<command>$F{indicatorname}</command>
</para>
<para>From this, we can see a pattern that is reusable for more general cases.</para>
<itemizedlist>
<listitem>
<para>For each indicator or data element we want to change the name for, we need one line</para>
</listitem>
<listitem>
<para>Each line is separated by a colon :</para>
</listitem>
<listitem>
<para>We finish the expression with a regular line</para>
</listitem>
</itemizedlist>
<para>Each line has the same format, where the red text is the shortname, the blue text is what we want to insert instead.</para>
<screenshot>
<screeninfo>Code for replacing shortnames. Shortname in red, new name in blue</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/ireport_screen_0.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The same expressions can be used for example when having indicator names along the category axis of a chart.</para>
</section>
<section>
<title>Adding horizontal totals</title>
<para>By using the expression editor, it is possible to add a column to the table with totals for each row. In the following example, we will make a table with three months as columns as well as a column with the totals for the three months.</para>
<para>We start by dragging a text label into the table header and changing its text to &quot;Total&quot;, and dragging a text field into the details row. </para>
<para>As was discussed in the section on &quot;Text field&quot;, we have to change the properties of the new text field so that it can display numbers. To do this, change the &quot;Expressions Class&quot; in the properties panel to &quot;java.lang.Double&quot;.</para>
<para>Right click the text field and choose &quot;Edit Expression&quot;. This will bring up the &quot;Expressions editor&quot;. As the expression, we want to sum up all the columns. In this case we have three value expressions we want to sum up: &quot;September&quot;, &quot;October 2010&quot;, &quot;November 2010&quot;. The name of these fields will vary depending on the crosstab dimension you have chosen in the report table. In our case, the expression we make is &quot;$f{September}+$f{October 2010}+$f{November 2010}&quot;:</para>
<para>Each row of the table have a totals column to the right.</para>
</section>
<section>
<title>Groups of tables</title>
<para>There are cases when it can be useful to have several tables in one report. This can be done using Report groups. Using this functionality, one can for example create a report one table for each indicator, or one table of each geographic location. In the following, we will go through the steps needed to make a report with three indicators, each represented in one table. It is important that the report table does not crosstab on indicators when we want to make groups of tables based on indicators. </para>
<para>In our example, the .jrxml file downloaded from FSNIS will by default have one column for geographic location and on for indicators (assuming we have chosen periods as the only crosstab dimension). We start by removing the indicator column, since this in not needed in our case, and realign the other fields to fit the report.</para>
<screenshot>
<screeninfo>Delete column</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_36.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next, we create out Report group. Go to the report inspector, right click on the report name (dpt is the default) and choose Add Report Group. </para>
<screenshot>
<screeninfo>Add Report Group</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_38.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A window will appear, with a report group wizard. Select a name for the group, in this case we choose Indicator. In the drop down menu, we can select what columns in the report table we want the groups to be based on. So, if we wanted one table for each geographic location, we would choose geographic location name as the report object to group according to. However, since we are grouping by indicators in this example, we choose indicator name. Then click next. </para>
<screenshot>
<screeninfo>Choose grouping parameter - here, indicators</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_39.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The next step is to select whether or not we want a separate Group header and Group footer band for each report group. In this case, we choose to include both. Click Finish, and the group bands should appear in the report.</para>
<screenshot>
<screeninfo>Add group header/footer</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_40.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>If you upload and run the report, it will now create one table for each indicator. However, it will not look very good as there will be no header row over each table - only one header at the top of each page. Also, there is no indication as to which table is showing which indicator. In the following, we will fix this.</para>
<para>Instead of having the title row in the column header, we can instead move it to the Group header. This will make the heading show up above each individual table. Furthermore, we can add a heading to each table with the name of the indicator. </para>
<para>Move the column headers from the Column header band to the Indicator group header band.</para>
<screenshot>
<screeninfo>Move header row to column header</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_41.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next, add a text field to the Indicator group heading band and edit its expression to display the indicator name.</para>
<screenshot>
<screeninfo>Add text field to use as heading</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_42.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Edit text field expression to show indicator name</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_44.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The report should now have three tables, one for each indicator. Each table will have a heading with the name of the indicator and also a table header row.</para>
<screenshot>
<screeninfo>Example of finished report table</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_45.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<section>
<title>Sorting and grouping</title>
<para>When using grouping, some precautions must be taken with regards to sorting. Notably, when adding sorting parameters, whatever parameter is used as basis for the grouping must come first. Thus if you are grouping the report by indicator and want sort the geographic locations alphabetically, you have to choose to sort first by indicator, then by geographic location name as shown below. For instructions on how to add sorting, see the sorting section above.</para>
<screenshot>
<screeninfo>Sorting by indicator and geographic location name</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_59.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
<section>
<title>Charts</title>
<para>By default, a 3D bar chart is included in the .jrxml file that is downloaded from FSNIS. This is set up so that only data from the parameter geographic location (often the parent or grand parent) is used. Usually, this is a good solution. Since it is the default, we will start by looking at bar charts, before looking at line charts.</para>
<section>
<title>Bar charts</title>
<screenshot>
<screeninfo>Example bar chart</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_54.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Bar charts are the default chart type in FSNIS. In this section, we will look at how to make a bar charts like the one above, comparing the value of one indicator in several districts. To edit the default chart in iReport, right click on it and choose Chart data.</para>
<screenshot>
<screeninfo>Choose Edit Chart Data</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_46.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A window will appear. By default, the Filter expression is filled in so that only data for the parent geographic location will be displayed. If for some reason you do not want this, simply delete the text in the text box. In this case we do NOT want the filter, as we are making a chart showing a comparison across districts. To continue, click the details tab.</para>
<screenshot>
<screeninfo>Select the Details tab</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_47.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Under details, you see the list of series for the chart. By default, one series is created per crosstab column. In this case, we are looking at data for one indicator for the whole of 2010, for a number of districts. The indicator is along the crosstab dimension.</para>
<screenshot>
<screeninfo>List of data series</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_48.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>To make changes to a series, select it and click modify. Another window will appear where there are four areas that can be edit. The three first are required but it is sufficient to add an empty quote () in one of the first two.</para>
<screenshot>
<screeninfo>The data series editor</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_500.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The first box is a text field where the name of the series can be inserted or edited. This is the field that will be used to fill the text in the legend box (shown below).</para>
<screenshot>
<screeninfo>Chart legend</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="15%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_50.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>However, if you want to have the name of each bar along the x-axis of the chart instead of using the legend, this can be done by adding whatever text you want to present in the Category expression field or by inserting an expression to have it filled automatically when the report is run. In this case, we want to have one bar for each geographic location. We therefore edit the category expression by clicking on the button to the right.</para>
<screenshot>
<screeninfo>Editing the category expression</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_49.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>As the expression, we chose geographiclocationname, as shown below.</para>
<screenshot>
<screeninfo>Choose geographic location name.</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_490.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>When we are finished, the series editor should look like below. Click OK, then Close to close the Chart Details window.</para>
<screenshot>
<screeninfo>Series editor.</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_501.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>If you add a good description in the Category expression area, you can leave out the legend box. This is done in the Report properties panel of iReport, where you can also edit many other details of the chart.</para>
<screenshot>
<screeninfo>Checkbox to show/hide chart legend</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_51.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>We can also add a title to the chart, for example the name of the indicator. This is also done in the Chart properties panel, under Title expression.</para>
<screenshot>
<screeninfo>Edit chart title</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_55.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The Expression editor window will appear, where you can enter the title. Note that the title must be in quotes, as shown below.</para>
<screenshot>
<screeninfo>Expression editor</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_56.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The chart is now ready.</para>
</section>
<section>
<title>Line charts</title>
<para>Line charts can be useful in many circumstances. However, to make line charts the report data (report table) must be suited for it. Thus if you want to make a line chart, it is important that the report table does not have periods in the crosstab dimension. Examples where this is useful is if you are making a report for a single geographic location with one or more indicators or if you are making a report with one indicator and one or more geographic locations.</para>
<para>Below, we will go though the steps needed to make a report with a line chart showing the development of three indicators over one year, for one geographic location. We start by making a report table with the choices shown below:</para>
<screenshot>
<screeninfo>Report table - crosstab dimensions</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_57.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Report table - periods and parameters</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_60.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>When we open the resulting .jrxml-file in iReport, the default line chart is included. Since we want to make a line chart, we delete this chart and drag a new chart element into the report from the Palette panel.</para>
<screenshot>
<screeninfo>Delete the default chart</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_61.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Drag in new chart element</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_62.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>As soon as we drag the Chart element into the report, a window will appear. We choose the Line chart, as shown below. </para>
<screenshot>
<screeninfo>Choose Line chart</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_63.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A chart wizard will appear. Click next in the first step, then Finish in the next - we will add the data later.</para>
<screenshot>
<screeninfo>Choose Next</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_64.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Choose Finish</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_65.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next, adjust the size and position of the chart in your report. Then, we will add one data series for each of our three indicators. Right-click on the chart and choose Chart data. If you are making a chart with one indicator and several geographic locations, you probably want to make a filter expression so that only data from the parameter/parent geographic location is used in the chart. To do this, add this line to the Filter expression area:</para>
<para><command>$F{organisation_unit_is_parent}.equals(&quot;Yes&quot;)</command></para>
<para>In our example, we only have on geographic location, so this is not necessary. Next, click the details tab to see a list of the series in the chart. For now, this list is empty but we will add one series for each of our three indicators. To add a series, click the Add button.</para>
<screenshot>
<screeninfo>Choose the Details tab</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_66.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Choose Add</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_67.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>In the window that appears, enter the name of the first of the indicators in the Series expression window. Remember to put the name in quotes. In the category expression (along the x-axis) we want the months, so we use the button next to the field to open the Expression editor and add periodname. </para>
<screenshot>
<screeninfo>Edit the category expression</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_69.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Choose periodname as the expression</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_68.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>In the value expression, we add the actual data values for our first indicator. Use the Expression editor again to do this. When we are finished, the window should look like the one below, only with different names according to the indicator. </para>
<screenshot>
<screeninfo>The finished category series</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_70.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>You can then Click OK to close the window. Follow the same steps to add a series for the other indicators. </para>
<screenshot>
<screeninfo>Chart details after adding three series</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_71.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Close the window and the data for the line chart should be ready. However, some additional adjustments might be needed - most of these can be found in the Line chart properties panel. For example, when making a month by month chart as we have in example, there is often not enough space for the month names along the category axis. This can be fixed by rotating the labels by for example -40 degrees, by using the property Category Axis Tick Label Rotation.</para>
<screenshot>
<screeninfo>Changing the appearance of the category labels</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_72.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Many other options are available to give the chart the desired look.</para>
<screenshot>
<screeninfo>The finished line chart</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/FSNIS_creating_reporting/ireportadv/irep_screen_73.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
<!--Old part on charts 
<section><title>Charts</title><para>The auto-generated report already has a chart. This can however be edited. To do that, right-click on the chart and select &quot;Chart Data&quot;.</para><screenshot>
<screeninfo>Select Chart Data by right clicking on the chart</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/ireport/32_editchart_1.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot><para>Go to the &quot;Details&quot; tab to see what is actually shown in the chart.
</para><screenshot>
<screeninfo>Go the Details and Add a Category series</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/ireport/33_editchart_2.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot><para>If you select a series and then click the &quot;Modify&quot; button, a new window will appear. There are four fields that we can fill out, where the three first are mandatory and are already automatically filled.
</para><screenshot>
<screeninfo>The Category series window</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/ireport/34_editchart_3.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot><para>You can edit each field by pressing the edit button on the righ.t</para><screenshot>
<screeninfo>Edit the category expression</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="66%" fileref="resources/images/FSNIS_creating_reporting/ireport/35_editchart_4.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot><para>A new window appears with the available fields. A list of available fields to put in the chart will show. If you double-click one of the items, it will be added to the Expression editor.</para><screenshot>
<screeninfo>Double click on the desired field</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="66%" fileref="resources/images/FSNIS_creating_reporting/ireport/36_editchart_5.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot><para>To make the chart more informative and better looking, we can select it by clicking on it and use the &quot;Properties&quot; panel on the right hand side to make adjustments. For example, you can add a title to the chart, change the font, rotate the axis labels (as shown below) and so on.</para><screenshot>
<screeninfo>Edit the chart properties</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="66%" fileref="resources/images/FSNIS_creating_reporting/ireport/39_editchart_9.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>--> <section>
<title>Adding the Report to FSNIS</title>
<para>We can now switch to FSNIS and import our report. Go to the Report Module in FSNIS, and select &quot;Standard Report&quot;. In the &quot;Standard Report&quot; screen, click &quot;Add new&quot;, or edit an existing one.</para>
<para>In the following screen, there are several actions we need to take. First, enter a name for the new &quot;Standard Report&quot;. Second, for design, click &quot;Choose File&quot; and find the .jrxml-file you have edited in iReport. Then we select the report table that we used as a basis for the report in iReport. Click add, and it should move to the &quot;Selected report tables&quot; area. Finally, click save. 
</para>
<screenshot>
<screeninfo>Upload the file and choose the right report table</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="66%" fileref="resources/images/FSNIS_creating_reporting/ireport/27_new_std_report.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The report is now available as a &quot;Standard Report&quot; in FSNIS:</para>
<screenshot>
<screeninfo>The report is available as a Standard Report</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/FSNIS_creating_reporting/ireport/28_done.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Some final guidelines</title>
<itemizedlist>
<listitem>
<para>Use the same version of iReport and FSNIS&apos;s version of Jasper reports. See the About page in FSNIS for the Jasper version in use.</para>
</listitem>
<listitem>
<para>Use report tables with cross tab dimensions as your data source for your report designs. This will make it a lot easier to design reports where you need to put specific indicators, periods, or geographic locations on columns.</para>
</listitem>
<listitem>
<para>Learn from others, there are many FSNIS report designs for Jasper on launchpad, see http://bazaar.launchpad.net/~FSNIS-devs-core/FSNIS/trunk/files/head:/resources/</para>
</listitem>
</itemizedlist>
</section>
</section>
</section>
</chapter>
<chapter>
<title>Setting up GIS</title>
<section>
<title>Context</title>
<para>Setting up the GIS simply means storing coordinates for the geographic locations you want to show on the map in the database. Coordinates are often distributed in proprietary formats and will need to be converted to a format which FSNIS uses. ESRI shapefiles are the most common geospatial vector data format for desktop applications. You might find shapefiles for your country <ulink url="http://www.diva-gis.org/gdata">here</ulink> or in many other geospatial data repositories on the web. Some amount of work needs to be done in order to use these coordinates in FSNIS GIS, namely transforming the data into a suitable format and ensuring the name which are contained in the geospatial data match exactly with the names of the organization units which they should be matched to. </para>
<para>If you go to the geographic location module and edit one of the units, you can see a text field called Coordinates. Here you may fill in its coordinates directly (geojson format) which is useful if you just want to update a couple of units.</para>
<para>An example point/station coordinate:</para>
<para><programlisting><userinput>[29.341,-11.154]</userinput></programlisting></para>
<para>An example polygon/area coordinates string:</para>
<para><programlisting><userinput>[[[[29.343,-11.154],[28.329,-11.342],[28.481,-10.239],[29.833,-10.412]]]]</userinput></programlisting></para>
<para>However, if you are going to e.g. add coordinates for all units at a certain level you don&apos;t want to do that manually. This is where the automatic GML import comes into play and the following section explains the preferred way of using it.<important>
<para>The only co-ordinate reference system supported by FSNIS is EPSG:4326, also known as geographic longitude/latitude. Coordinates must be stored with the longitude (east/west position) proceeding the latitude (north/south position). If your vector data is in a different CRS than EPSG 4326, you will need to re project the data first before importing into FSNIS. </para>
</important></para>
</section>
<section id="gisSetup">
<title>Importing coordinates</title>
<para>Step 1 - Simplify/generalize your geographic data</para>
<para>The boundaries in geographic data files are usually very accurate, too much so for the needs of a web-based GIS. This usually does not affect the performance when using GIS files on a a local system but it is usually necessary to optimize the geographic data for the web-based GIS system of FSNIS. All geographic data needs to be downloaded from the server and rendered in a browser so if the data is overly complex, the performance of the FSNIS GIS will be negatively impacted. This optimization process can be described as follows:</para>
<para><simplelist>
<member>Coordinates: The number of significant decimal digits (e.g. 23.02937874993774) should be shortened to fewer digits (e.g. 23.03). Although this will result in some inaccuracies on the map, given the usual scale at which maps in FSNIS are produced (&gt; 1:50,000), the loss of precision should not be noticeable. Normally, no more than four significant digits after the decimal point should be necessary.</member>
<member>Polygons: In addition to shortening the number of significant digits, the actual number of points should also be reduced to an optimal level. Finding this optimal level may take a bit of experimentation. Decreasing the precision of the points as well as the number of points through generalization, will lead to degradation of the polygon. However, after a bit of experimentation, an optimal level of generalization can be found, where the accuracy of the polygon is visually acceptable, and the performance of the GIS is optimal. </member>
</simplelist></para>
<para>For polygons, we need to make the boundary lines less detailed by removing some of the line points. One possible method is the use of <ulink url="http://mapshaper.com/test/MapShaper.swf">MapShaper</ulink> which is an online tool which can be used to generalize geographic data. To use MapShaper, simply upload your shapefile to the site. Then, at the center bottom you see a slider that starts at 0%. It is usually acceptable to drag it up to about 80%. In the left menu you can check &quot;show original lines&quot; to compare the result and you may want to give a different simplification method a try. When you are happy with the result, click &quot;export&quot; in the top right corner. Then check the first of the four options called &quot;Shapefile - polygons&quot;, click &quot;create&quot; and wait for the download buttons to appear. Now, download the two files to your local computer (being sure to rename the file so that you do not overwrite your existing, original data). Move on to the next step with your new simplified shapefile.
</para>
<para>Step 2 - Convert the shapefile to GML</para>
<para>
The recommended tool for geographic format conversions is called &quot;ogr2ogr&quot;. This should be available for most Linux distributions <command>sudo apt-get install gdal-bin</command>. For Windows, go to <ulink url="http://fwtools.maptools.org/">http://fwtools.maptools.org/ </ulink>and download &quot;FWTools&quot;, install it and open up the FWTools command shell. During the format conversion we also want to ensure that the output has the correct coordinate projection (called EPSG:4326 with geographic longitude and latitude). For a more detailed reference of geographic coordinates, please refer to this <ulink url="http://www.epsg-registry.org/">site</ulink>. If you have already reprojected the geographic data to the geographic latitude/longitude (EPSG:4326) system, there is no need to explicitly define the output coordinate system, assuming that <command>ogr2ogr</command> can determine the input spatial reference system. Note that most shapefiles are using the EPSG:4326 system. You can determine the spatial reference system by executing the following command.</para>
<para><programlisting><userinput>ogrinfo -al -so filename.shp</userinput></programlisting></para>
<para>Assuming that the projection is reported to be EPSG:27700 by <command>ogrinfo</command>, we can transform it to EPSG:4326 by executing the following command.<programlisting><userinput>ogr2ogr -s_srs EPSG:27700 -t_srs EPSG:4326 -f GML filename.gml filename.shp </userinput></programlisting></para>
<para>If the geographic data is already in EPSG:4326, you can simply transform the shapefile to GML by executing the following command. </para>
<para><programlisting><userinput>ogr2ogr -f GML filename.gml filename.shp</userinput></programlisting></para>
<para> You will find the created GML file in the same folder as the shapefile.
</para>
<para>Step 3 - Prepare the GML file</para>
<para>Unfortunately, the GML file is not ready for importation yet. Open it in a robust text editor like Geany (Linux) or Notepad++ (Windows). GML is an XML based format which means that you will recognize the regular XML tag hierarchy. In the GML file an geographic location is represented as a &lt;gml:featureMember&gt;. Inside the feature members we usually find a lot of attributes, but we are just going to import their coordinates. In order to do this FSNIS will match the name of the feature members to the geographic location names in the database. To get the name of the feature members in the GML file the importer will look for a property called &quot;ogr:Name&quot;. Figure out what property that is holding the name of the feature members (could be &quot;ogr:DISTRICT_NAME&quot;, &quot;ogr:NAME_1&quot; or whatever, this differs from shapefile to shapefile) and rename it to &quot;ogr:Name&quot;. Ensure that both the start and the end tags are renamed properly. They are supposed to look like e.g.: &lt;ogr:Name&gt;Moyamba District&lt;/ogr:Name&gt;
</para>
<para>Note that the name of the feature members in the GML file must be spelled exactly the same as the geographic locations in the database. Otherwise the importer will not recognize it and thus not transfer any coordinates. E.g. &quot;Moyamba&quot; in the GML file might be called &quot;Moyamba District&quot; in the database. Creative use of the &quot;rename all&quot; function in the text editor is usually of great help in these situations, as you do not want to edit numerous feature members manually. Have a brief look at the names and compare them to the names in the database. If they seem to match fairly good, it is about time to do a preview in the import-export module.
</para>
<para>
Go to Services -&gt; Import-Export, select &quot;Preview&quot;, select the GML file and click &quot;Import&quot;. Look for new/updated geographic locations. Our intention is to add coordinates to already existing geographic locations in the database, so we want as many updates as possible and 0 new. Those listed as new will be created as root units and mess up the geographic location trees in FSNIS. If any listed as new, click the number and the geographic locations in question will appear in the list below. If there are any slight misspellings compared to the geographic location names in the database - fix them and do the preview again. Otherwise, click the &quot;discard all&quot; button below the list and then the &quot;Import all&quot; button above the list.
</para>
<para>
If the import process completes successfully, you should now be able to utilize the geographic data in the FSNIS GIS. If not, check the log for hints and look for common errors such as:
</para>
<para>- Name duplicates in the GML file. The name column in the database is unique and does not accept two geographic locations with the same name.</para>
<para>- The &quot;shortname&quot; column in the organisationunit table in your database has a too small varchar definition. Increase it to 100.</para>
<para>- Special name characters in the GML file. Be sure to convert these to appropirate XML equivalents or escape sequences.</para>
</section>
<section>
<title>Administering the GIS module</title>
<section id="gisOverlay">
<title>Register overlays</title>
<para>Overlays are geographic layers that do not have any direct linkage
to data in the database. Examples include roads, rivers, airports, ports,
and other geographic information that you may want to display on your
map but that is not necessarily linked to data contained in the FSNIS
database. The <guimenu>Register Overlay</guimenu> panel will allow you to
add new layers and determine how they will be represented visually on the
map. </para>
<itemizedlist>
<listitem>
<para><guilabel>Display name: </guilabel>Represents your overlay in
the layer tree in the upper right corner.</para>
</listitem>
<listitem>
<para><guilabel>Map source file: </guilabel>The GeoJSON file
name.</para>
</listitem>
<listitem>
<para><guilabel>Fill color: </guilabel>Decides the fill color if the
layer is a polygon layer. </para>
</listitem>
<listitem>
<para><guilabel>Fill opacity: </guilabel>Select an opacity level
between 0 (invisible) and 1 (solid).</para>
</listitem>
<listitem>
<para><guilabel>Stroke color: </guilabel>The stroke color over lines
and polygon borders.</para>
</listitem>
<listitem>
<para><guilabel>Stroke width: </guilabel>Select a stroke width between
0 and 4.</para>
</listitem>
</itemizedlist>
<section>
<title>Copying files to the FSNIS application</title>
<para>Currently, your GeoJSON files should be placed in the
FSNIS_HOME/geojson of your FSNIS application to be accessible to the GIS
module. If the GeoJSON directory does not exist, you will need to create
it manually and copy your GeoJSON files there.</para>
</section>
</section>
</section>
</chapter>
<chapter>
<title>View dataset tables functionality</title>
<section id="CH22_M01">
<title>View dataset tables functionality</title>
<para>
View dataset tables function allows the user to view raw data values for all the data elements in a dataset for a time period selected. The data values appear as a table which can be exported to a excel sheet. To view data, follow the steps below:
</para>
<itemizedlist>
<listitem>
<para>Go to Services and click on the View dataset tables option.</para>
</listitem>
<listitem>
<para>Select the dataset you want to see the data for.</para>
</listitem>
<listitem>
<para>Select the Start Date, i.e. time period from where you want to view the data.</para>
</listitem>
<listitem>
<para>Select the End Date, i.e. time period up to which you want to view the data.</para>
</listitem>
<listitem>
<para>Then, select the geographic location for which you want to view the data.</para>
</listitem>
<listitem>
<para>Click on View Data.</para>
</listitem>
<listitem>
<para>The data appears as a table which can be exported to an excel sheet.</para>
</listitem>
</itemizedlist>
</section>
</chapter>
</book>