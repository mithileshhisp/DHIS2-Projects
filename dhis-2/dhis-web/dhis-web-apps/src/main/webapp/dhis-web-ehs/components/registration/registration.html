<div ng-controller="RegistrationController" data-ng-init="init()">
    <script type="text/ng-template" id="attribute-details.html">
        <table class="table table-bordered">
            <tr>
                <td class="bold">{{'description' | translate}}</td>
                <td>{{content.description ? content.description : 'not_available' | translate}}</td>
            </tr>
        </table>
    </script>

    <script type="text/ng-template" id="dataelement-details.html">
        <table class="table table-bordered">
            <tr>
                <td class="bold">{{'description' | translate}}</td>
                <td>{{content.description ? content.description : 'not_available' | translate}}</td>
            </tr>
            <tr>
                <td class="bold">{{'url' | translate}}</td>
                <td>
                    <span ng-if="content.url">
                        <a href="{{content.url}}" target="_blank">{{content.url}}</a>
                    </span>
                    <span ng-if="!content.url">
                        {{'not_available' | translate}}
                    </span>
                </td>
            </tr>
        </table>
    </script>
    <!--registration form starts -->

    <div class="">
        <form name="outerForm" novalidate>
            <!-- Entity type begins -->
            <div ng-if="!selectedProgram && registrationMode === 'REGISTRATION'">
                <h3>{{'category'| translate}}</h3>
                <table class="dhis2-list-table-striped dhis2-table-hover">
                    <tr>
                        <td>
                            {{'entity_type'| translate}}
                        </td>
                        <td>
                            <select class="form-control"
                                    ng-model="trackedEntities.selected"
                                    ng-options="trackedEntity.displayName for trackedEntity in trackedEntities.available | orderBy: 'displayName'">
                            </select>
                        </td>
                    </tr>
                </table>
                <hr>
            </div>
            <!-- Entity type ends -->

            <!--custom registration form begins -->
            <div class="vertical-spacing" ng-if="customRegistrationFormExists">
                <!-- enrollment and incidence dates begin -->
                <div ng-if="selectedProgram && !customRegistrationForm.hasProgramDate && registrationMode !== 'PROFILE'">
                    <div ng-include="'components/registration/enrollment-dates-form.html'"></div>
                </div>
                <!-- enrollment and incidence dates end -->
                <div ng-include="'components/registration/custom-registration-form.html'"></div>

            </div>
            <!-- custom registration form ends -->

            <!-- default registration form begins -->
            <div class="vertical-spacing" ng-if="!customRegistrationFormExists">
                <!-- for saint Lucia add above -->
                <div ng-include="'components/registration/default-registration-form.html'"></div>

                <div ng-if="selectedProgram && registrationMode !== 'PROFILE'" ng-include="'components/registration/enrollment-dates-form.html'"></div>
                <!--<div ng-include="'components/registration/default-registration-form.html'"></div>-->
            </div>
            <!-- default registration form ends -->
        </form>
        <!--registration form ends -->

        <!-- data entry form starts -->
        <form name="outerDataEntryForm" novalidate>
            <div ng-if="registrationAndDataEntry">
                <div class="section-label section-spacing vertical-spacing">
                    {{'data_entry'| translate}}
                </div>
                <div ng-include="'components/dataentry/event-details.html'"></div>
                <div class="clear vertical-spacing" ng-if="customDataEntryForm" ng-include="'../dhis-web-commons/angular-forms/custom-dataentry-form.html'"></div>
                <div class="clear vertical-spacing" ng-if="!customDataEntryForm" ng-include="'components/dataentry/default-form.html'"></div>
            </div>
        </form>
        <!-- data entry form ends -->

        <!-- registration buttons begin -->

        <div ng-if="!editingDisabled && registrationMode === 'PROFILE'" class="vertical-spacing btn-group">

            <!--<div  ng-if ="selectedProgram.id === 'ieLe1vT4Vad' || selectedProgram.id ==='TeBSCKYRo3q' ">-->
            <div>
                <!--
<div class="section-label vertical-spacing">
{{'enrollment'| translate}}
{{'address_details'| translate}}
</div>
-->
                <table class="dhis2-list-table-striped default-form-table">
                    <!-- added for ehs start -->

                    <!--
                    <tr>
                      <td>
                        {{'country' | translate}}
                      </td>
                      <td class="absorbing-column">
                        <input type="text" class="form-control" value={{rootOrgUnit.name}} ng-disabled="true"/>
                      </td>
                    </tr>
                    -->
                    <tr>
                        <td>
                            {{'country' | translate}}
                        </td>



                        <td class="absorbing-column">



                            <select ng-model="selectedCountry1" ng-change="getDistrict(selectedCountry1)"
                                    class="form-control"

                                    ng-options="country.name as country.name for country in countryList"
                                    ng-disabled="countryList.length < 1">

                                <option value="">{{'please_select'| translate}}</option>
                            </select>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            {{'district' | translate}}
                        </td>
                        <td class="absorbing-column" ng-if="tempSelectedCountry1 != rootOrgUnit.name">
                            <div>
                                <input type="text" class="form-control" name="input" ng-model="selectedDistrict1" ng-change="getAnotherDistrict( selectedDistrict1 )">
                            </div>
                        </td>
                        <td class="absorbing-column" ng-if="tempSelectedCountry1 === rootOrgUnit.name">
                            <div>
                                <select ng-model="selectedDistrict1" ng-change="getCommunity(selectedDistrict1)"
                                        class="form-control"
                                        ng-options="districtOrgUnit.id as districtOrgUnit.name for districtOrgUnit in districtOrgUnits | orderBy: 'name'"
                                        ng-disabled="districtOrgUnits.length < 1">
                                    <option value="">{{'please_select'| translate}}</option>
                                </select>
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            {{'city_community' | translate}}
                        </td>
                        <td class="absorbing-column" ng-if="tempSelectedCountry1 != rootOrgUnit.name">
                            <div>
                                <input type="text" class="form-control" name="input" ng-model="selectedCommunity1" ng-change="getAnotherCommunity( selectedCommunity1 )">
                            </div>
                        </td>
                        <td class="absorbing-column" ng-if="tempSelectedCountry1 === rootOrgUnit.name">
                            <div>
                                <select ng-model="selectedCommunity1" ng-change="getEnrollingOrgunit(selectedCommunity1)"
                                        class="form-control"
                                        ng-options="communityOrgUnit.id as communityOrgUnit.name for communityOrgUnit in communityOrgUnits | orderBy: 'name'"
                                        ng-disabled="communityOrgUnits.length < 1">
                                    <option value="">{{'please_select'| translate}}</option>
                                </select>
                            </div>
                        </td>
                    </tr>
                    <!-- added for ehs start -->

                    <!--
                    <div id ="hideDefaultEnrollOrgUnit" ng-show = "false">
                      <tr>
                          <td>
                              {{'enrolling_orgunit' | translate}}
                          </td>
                          <td class="absorbing-column">
                              <input type="text" class="form-control" value={{selectedEnrollment.orgUnitName}} ng-disabled="true"/>
                          </td>
                      </tr>
                    </div>
                    -->



                </table>
                </div>
            <button type="button" class="btn btn-primary" ng-click="registerEntity(null)">{{'save'| translate}}</button>
            <button type="button" class="btn btn-default small-horizontal-spacing" ng-click="cancelRegistrationWarning(cancel)">{{'cancel'| translate}}</button>
        </div>


        <div class="vertical-spacing btn-group" ng-if="registrationMode === 'ENROLLMENT'">
            <button type="button" class="btn btn-primary" ng-click="registerEntity(null)">{{'enroll'| translate}}</button>
            <button type="button" class="btn btn-default small-horizontal-spacing" ng-click="cancelRegistrationWarning(showNewEnrollment)">{{'cancel'| translate}}</button>
        </div>

        <div class="vertical-spacing hideInPrint btn-group" ng-if="registrationMode === 'REGISTRATION'">
            <button type="button" class="btn btn-primary" ng-click="registerEntity1('DASHBOARD')">{{'save_and_continue'| translate}}</button>
            <button type="button" class="btn btn-success small-horizontal-spacing" ng-click="registerEntity1('SELF')">{{'save_and_add_new'| translate}}</button>
            <button type="button" class="btn btn-info small-horizontal-spacing" onclick="javascript:window.print()">{{'print_form'| translate}}</button>
            <button type="button" class="btn btn-default small-horizontal-spacing" ng-click="cancelRegistrationWarning(showRegistration)">{{'cancel'| translate}}</button>
        </div>
        <!-- registration buttons end -->

        <div class="hideInPrint" ng-if="warningMessages.length > 0" style="margin-top:18px" ng-class="{true: 'col-sm-4'} [registrationMode === 'REGISTRATION']">
            <div ng-include="'views/warnings.html'"></div>
        </div>
    </div>

</div>
