## Macro for generating the jQuery validation rules 
#macro( validate $type $require )
  #if( $type == "NUMBER" )
    {validate:{ number:true #if($require), required:true #end }}
  #elseif( $require )
    {validate:{required:true}}
  #end
#end

<script type="text/javascript">
var selectedClassValue = "";
jQuery(document).ready( function(){
        validation( 'registrationForm', function(form){
            if( isSubmit && validateOVCRegistration() ) {
                form.submit(i18n_field_is_required);
            }
        }, function( ){
            isSubmit = true;
            //isSubmit = validateOVCRegistration();
            //validateOVCRegistration();
        }); 
    }); 

</script>

#if( $status == "NONE" )
<h3>OVC BIO DATA FORM - $!organisationUnit.name</h3>
<form id="registrationForm" name="registrationForm" action="saveRegistrationData.action" method="post" >


<table style="background-color:#FFFFFF;" width="100%">
    
    <tr><th colspan="6" class="heading-column">Area Details</th></tr>
    
    <!-- Patient Attribute: -->
    <tr #alternate( false ) id="trattr291">
        <!-- Patient Attribute: County -->
        <td class='text-column'>$i18n.getString( "county" )</td>
        <!--<td class="input-column" ><input type="text" id="attr291" name="attr291" /></td>-->
        <td class="input-column" ><input type="text" id="attr291" name="attr291" value = "$!organisationUnit.getParent().getParent().getParent().getName()" readonly/></td>
        
        <!-- Patient Attribute: District -->
        <td class='text-column'>$i18n.getString( "district" )</td>
        <!--<td class="input-column" ><input type="text" id="attr292" name="attr292" /></td>--> 
        <td class="input-column" ><input type="text" id="attr292" name="attr292" value = "$!organisationUnit.getParent().getParent().getName()" readonly /></td>
        <!-- Patient Attribute: Division -->
        <td class='text-column'>$i18n.getString( "division" )</td>
        <!--<td class="input-column" ><input type="text" id="attr293" name="attr293" /></td>-->
        <td class="input-column" ><input type="text" id="attr293" name="attr293" value = "$!organisationUnit.getParent().getName()" readonly /></td>
    </tr>

    <!-- Patient Attribute: -->
    <tr #alternate( false ) id="trattr41">
        <!-- Patient Attribute: Location -->
        
        <td class='text-column'>$i18n.getString( "location" )</td>
        <td class="input-column">
            <select id="attr41" name="attr41" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $locations )
                    <option value="$option.name" >$option.name</option>
                 #end
            </select>
        </td>


		
		
        <!-- Patient Attribute: CBO -->
        <td class='text-column'>$i18n.getString( "organisation" )</td>
        <td class="input-column" ><input type="text" id="organisationUnit" name="organisationUnit"  value = "$!organisationUnit.getName()" readonly /></td>
        <input type='hidden' id='orgUnitId' name='orgUnitId' value = "$!organisationUnit.id" />
        <!-- Patient Attribute: Village -->
        <td class='text-column'>$i18n.getString( "village" )</td>
        <td class="input-column" ><input type="text" id="attr42" name="attr42" /></td> 
    </tr>

    <!-- Patient Attribute: Community Home Visitor First Name-->
     <tr #alternate( false ) id="trattr43">
        <td class='text-column'>$i18n.getString( "community_home_visitor_code" )<em title="$i18n.getString( 'required' )" class="required">*</em></td>
        <td class="input-column">
            ##set( $attribute = $patientAttributeMap.get( 36 ) ) 
            <select id="attr43" name="attr43" class="{validate:{required:true}}">
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $employeeListCHV )
                    <option value="$option.code" >$option.code</option>
                 #end
            </select>
        </td>
		
	 <td class='text-column'>$i18n.getString( "ward" )</td>
        <td class="input-column">
            <select id="attr6118299" name="attr6118299" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($ward in $wards )
                    <option value="$ward.name" >$ward.name</option>
                 #end
            </select>
        </td>
		
		
    </tr>   
        
</table>

<table style="background-color:#ECE0F8;" width="100%">
	
    <tr><th colspan="6" class="heading-column">A. Personal Information of the Child</th></tr>
    
	<tr #alternate( false ) id="trname">
    	
		<td class='text-column'><label for="registration_Date">$i18n.getString( "registration_Date" )<em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
		<td>
            <input type="text" id="registrationDate" name="registrationDate"/>
            <script type="text/javascript">
                datePickerValid( 'registrationDate', true );
            </script>    
        </td>
		
	</tr>
	
	<!--  Patient Property : Name-->
    <tr #alternate( false ) id="trname">
        <!-- Child First Name -->
        <td class='text-column'><label for="first_name">$i18n.getString( "child_first_name" )<em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
        <td class="input-column" ><input type="text" id="firstName" name="firstName" class="{validate:{required:true, unicodechars:true, rangelength:[3,50]}}"/></td>
        <!-- Middle Name -->
        <td class='text-column'><label for="child_middle_name">$i18n.getString( "child_middle_name" )</label></td>
        <td class="input-column" ><input type="text" id="middleName" name="middleName" /></td>
        <!-- Sur Name -->
        <td class='text-column'><label for="child_sur_name">$i18n.getString( "child_sur_name" )</label></td>
        <td class="input-column" ><input type="text" id="lastName" name="lastName" /></td>      
    </tr>
    <!-- Patient : Property Gender  --> 
    <tr #alternate( false ) id="trgender">
        <td class='text-column'><label for="gender">$i18n.getString( "gender" )<em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
        <td class="input-column">
            <select id="gender" name="gender" class="{validate:{required:true}}">
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                <option value="M" >$i18n.getString( "male" )</option>
                <option value="F">$i18n.getString( "female" )</option>
            </select>
        </td>
    </tr>
    <!-- Patient Property : Date of Birth  -->
    <tr #alternate( false ) id="trdob">
        <td class='text-column'><label for="date_of_birth">$i18n.getString( "date_of_birth" )<em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
        <td class="input-column" colspan='2'>
            <input type="text" id="dateOfBirth" name="dateOfBirth"  class="{validate:{required:true,dateISO:true}}"/>
			<!--<input type="text" id="dateOfBirth" name="dateOfBirth"  class="{validate:{required:true,dateISO:true}}" onchange="calculateAge();"/>-->
            <script type="text/javascript">
                datePickerValid( 'dateOfBirth', false );
            </script>    
        </td>       
    </tr>   
    

    <!-- Patient Attribute : Has Birth certificate -->
    <tr #alternate( false ) id="trattr34">
        <td class='text-column'>$i18n.getString( "has_birth_certificate" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 34 ) ) 
            <select id="attr34" name="attr34" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                <option value="true">$i18n.getString( "yes" )</option>
                <option value="false">$i18n.getString( "no" )</option>
            </select>
        </td>
    </tr>

    <!-- Patient Attribute : HH has NHIF -->
    <tr #alternate( false ) id="trattr35">
        <td class='text-column'>$i18n.getString( "hh_has_nhif" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 35 ) ) 
            <select id="attr35" name="attr35" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                <option value="true">$i18n.getString( "yes" )</option>
                <option value="false">$i18n.getString( "no" )</option>
            </select>
        </td>
    </tr>

    <!-- Patient Attribute : Orphanhood Status -->
    <!--
    <tr #alternate( false ) id="trattr36">
        <td class='text-column'>$i18n.getString( "orphan_hood_status" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 36 ) ) 
            <select id="attr36" name="attr36" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>       
    </tr>
	-->
	
</table>
<table style="background-color:#ECE0F8;" width="100%">	
	<tr><td colspan="6"><strong>Eligibility Criteria</strong></td></tr>
	

	    <tr #alternate( false ) id="trattr608">
	        <td class="input-column">
	            #set( $attribute = $patientAttributeMap.get( 608 ) )
	            <input type='checkbox' id="attr608" name="attr608" value='true' >
	            &nbsp;&nbsp;Father dead
	        </td>
	        <td class="input-column">
	            #set( $attribute = $patientAttributeMap.get( 614 ) )
	            <input type='checkbox' id="attr614" name="attr614" value='true' >
	            &nbsp;&nbsp;Child lives on the street
	        </td>
	        
	        <td class="input-column">
	            #set( $attribute = $patientAttributeMap.get( 609 ) )
	            <input type='checkbox' id="attr609" name="attr609" value='true' >
	            &nbsp;&nbsp;Mother dead
	        </td>
		</tr>
		
		<tr #alternate( false ) id="trattr615">        
	        <td class="input-column">
	            #set( $attribute = $patientAttributeMap.get( 615 ) )
	            <input type='checkbox' id="attr615" name="attr615" value='true' value='true' >
	            &nbsp;&nbsp;Child lives in a child headed household
	        </td>        
		      
	        <td class="input-column">
	            #set( $attribute = $patientAttributeMap.get( 610 ) )
	            <input type='checkbox' id="attr610" name="attr610" value='true' >
	            &nbsp;&nbsp;Mother and Father dead
	        </td>
	        <td class="input-column">
	            #set( $attribute = $patientAttributeMap.get( 616 ) )
	            <input type='checkbox' id="attr616" name="attr616" value='true' >
	            &nbsp;&nbsp;Child lives with elderly caregiver(60 plus)
	        </td>
	    </tr>   
	        
	     <tr #alternate( false ) id="trattr611">
	     	
	        <td class="input-column">
	            #set( $attribute = $patientAttributeMap.get( 611 ) )
	            <input type='checkbox' id="attr611" name="attr611" value='true' >
	            &nbsp;&nbsp;Child is HIV positive
	        </td>
	        <td class="input-column">
	            #set( $attribute = $patientAttributeMap.get( 617 ) )
	            <input type='checkbox' id="attr617" name="attr617" value='true' >
	            &nbsp;&nbsp;Child lives in a household affected by HIV
	        </td>                
	    </tr>
	    
	    <tr #alternate( false ) id="trattr612">     
	        <td class="input-column">
	            #set( $attribute = $patientAttributeMap.get( 612 ) )
	            <input type='checkbox' id="attr612" name="attr612" >
	            &nbsp;&nbsp;Child lives in institution
	        </td>
	        
	        <td class="input-column">
	            #set( $attribute = $patientAttributeMap.get( 613 ) )
	            <input type='checkbox' id="attr613" name="attr613" value='true' >
	            &nbsp;&nbsp;Child lives in a household which has taken an orphan (s)
	        </td>
	        
		</tr>
		
	    <tr #alternate( false ) id="trattr618">     
	        <td class="input-column">
	            #set( $attribute = $patientAttributeMap.get( 618 ) )
	            <input type='checkbox' id="attr618" name="attr618" value='true' onclick="childHIVPositive();">
	            &nbsp;&nbsp;Child is marginalized,stigmatized and discriminated
	        </td>
	        
			<td class='text-column'>Specify Name
				#set( $attribute = $patientAttributeMap.get( 619 ) )
				<input type="text" id="attr619" name="attr619" />
			</td>
	
	    </tr>    
	    
	</table>
    
<!-- onclick="toggleUnderAge(this);" -->
 
<table style="background-color:#EFFBEF;" width="100%">

<tr><th colspan="6" class="heading-column">B. Education Details of Child</th></tr>
    
    <!-- Patient Attribute: Name of school/institution -->
	<tr #alternate( false ) id="trattr51">
		<td class='text-column'>$i18n.getString( "name_of_school_institution" )</td>
		<td class="input-column">
            <select id="attr51" name="attr51" onchange="changeSchool();" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($school in $schools )
                    <option value="$school.name" >$school.name</option>
                 #end
            </select>
        </td>
	</tr>	
	
	<!-- Patient Attribute : Level in school -->
	<tr #alternate( false ) id="trattr44">
		<td class='text-column'>$i18n.getString( "level_in_school" )</td>
		<input type='hidden' id='school_level_44' name='school_level_44' />
		<td class="input-column"><input type="text" id="attr44" name="attr44"  readonly = "readonly" />
			<!--
			#set( $attribute = $patientAttributeMap.get( 44 ) ) 
			<select id="attr44" name="attr44" onchange="schoolLevelValidation();" >
				<option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
				 #foreach ($option in $attribute.attributeOptions )
					<option value="$option.id" >$option.name</option>
				 #end	
			</select>
			-->
		</td>	
	</tr>	
	
	<!-- Patient Attribute: Class -->
	<tr #alternate( false ) id="trattr50">
		<td class='text-column'>$i18n.getString( "class" )</td>
		<td class="input-column" >
			<select id="attr50" name="attr50"  >
				<option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
			</select>
			<!--	
			<input type="text" id="attr50" name="attr50" />
			-->
		
		</td>
	</tr>	
	
   <!-- Patient Attribute: Addimission No -->
   <tr #alternate( false ) id="trattr1764">
        <td class='text-column'>$i18n.getString( "admin_no" )</td>
        <td class="input-column" ><input type="text" id="attr1764" name="attr1764" /></td>
    </tr>
	
	
	
	
	<!-- Patient Attribute : Level in school #if("$value"=="$option.name") selected #end -->
	
	<!--
	<tr #alternate( false ) id="trattr44">
        <td class='text-column'>$i18n.getString( "level_in_school" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 44 ) ) 
            <select id="attr44" name="attr44" onchange="schoolLevelValidation();">
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>
	-->
	
    <!-- Patient Attribute: Class -->
	<!--
    <tr #alternate( false ) id="trattr50">
        <td class='text-column'>$i18n.getString( "class" )</td>
        
		<td class="input-column" ><input type="text" id="attr50" name="attr50" /></td>
        
        
        <td class='text-column'>$i18n.getString( "name_of_school_institution" )</td>
        <td class="input-column" ><input type="text" id="attr51" name="attr51" /></td>
    </tr>
	-->
</table>

<table style="background-color:#ECE0F8;" width="100%">

<tr><th colspan="6" class="heading-column">C. Child Health Status</th></tr>
    <!-- Patient Attribute : Child�s HIV status -->
    <tr #alternate( false ) id="trattr52">
        <td class='text-column'>$i18n.getString( "childs_hiv_status" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 52 ) ) 
            <select id="attr52" name="attr52" onchange="hivStatusValidation();" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>

    <!-- Patient Attribute : Child ART status -->
    <tr #alternate( false ) id="trattr56">
        <td class='text-column'>$i18n.getString( "childs_art_status" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 56 ) ) 
            <select id="attr56" name="attr56" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>
    
    <!-- Patient Attribute: Facility Linked to -->
    <tr #alternate( false ) id="trattr60">
        <td class='text-column'>$i18n.getString( "facility_linked_to" )</td>
        <td class="input-column" ><input type="text" id="attr60" name="attr60" /></td>
    </tr>   


    <!-- Patient Attribute : Child Received age appropiate immunization status (Observe Health Card) -->
    <tr #alternate( false ) id="trattr536">
        <td class='text-column'>Child Received age appropiate immunization status (Observe Health Card)</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 536 ) ) 
            <select id="attr536" name="attr536" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>
</table>
<table style="background-color:#ECE0F8;" width="100%">
	
	<tr><td colspan="6"><strong>Child receives services from the other sources(include name where applicable)</strong></td></tr>

    <tr #alternate( false ) id="trattr620">     
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 620 ) )
            <input type='checkbox' id="attr620" name="attr620" value='true' onclick="specifyGovernmentName();">
            &nbsp;&nbsp;Government ( Specify Name ) &nbsp;&nbsp; &nbsp;&nbsp; 
            <input type="text" id="attr621"  name="attr621" />
        </td>
        
		<!--<td class='text-column'>Specify Government Name</td>
		#set( $attribute = $patientAttributeMap.get( 621 ) )
        <td class="input-column" ><input type="text" id="attr621" name="attr621"  /></td>        
		-->
    </tr> 

    <tr #alternate( false ) id="trattr622">     
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 622 ) )
            <input type='checkbox' id="attr622" name="attr622" value='true' onclick="specifyNGOName();">
            &nbsp;&nbsp;NGO ( Specify Name ) &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <input type="text" id="attr623"  name="attr623" /> 
        </td>
        
		<!--<td class='text-column'>Specify NGO Name</td>
		#set( $attribute = $patientAttributeMap.get( 623 ) )
        <td class="input-column" ><input type="text" id="attr623" name="attr623"  /></td>        
		-->
    </tr> 

    <tr #alternate( false ) id="trattr624">     
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 624 ) )
            <input type='checkbox' id="attr624" name="attr624" value='true' onclick="specifyCBOName();">
            &nbsp;&nbsp;CBO ( Specify Name ) &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <input type="text" id="attr625" name="attr625" />
        </td>
        
		<!--<td class='text-column'>Specify CBO Name</td>
		#set( $attribute = $patientAttributeMap.get( 625 ) )
        <td class="input-column" ><input type="text" id="attr625"  name="attr625" /></td>        
		-->
    </tr>

    <tr #alternate( false ) id="trattr626">     
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 626 ) )
            <input type='checkbox' id="attr624" name="attr626" value='true' >
            &nbsp;&nbsp;None
        </td>
        
    </tr>


    <tr #alternate( false ) id="trattr627">     
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 627 ) )
            <input type='checkbox' id="attr627" name="attr627" value='true' onclick="specifyOthersName();">
            &nbsp;&nbsp;Others ( Specify Name ) &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <input type="text" id="attr628" name="attr628" /> 
        </td>
        
		<!--<td class='text-column'>Specify Others Name</td>
		#set( $attribute = $patientAttributeMap.get( 628 ) )
        <td class="input-column" ><input type="text" id="attr628" name="attr628" /></td>        
		-->
    </tr>

	

    <!-- Patient Attribute: Child has special needs (Specify) -->
    <tr #alternate( false ) id="trattr547" style="background-color:#ECE0F8;">
        <td class='text-column'>Child has special needs (Specify)</td>
        <td class="input-column" ><input type="text" id="attr547" name="attr547" /></td>
    </tr>
</table>

<table style="background-color:#EFFBEF;" width="100%">

<tr><th colspan="6" class="heading-column">D. Details of Parents</th></tr>
    <!--  Patient Property : Father Name-->
    <tr #alternate( false ) id="trname">
        <!-- Father  First Name -->
        <td class='text-column'><label for="first_name">$i18n.getString( "father_first_name" )</label></td>
        <td class="input-column" ><input type="text" id="attr61" name="attr61" /></td>
        <!-- Middle Name -->
        <td class='text-column'><label for="middle_name">$i18n.getString( "middle_name" )</label></td>
        <td class="input-column" ><input type="text" id="attr294" name="attr294" /></td>
        <!-- Sur Name -->
        <td class='text-column'><label for="sur_name">$i18n.getString( "sur_name" )</label></td>
        <td class="input-column" ><input type="text" id="attr295" name="attr295" /></td>        
    </tr>

    <!-- Patient Attribute : If not dead Father�s HIV status -->
    <tr #alternate( false ) id="trattr62">
        <td class='text-column'>$i18n.getString( "fathers_hiv_status" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 62 ) ) 
            <select id="attr62" name="attr62" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>   


    <!-- Patient Attribute: Father ID Number / Mobile Number -->
    <tr #alternate( false ) id="trattr60">
        <td class='text-column'>$i18n.getString( "id_number" )</td>
        <td class="input-column" ><input type="text" id="attr66" name="attr66" /></td>
        <td class='text-column'>$i18n.getString( "mobile_number" )</td>
        <td class="input-column" ><input type="text" id="attr67" name="attr67" class="{validate:{phone:true}}" /></td>
    </tr>

    <!-- Patient Attribute : If father dead, cause of death -->
    <tr #alternate( false ) id="trattr72">
        <td class='text-column'>$i18n.getString( "fathers_dead" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 72 ) ) 
            <select id="attr72" name="attr72" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>

    <!--  Patient Property : Mother Name-->
    <tr #alternate( false ) id="tattr76">
        <!-- Mother First Name -->
        <td class='text-column'><label for="first_name">$i18n.getString( "mother_first_name" )</label></td>
        <td class="input-column" ><input type="text" id="attr76" name="attr76" /></td>
        <!-- Middle Name -->
        <td class='text-column'><label for="middle_name">$i18n.getString( "middle_name" )</label></td>
        <td class="input-column" ><input type="text" id="attr296" name="attr296" /></td>
        <!-- Sur Name -->
        <td class='text-column'><label for="sur_name">$i18n.getString( "sur_name" )</label></td>
        <td class="input-column" ><input type="text" id="attr297" name="attr297" /></td>        
    </tr>

    <!-- Patient Attribute : If not dead mothers HIV status -->
    <tr #alternate( false ) id="trattr77">
        <td class='text-column'>$i18n.getString( "mothers_hiv_status" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 77 ) ) 
            <select id="attr77" name="attr77" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>   


    <!-- Patient Attribute: Mother ID Number / Mobile Number -->
    <tr #alternate( false ) id="trattr81">
        <td class='text-column'>$i18n.getString( "id_number" )</td>
        <td class="input-column" ><input type="text" id="attr81" name="attr81" /></td>
        <td class='text-column'>$i18n.getString( "mobile_number" )</td>
        <td class="input-column" ><input type="text" id="attr82" name="attr82" class="{validate:{phone:true}}"/></td>
    </tr>

    <!-- Patient Attribute : If mother dead, cause of death -->
    <tr #alternate( false ) id="trattr83">
        <td class='text-column'>$i18n.getString( "mothers_dead" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 83 ) ) 
            <select id="attr83" name="attr83" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>

</table>

<table style="background-color:#ECE0F8;" width="100%">

<tr><th colspan="6" class="heading-column">E. Guardians: Fill Details of Guardian if Child is under a Guardian's Care.</th></tr>


    <!--  Patient Property : Guardian  Name-->
    <tr #alternate( false ) id="tattr87">
        <!-- Guardian  First Name -->
        <td class='text-column'><label for="first_name">$i18n.getString( "guardian_first_name" )</label></td>
        <td class="input-column" ><input type="text" id="attr87" name="attr87" /></td>
        <!-- Middle Name -->
        <td class='text-column'><label for="middle_name">$i18n.getString( "middle_name" )</label></td>
        <td class="input-column" ><input type="text" id="attr298" name="attr298" /></td>
        <!-- Sur Name -->
        <td class='text-column'><label for="sur_name">$i18n.getString( "sur_name" )</label></td>
        <td class="input-column" ><input type="text" id="attr299" name="attr299" /></td>        
    </tr>

    <!-- Patient Attribute: Guardian ID Number / Mobile Number -->
    <tr #alternate( false ) id="trattr88">
        <td class='text-column'>$i18n.getString( "id_number" )</td>
        <td class="input-column" ><input type="text" id="attr88" name="attr88" /></td>
        <td class='text-column'>$i18n.getString( "mobile_number" )</td>
        <td class="input-column" ><input type="text" id="attr89" name="attr89" class="{validate:{phone:true}}" /></td>
    </tr>

    <!-- Patient Attribute : Guardian Gender -->
    <tr #alternate( false ) id="trattr90">
        <td class='text-column'>$i18n.getString( "guardian_gender" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 90 ) ) 
            <select id="attr90" name="attr90" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id">$option.name</option>
                 #end
            </select>
        </td>
    </tr>


    <!-- Patient Attribute : Guardian age -->
	<!--
    <tr #alternate( false ) id="trattr93">
        <td class='text-column'>$i18n.getString( "guardian_age" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 93 ) ) 
            <select id="attr93" name="attr93" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>
	-->
	
    <!-- Patient Attribute : Guardian age -->
	
    <tr #alternate( false ) id="trattr93">
        <td class='text-column'>$i18n.getString( "guardian_age" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 93 ) ) 
            <select id="attr93" name="attr93" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
					<option value="94">Below 18</option>
			 		<option value="95">19-24</option>
			 		<option value="96">25-29</option>
			 		<option value="97">30-34</option>
					<option value="98">35-39</option>
					<option value="99">40-59</option>
					<option value="100">60+</option>
            </select>
        </td>
    </tr>	
	
	
	
	
	
	
    <!-- Patient Attribute : Relationship to child -->
    <!--
	<tr #alternate( false ) id="trattr101">
        <td class='text-column'>$i18n.getString( "relationship_to_child" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 101 ) ) 
            <select id="attr101" name="attr101" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>
	-->
	
	<!-- Patient Attribute : Relationship to child -->
	
    <tr #alternate( false ) id="trattr101">
        <td class='text-column'>$i18n.getString( "relationship_to_child" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 101 ) ) 
            <select id="attr101" name="attr101" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
					<option value="103">Brother/Sister</option>
			 		<option value="104">Grandmother/Father</option>
			 		<option value="102">Uncle/Aunty</option>
			 		<option value="105">Other</option>
            </select>
        </td>
    </tr>	
	
</table>

<table style="background-color:#EFFBEF;" width="100%">

    <tr><th colspan="6" class="heading-column">F. Care Giver:</th></tr>
    
    <!-- Patient Attribute : F. Care Giver: -->
    <tr #alternate( false ) id="trattr106">
        <td class='text-column'>$i18n.getString( "care_giver" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 106 ) ) 
            <select id="attr106" name="attr106" class='#validate( "default"  $attribute.mandatory )'>
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>   

    <!-- Patient Attribute : F. Education level for caregiver: -->
    <tr #alternate( false ) id="trattr548">
        <td class='text-column'>Education level for caregiver</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 548 ) ) 
            <select id="attr548" name="attr548" class='#validate( "default"  $attribute.mandatory )'>
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>  

	<tr><th colspan="6" class="heading-column">Apply the Child Status Index (CSI) Tool</th></tr>
		
    <!-- Patient Attribute : Food/Nutrition Food security: -->
    <tr #alternate( false ) id="trattr553">
        <td class='text-column'>Food/Nutrition Food security</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 553 ) ) 
            <select id="attr553" name="attr553" class='#validate( "default"  $attribute.mandatory )'>
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 ##foreach ($option in $attribute.attributeOptions )
                    <!--<option value="$option.id" >$option.name</option>-->
                    <option value="554" >1</option>
                    <option value="555" >2</option>
                    <option value="556" >3</option>
                    <option value="557" >4</option>
                     
                 ##end
            </select>
        </td>
    </tr>

    <!-- Patient Attribute : Shelter/Care Shelter: -->
    <tr #alternate( false ) id="trattr558">
        <td class='text-column'>Shelter/Care Shelter</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 558 ) ) 
            <select id="attr558" name="attr558" class='#validate( "default"  $attribute.mandatory )'>
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 ##foreach ($option in $attribute.attributeOptions )
                    <!--<option value="$option.id" >$option.name</option>-->
                    <option value="559" >1</option>
                    <option value="560" >2</option>
                    <option value="561" >3</option>
                    <option value="562" >4</option>
                 ##end
            </select>
        </td>
    </tr>

    <!-- Patient Attribute : Child Protection Abuse/Exploit: -->
    <tr #alternate( false ) id="trattr563">
        <td class='text-column'>Child Protection Abuse/Exploit</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 563 ) ) 
            <select id="attr563" name="attr563" class='#validate( "default"  $attribute.mandatory )'>
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 ##foreach ($option in $attribute.attributeOptions )
                    <!--<option value="$option.id" >$option.name</option>-->
                    <option value="564" >1</option>
                    <option value="565" >2</option>
                    <option value="566" >3</option>
                    <option value="567" >4</option>
                 ##end
            </select>
        </td>
    </tr>


    <!-- Patient Attribute : Health Wellness: -->
    <tr #alternate( false ) id="trattr568">
        <td class='text-column'>Health Wellness</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 568 ) ) 
            <select id="attr568" name="attr568" class='#validate( "default"  $attribute.mandatory )'>
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 ##foreach ($option in $attribute.attributeOptions )
                    <!--<option value="$option.id" >$option.name</option>-->
                    <option value="569" >1</option>
                    <option value="570" >2</option>
                    <option value="571" >3</option>
                    <option value="572" >4</option>
                 ##end
            </select>
        </td>
    </tr>

    <!-- Patient Attribute : Psychosocial Emotional: -->
    <tr #alternate( false ) id="trattr573">
        <td class='text-column'>Psychosocial Emotional</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 573 ) ) 
            <select id="attr573" name="attr573" class='#validate( "default"  $attribute.mandatory )'>
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 ##foreach ($option in $attribute.attributeOptions )
                    <!--<option value="$option.id" >$option.name</option>-->
                    <option value="574" >1</option>
                    <option value="575" >2</option>
                    <option value="576" >3</option>
                    <option value="577" >4</option>
                 ##end
            </select>
        </td>
    </tr>

    <!-- Patient Attribute : Education Performance: -->
    <tr #alternate( false ) id="trattr578">
        <td class='text-column'>Education Performance</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 578 ) ) 
            <select id="attr578" name="attr578" class='#validate( "default"  $attribute.mandatory )'>
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 ##foreach ($option in $attribute.attributeOptions )
                    <!--<option value="$option.id" >$option.name</option>-->
                    <option value="579" >1</option>
                    <option value="580" >2</option>
                    <option value="581" >3</option>
                    <option value="582" >4</option>
                 ##end
            </select>
        </td>
    </tr>


	<tr><th colspan="6" class="heading-column">Child Priority Needs</th></tr>

    <!-- Patient Attribute : Child Priority Needs 1: -->
    <tr #alternate( false ) id="trattr583">
        <td class='text-column'>Child Priority Needs 1.</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 583 ) ) 
            <select id="attr583" name="attr583" class='#validate( "default"  $attribute.mandatory )'> 
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>

    <!-- Patient Attribute : Child Priority Needs 2: -->
    <tr #alternate( false ) id="trattr590">
        <td class='text-column'>Child Priority Needs 2.</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 590 ) ) 
            <select id="attr590" name="attr590" class='#validate( "default"  $attribute.mandatory )' > 
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>

    <!-- Patient Attribute : Child Priority Needs 3: -->
    <tr #alternate( false ) id="trattr597">
        <td class='text-column'>Child Priority Needs 3.</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 597 ) ) 
            <select id="attr597" name="attr597" class='#validate( "default"  $attribute.mandatory )' >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $attribute.attributeOptions )
                    <option value="$option.id" >$option.name</option>
                 #end
            </select>
        </td>
    </tr>

</table>

<br />
<table style="background-color:#EFFBEF;" width="100%">
    <tr>
        <td>&nbsp;&nbsp;</td>
        <td style="text-align:center;">
            <input type="submit" class="button" style="width:110px;" value="$i18n.getString( 'save' )"/>&nbsp;&nbsp;&nbsp;&nbsp;
            <input type="button" class="button" style="width:110px;" value="$i18n.getString( 'back' )" onclick="window.location.href='index.action'""/>
        </td>
    </tr>   
    
</table>



<table style="background-color:#ECE0F8;display:none;" width="100%">

<tr><th colspan="6" class="heading-column">G. Supervisor</th></tr>
    
    
    <!-- Patient Attribute : G. Supervisor: -->
    
    
     <tr #alternate( true ) id="trattr300" style='display:none' >
        <td class='text-column'>$i18n.getString( "supervisor" )</td>
        <td class="input-column">
            ##set( $attribute = $patientAttributeMap.get( 36 ) ) 
            <select id="attr300" name="attr300" >
                <option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
                 #foreach ($option in $employeeListSupervisior )
                    <option value="$option.code" >$option.code</option>
                 #end
            </select>
        </td>       
    </tr>    
    
    
    <!--
    <tr #alternate( false ) id="trattr300">
        <td class='text-column'>$i18n.getString( "supervisor" )</td>
        <td class="input-column" ><input type="text" id="attr300" name="attr300" /></td> 
    </tr>
    -->

    <tr #alternate( false ) id="trattr301" style='display:none' >
        <td class='text-column'>$i18n.getString( "ovc_status" )</td>
        <td class="input-column">
            #set( $attribute = $patientAttributeMap.get( 301 ) ) 
            <select id="attr301" name="attr301" >
            	<option value="302">$i18n.getString( "submitted" )</option>                 
            </select>
        </td>
    </tr>
    
    <br />
    <br />
    
    <!--
    <tr>
        <td></td>
        <td>
            <input type="submit" class="button" value="$i18n.getString( 'save' )"/>
            <input type="button" class="button" value="$i18n.getString( 'back' )" onclick="window.location.href='index.action'""/>
        </td>
    </tr>   
    -->
</table>
<table>
<tr style="display:none">
	
	<!--
    <td>
        <input type="text" id="registrationDate" name="registrationDate"/>
        <script type="text/javascript">
            datePickerValid( 'registrationDate', true );
        </script>    
    </td>
	-->
    <td>$i18n.getString( "orgid" )<input type="text" id="orgUnitId" name="orgUnitId" value="$!organisationUnit.id"/></td>
    <td>$i18n.getString( "programid" )<input type="text" id="programId" name="programId" value="$!program.id"/></td>
    <td>$i18n.getString( "stageid" )<input type="text" id="programStageId" name="programStageId" value="$!programStage.id"/></td>       
</tr>
</table>
<div id="validateOVCRegistrationInfo"></div>
</form>


<script type="text/javascript">
    var i18n_child_duplicate = '$encoder.jsEscape( $i18n.getString( "child_duplicate" ) , "'" )';
    var i18n_age_more_than_18_year = '$encoder.jsEscape( $i18n.getString( "age_more_than_18_year" ) , "'" )';
    
    childHIVPositive();
    
    specifyGovernmentName();
    specifyNGOName();
    specifyCBOName();
    specifyOthersName();
    
	
    /*
    function checkPriority( selectedId, selectedValue )
    {
    	alert( selectedId + " -- " + selectedValue );
    	
    	if( selectedId == "attr583" )
    	{
    		var selectedOptionIndex1 = document.getElementById("attr590").selectedIndex;
    		var selectedOptionIndex2 = document.getElementById("attr597").selectedIndex;
    		
	    	if( document.getElementById("attr590").options[ selectedOptionIndex1 ].value = selectedValue )
	    	{
	    		alert( "Priotiry Set for attr590 " );
	    		document.getElementById( selectedId ).options[ 0 ].selected = true; 
	    		return false;
	    	}
	    	else if( document.getElementById("attr597").options[ selectedOptionIndex2 ].value = selectedValue )
	    	{
	    		alert( "Priotiry Set for attr597 " );
	    		document.getElementById( selectedId ).options[ 0 ].selected = true;
	    		return false;
	    	}
	    }
	    else if( selectedId == "attr590")
	    {
	    	
	    	var selectedOptionIndex1 = document.getElementById("attr583").selectedIndex;
    		var selectedOptionIndex2 = document.getElementById("attr597").selectedIndex;
	    	
	    	
	    	if( document.getElementById("attr583").options[ selectedOptionIndex1 ].value = selectedValue )
	    	{
	    		alert( "Priotiry Set for attr583 " );
	    		document.getElementById( selectedId ).options[ 0 ].selected = true; 
	    		return false;
	    	}
	    	else if( document.getElementById("attr597").options[ selectedOptionIndex2 ].value = selectedValue )
	    	{
	    		alert( "Priotiry Set for attr597 " );
	    		document.getElementById( selectedId ).options[ 0 ].selected = true;
	    		return false;
	    	}

	    }
	    else if( selectedId == "attr597" )
	    {
	    	var selectedOptionIndex1 = document.getElementById("attr583").selectedIndex;
    		var selectedOptionIndex2 = document.getElementById("attr590").selectedIndex;
	    	
	    	if( document.getElementById("attr583").options[ selectedOptionIndex1 ].value = selectedValue )
	    	{
	    		alert( "Priotiry Set for attr583 " );
	    		document.getElementById( selectedId ).options[ 0 ].selected = true; 
	    		return false;
	    	}
	    	else if( document.getElementById("attr590").options[ selectedOptionIndex2 ].value = selectedValue )
	    	{
	    		alert( "Priotiry Set for attr590 " );
	    		document.getElementById( selectedId ).options[ 0 ].selected = true;
	    		return false;
	    	}

	    }
	    
	    	
    }
    onchange="checkPriority( this.id, this.value )"
    
    */


/*	
$(document).ready(function(){

	var selectElm = $("select"),
  	selectSorted = selectElm.find("option").toArray().sort(function (a, b) {
       return (a.innerHTML.toLowerCase() > b.innerHTML.toLowerCase()) ? 1 : -1;
   });
   
	selectElm.empty();
	jQuery.each(selectSorted, function (key, value) {
   	selectElm.append(value);
	});

});

*/

</script>

#else
    <h4>$status</h4>
#end

