<h3>$i18n.getString( "add_asha_profile" ) - $!organisationUnit.name</h3>


<script>
	jQuery(document).ready(	function(){

		currentDiv = 'addASHAProfileForm';
		checkedDuplicate = false;
		
		jQuery("#addASHAProfileForm").validate({
				 meta:"validate"
				,errorElement:"span"
				,submitHandler: function(form)
					{
						validateAddASHA();
					}
				,beforeValidateHandler: function(form)
					{
						var dobType = $('#addASHAProfileForm [id=dobType]').val();
						
						if( dobType=='V' || dobType=='D' ) 
						{
							var birthDate = $('#addASHAProfileForm [id=birthDate]').val();
							if( birthDate != '' ){
								$("#addASHAProfileForm [id=memberValidator]").val(birthDate);
							}
						}else{
							var age = $('#addASHAProfileForm [id=age]').val();
							$("#addASHAProfileForm [id=memberValidator]").val(age);
						}
					}
			});
		
		datePickerValid( 'addASHAProfileForm [id=registrationDate]' );
		datePickerValid( 'addASHAProfileForm [id=birthDate]' );
		addEventForASHAForm( 'addASHAProfileForm' );
	});	
	
</script>

<h4>$i18n.getString( "add_new_asha" )</h4>

<form id="addASHAProfileForm" name="addASHAProfileForm" method="post" >

<table>
	#parse( "/dhis-web-asha/ashaProfileForm.vm" )
	<tr>
		<td></td>
		<td>
			<input type="submit" class="button" value="$i18n.getString( 'add' )"/>
			<!--<input type="button" class="button" value="$i18n.getString( 'back_to_registration' )" onclick="javascript:callAction( 'getRegisteredASHAList' )"/>-->
			<input type="button" class="button" value="$i18n.getString( 'back_to_registration' )" onclick="window.location.href='selectASHA.action'"/>
		</td>
	</tr>
</table>

</form>

<!--
<script>
	var i18n_error_connect_to_server = '$encoder.jsEscape( $i18n.getString( "error_connect_to_server" ) , "'" )';
	var i18n_add_person_successfully = '$encoder.jsEscape( $i18n.getString( "add_person_successfully" ) , "'" )';
	
	var i18n_adding_asha_failed = '$encoder.jsEscape( $i18n.getString( "adding_asha_failed" ), "'")';
	var i18n_no_duplicate_found = '$encoder.jsEscape( $i18n.getString( "no_duplicate_found" ) , "'")';
	var i18n_asha_system_id = '$encoder.jsEscape( $i18n.getString( "asha_system_id" ) , "'")';
	var i18n_patient_full_name = '$encoder.jsEscape( $i18n.getString( "full_name" ) , "'")';
	var i18n_patient_gender = '$encoder.jsEscape( $i18n.getString( "gender" ) , "'")';
	var i18n_patient_date_of_birth = '$encoder.jsEscape( $i18n.getString( "date_of_birth" ) , "'")';
	var i18n_patient_age = '$encoder.jsEscape( $i18n.getString( "age" ) , "'")';
	var i18n_patient_phone_number = '$encoder.jsEscape( $i18n.getString( "phone_number" ) , "'")';
	var i18n_create_new_patient = '$encoder.jsEscape( $i18n.getString( "create_new_patient" ) , "'")';
	var i18n_duplicated_asha_list = '$encoder.jsEscape( $i18n.getString( "duplicated_asha_list" ) , "'")';
	var i18n_patient_attributes = '$encoder.jsEscape( $i18n.getString( "asha_attributes" ) , "'")';
	var i18n_duplicate_warning = '$encoder.jsEscape( $i18n.getString( "duplicate_warning" ) , "'")';
	var i18n_edit_this_patient = '$encoder.jsEscape( $i18n.getString( "edit_this_patient" ) , "'")';
	
	"alphanumericwithbasicpuncspaces" : true
	"required": true
	"rangelength" : [ 2,160 ]
	"digits" : true
	"number" : true
	"alphanumeric" : true
	
	
</script>
-->